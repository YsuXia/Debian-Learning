<map version="1.0.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1433813407807" ID="ID_1562618889" MODIFIED="1496409680113" TEXT="&#x8001;&#x7f57;&#x5b89;&#x5353;&#x4e4b;&#x65c5;">
<font BOLD="true" ITALIC="true" NAME="SansSerif" SIZE="14"/>
<node COLOR="#ff6666" CREATED="1433813443993" FOLDED="true" ID="ID_807162115" MODIFIED="1508830893934" POSITION="right">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1.android4.4&#28304;&#20195;&#30721;&#32534;&#35793;
    </p>
    <p>
      kernel&#28304;&#20195;&#30721;&#32534;&#35793;
    </p>
  </body>
</html></richcontent>
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1433813482436" ID="ID_89612854" MODIFIED="1433813491165" TEXT="android&#x6e90;&#x4ee3;&#x7801;&#x7f16;&#x8bd1;"/>
<node CREATED="1433813494355" FOLDED="true" ID="ID_1660476030" MODIFIED="1502794309286" TEXT="kernel&#x7f16;&#x8bd1;">
<node CREATED="1433813502803" FOLDED="true" ID="ID_126974958" MODIFIED="1502794308166" TEXT="&#x786e;&#x5b9a;emulator&#x5bf9;&#x5e94;&#x7684;kernel">
<node CREATED="1433813531531" ID="ID_673274706" MODIFIED="1433813540510" TEXT="1.&#x8fd0;&#x884c;&#x6a21;&#x62df;&#x5668;"/>
<node CREATED="1433813542938" ID="ID_574459761" MODIFIED="1433813549637" TEXT="2.&#x542f;&#x52a8;adb shell"/>
<node CREATED="1433813552243" ID="ID_972882700" MODIFIED="1435060107328" TEXT="3.cat /proc/version">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#25105;&#23433;&#35013;&#30340;4.4&#30340;&#28304;&#20195;&#30721;&#30340;&#27169;&#25311;&#22120;&#36755;&#20986;&#30340;&#20449;&#24687;&#26159;&#65306;
    </p>
    <p>
      Linux version 3.4.0-gd853d22(gcc version 4.6.x-google 20120106(prerelease)(GCC) ) #1 PREEMPT Tue Jul 9 17:46:46 PDT 2013
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
<node COLOR="#ff3399" CREATED="1433904174284" FOLDED="true" ID="ID_727268866" MODIFIED="1491040660765" POSITION="left" TEXT="2.&#x51c6;&#x5907;&#x5de5;&#x4f5c;">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1433904215764" ID="ID_1108537317" MODIFIED="1433904221039" TEXT="1.&#x667a;&#x80fd;&#x6307;&#x9488;">
<node CREATED="1433922098822" ID="ID_106756988" MODIFIED="1433922164691">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      java&#20869;&#23384;&#22238;&#25910;&#26426;&#21046;&#24403;&#20013;&#65306;
    </p>
    <p>
      &#24378;&#24341;&#29992;,Soft,Weak and
    </p>
    <p>
      phantom reference
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1433922206379" ID="ID_135881593" MODIFIED="1433922257599">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      apple cocoa&#26694;&#26550;:
    </p>
    <p>
      &#29238;&#23545;&#35937;&#24341;&#29992;&#23376;&#23545;&#35937;&#26102;&#20351;&#29992;&#24378;&#24341;&#29992;
    </p>
    <p>
      &#23376;&#23545;&#35937;&#24341;&#29992;&#29238;&#23545;&#35937;&#26102;&#20351;&#29992;&#24369;&#24341;&#29992;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1433922347462" ID="ID_316134386" MODIFIED="1435059742783">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="3">android&#20013;&#30340;&#26234;&#33021;&#25351;&#38024;&#65306; </font>
    </p>
    <p>
      <font color="#ff0000">&#23545;&#35937;&#25552;&#20379;&#24341;&#29992;&#35745;&#25968;&#22120;&#65292;&#20294;&#26159;&#19981;&#36127;&#36131;&#21435;&#31649;&#29702;&#23427;&#65307; </font>
    </p>
    <p>
      <font color="#ff0000">&#30001;&#26234;&#33021;&#25351;&#38024;&#23545;&#35937;&#26469;&#36127;&#36131;&#31649;&#29702;&#24341;&#29992;&#35745;&#25968;&#22120;</font><br />
    </p>
    <p>
      <font size="3">1.</font><font face="Arial" size="3" color="rgb(51, 51, 51)">&#23450;&#20041;&#19968;&#20010;&#36127;&#36131;&#25552;&#20379;&#24341;&#29992;&#35745;&#25968;&#22120;&#30340;&#20844;&#20849;&#31867; </font>
    </p>
    <p>
      <font face="Arial" size="3" color="rgb(51, 51, 51)">2.&#23454;&#29616;&#30456;&#24212;&#30340;&#26234;&#33021;&#25351;&#38024;&#23545;&#35937;&#31867;</font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1433922358754" ID="ID_2901464" MODIFIED="1434087873161">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1.&#36731;&#37327;&#32423;&#30340;&#26234;&#33021;&#25351;&#38024;&#65306;
    </p>
    <p>
      frameworks/rs/cpp/util
    </p>
  </body>
</html></richcontent>
<node CREATED="1434087953608" ID="ID_124748412" MODIFIED="1434348494999">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      lightRefBase:RefBase.h
    </p>
    <p>
      src/frameworks/rs/cpp/util
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1434088033600" ID="ID_158141013" MODIFIED="1434088057543">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      StrongPointer.h:
    </p>
    <p>
      class sp
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1434087591620" ID="ID_269236394" MODIFIED="1434348512346">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      2.&#24378;&#25351;&#38024;:sp
    </p>
    <p>
      src/system/core/libutils
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1434091176363" ID="ID_588741290" MODIFIED="1434418970424">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      3.&#24369;&#25351;&#38024;:wp
    </p>
    <p>
      frameworks/rs/cpp/util
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1434350115621" ID="ID_122677936" MODIFIED="1435060107362">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      4.class RefBase&#23545;&#35937;&#30340;&#23454;&#29616;
    </p>
    <p>
      src/system/core/libutils/RefBase.cpp
    </p>
  </body>
</html></richcontent>
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <i><font size="3">1.&#22312;RefBase&#30340;decstrong&#20989;&#25968;&#24403;&#20013;&#65292;&#22914;&#26524;&#24378;&#24341;&#29992;&#35745;&#25968;&#24050;&#32463;&#20026;0&#65292;&#24182;&#19988;&#35813;&#23545;&#35937;&#30340;&#22768;&#26126;&#21608;&#26399;&#26159;&#21463;&#21040;&#24378;&#24212;&#29992;&#35745;&#25968;&#25511;&#21046;&#30340;&#65292;&#37027;&#20040;&#20195;&#30721;&#20250;&#21024;&#38500;RefBase&#36825;&#20010;&#23545;&#35937;&#12290; </font></i>
    </p>
    <p>
      <i><font size="3">&#21024;&#38500;&#20043;&#21518;&#20250;&#26816;&#26597;mRefs&#25351;&#38024;&#25351;&#21521;&#30340;&#24369;&#24341;&#29992;&#35745;&#25968;&#20943;&#19968;&#20043;&#21518;&#26159;&#21542;&#20026;0&#65292;&#33509;&#19981;&#26159;0&#21017;&#36820;&#22238;&#65292;&#19981;&#21024;&#38500;weakref_impl&#36825;&#20010;&#23545;&#35937;&#65292;&#37027;&#20040;&#38382;&#39064;&#26469;&#20102;&#65292;&#26082;&#28982;RefBase&#37117;&#34987; </font></i>
    </p>
    <p>
      <i><font size="3">&#21024;&#38500;&#20102;&#65292;&#30041;&#19979;weakref_impl&#36824;&#26377;&#24847;&#20041;&#21527;&#65311; </font></i>
    </p>
    <p style="background-color: rgb(255, 255, 255); word-spacing: 0px; text-transform: none; font-style: normal; color: rgb(51, 51, 51); text-align: left; text-indent: 0px; letter-spacing: normal; font-family: Arial; font-variant: normal; white-space: normal; font-size: 14px; line-height: 26px; font-weight: normal">
      <em><i><font size="3"><strong>&#20998;&#26512;&#21040;&#36825;&#37324;&#65292;&#26377;&#24517;&#35201;&#23567;&#32467;&#19968;&#19979;&#65306;</strong></font></i></em>
    </p>
    <p style="background-color: rgb(255, 255, 255); word-spacing: 0px; text-transform: none; font-style: normal; color: rgb(51, 51, 51); text-align: left; text-indent: 0px; letter-spacing: normal; font-family: Arial; font-variant: normal; white-space: normal; font-size: 14px; line-height: 26px; font-weight: normal">
      <em><i><font size="3"><strong>A. &#22914;&#26524;&#23545;&#35937;&#30340;&#26631;&#24535;&#20301;&#34987;&#35774;&#32622;&#20026;0&#65292;&#37027;&#20040;&#21482;&#35201;&#21457;&#29616;&#23545;&#35937;&#30340;&#24378;&#24341;&#29992;&#35745;&#25968;&#20540;&#20026;0&#65292;&#37027;&#23601;&#20250;&#33258;&#21160;delete&#25481;&#36825;&#20010;&#23545;&#35937;&#65307; </strong></font></i></em>
    </p>
    <p style="background-color: rgb(255, 255, 255); word-spacing: 0px; text-transform: none; font-style: normal; color: rgb(51, 51, 51); text-align: left; text-indent: 0px; letter-spacing: normal; font-family: Arial; font-variant: normal; white-space: normal; font-size: 14px; line-height: 26px; font-weight: normal">
      <em><i><font size="3"><strong>&#65288;&#22914;&#26524;&#22312;&#24378;&#24341;&#29992;&#35745;&#25968;&#20026;0&#65292;&#21333;&#26159;&#21364;&#34987;&#24369;&#24341;&#29992;&#30340;&#24773;&#20917;&#65311;&#65289;</strong></font></i></em>
    </p>
    <p style="background-color: rgb(255, 255, 255); word-spacing: 0px; text-transform: none; font-style: normal; color: rgb(51, 51, 51); text-align: left; text-indent: 0px; letter-spacing: normal; font-family: Arial; font-variant: normal; white-space: normal; font-size: 14px; line-height: 26px; font-weight: normal">
      <em><i><font size="3">B. &#22914;&#26524;&#23545;&#35937;&#30340;&#26631;&#24535;&#20301;&#34987;&#35774;&#32622;&#20026;<strong>OBJECT_LIFETIME_WEAK&#65292;&#37027;&#20040;&#21482;&#26377;&#24403;&#23545;&#35937;&#30340;&#24378;&#24341;&#29992;&#35745;&#25968;&#21644;&#24369;&#24341;&#29992;&#35745;&#25968;&#37117;&#20026;0&#30340;&#26102;&#20505;&#65292;&#25165;&#20250;&#33258;&#21160;delete&#25481;&#36825;&#20010;&#23545;&#35937;&#65307;</strong></font></i></em>
    </p>
    <p style="background-color: rgb(255, 255, 255); word-spacing: 0px; text-transform: none; font-style: normal; color: rgb(51, 51, 51); text-align: left; text-indent: 0px; letter-spacing: normal; font-family: Arial; font-variant: normal; white-space: normal; font-size: 14px; line-height: 26px; font-weight: normal">
      <i><font size="3">C. &#22914;&#26524;&#23545;&#35937;&#30340;&#26631;&#24535;&#20301;&#34987;&#35774;&#32622;&#20026;<em><strong>OBJECT_LIFETIME_FOREVER&#65292;&#37027;&#20040;&#23545;&#35937;&#23601;&#27704;&#36828;&#19981;&#20250;&#33258;&#21160;&#34987;delete&#25481;&#65292;&#35841;new&#20986;&#26469;&#30340;&#23545;&#35937;&#35841;&#26469;delete&#25481;&#12290;</strong></em></font></i>
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1433990401855" ID="ID_1334121225" MODIFIED="1435060107372" TEXT="2.Android.mk&#x6587;&#x4ef6;&#x89e3;&#x6790;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#19968;&#20010;&#20363;&#23376;&#65306;
    </p>
    <p>
      LOCAL_PATH&#160;&#160;:= $(call my-dir)
    </p>
    <p>
      include $(CLEAR_VARS)
    </p>
    <p>
      LOCAL_MODULE := helloworld
    </p>
    <p>
      LOCAL_SRC_FILES := helloworld.c
    </p>
    <p>
      include $(BUILD_SHARED_LIBRARY)
    </p>
  </body>
</html></richcontent>
<node CREATED="1433990569504" ID="ID_720156100" MODIFIED="1433990609558">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      LOCAL_PATH&#29992;&#20110;&#36820;&#22238;&#24403;&#21069;&#30340;
    </p>
    <p>
      Android.mk&#22312;&#28304;&#20195;&#30721;&#26641;&#24403;&#20013;&#30340;&#20301;&#32622;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1433990613776" ID="ID_957126907" MODIFIED="1433990738873" TEXT="CLEAR_VARS&#x6307;&#x5b9a;&#x8ba9;GNU MAKEFILE&#x6e05;&#x9664;&#x8bb8;&#x591a;LOCAL&#x53d8;&#x91cf;"/>
<node CREATED="1433990744278" ID="ID_1462492100" MODIFIED="1433990903108">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22312;android&#20013;&#22686;&#21152;&#26412;&#22320;&#31243;&#24207;&#25110;&#32773;&#24211;
    </p>
    <p>
      &#36825;&#20123;&#24211;&#36319;&#23427;&#25152;&#36733;&#36335;&#24452;&#27809;&#26377;&#20219;&#20309;&#20851;&#31995;
    </p>
    <p>
      &#21482;&#36319;Android.mk&#26377;&#20851;&#31995;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node COLOR="#ff3399" CREATED="1434595137079" FOLDED="true" ID="ID_952755098" MODIFIED="1508830435467" POSITION="right" TEXT="3.android&#x786c;&#x4ef6;&#x62bd;&#x8c61;&#x5c42;&#x7684;&#x7f16;&#x5199;">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1434595402842" ID="ID_11414605" MODIFIED="1435563673556" TEXT="1.&#x5728;&#x5185;&#x6838;&#x6e90;&#x4ee3;&#x7801;&#x5f53;&#x4e2d;&#x6dfb;&#x52a0;&#x9a71;&#x52a8;&#x7a0b;&#x5e8f;">
<node CREATED="1434595511258" ID="ID_402416564" MODIFIED="1434595693868">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1.&#36827;&#20837;&#21040;kernel/common/drivers&#30446;&#24405;&#24403;&#20013;&#65292;&#22312;&#35813;&#30446;&#24405;&#19979;&#38754;&#26032;&#24314;hello&#30446;&#24405;
    </p>
    <p>
      &#160;&#160;&#160;&#26032;&#24314;hello.h&#21644;hello.c&#25991;&#20214;&#29992;&#20110;&#22768;&#26126;&#39537;&#21160;&#30340;&#22836;&#25991;&#20214;&#21644;&#30456;&#20851;&#30340;&#23454;&#29616;&#25991;&#20214;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1434595736841" ID="ID_1468130062" MODIFIED="1434604410750">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="3">2.&#22312;hello&#30446;&#24405;&#24403;&#20013;&#26032;&#22686;Kconfig&#21644;Makefile&#25991;&#20214; </font>
    </p>
    <p>
      <font face="monospace" color="rgb(51, 51, 51)" size="3">&#160;Kconfig&#26159;&#22312;&#32534;&#35793;&#21069;&#25191;&#34892;&#37197;&#32622;&#21629;&#20196;make menuconfig&#26102;&#29992;&#21040;&#30340;&#65292; </font>
    </p>
    <p>
      <font face="monospace" color="rgb(51, 51, 51)" size="3">&#160;&#32780;Makefile&#26159;&#25191;&#34892;&#32534;&#35793;&#21629;&#20196;make&#26102;&#29992;&#21040;&#30340;</font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1434604355882" ID="ID_630224235" MODIFIED="1434604407847">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="3">Kconfig&#25991;&#20214;&#24403;&#20013;&#30340;&#20869;&#23481; </font>
    </p>
    <div style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3" face="Verdana">config HELLO</font>
    </div>
    <div style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3" face="Verdana">tristate &quot;First Android Driver&quot;</font>
    </div>
    <div style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3" face="Verdana">default n</font>
    </div>
    <div style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3" face="Verdana">help</font>
    </div>
    <div style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3" face="Verdana">This is the first android driver.</font>
    </div>
  </body>
</html></richcontent>
</node>
<node CREATED="1434604424632" ID="ID_585090467" MODIFIED="1434605238958">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font face="Verdana" color="rgb(51, 51, 51)" size="3">Makefile: </font>
    </p>
    <p>
      <font face="Verdana" color="rgb(51, 51, 51)" size="3">obj-$(CONFIG_HELLO) += hello.o</font>
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1434604226011" ID="ID_1949185781" MODIFIED="1434605400880">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <div style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3" face="Verdana">3.&#20462;&#25913;arch/arm/Kconfig&#21644;drivers/kconfig&#20004;&#20010;&#25991;&#20214;, &#22312;menu &quot;Device Drivers&quot;&#21644;endmenu&#20043;&#38388;&#28155;&#21152;&#19968;&#34892;&#65306;</font>
    </div>
    <div style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3"><strong>source &quot;drivers/hello/Kconfig&quot;</strong></font>
    </div>
  </body>
</html></richcontent>
</node>
<node CREATED="1434605359082" ID="ID_589780438" MODIFIED="1434605392267">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <div style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3">4.&#20462;&#25913;drivers/Makefile&#25991;&#20214;&#65292;&#28155;&#21152;&#19968;&#34892;&#65306; </font>
    </div>
    <div style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3">&#160;&#160;&#160;&#160;<strong>obj-$(CONFIG_HELLO) += hello/</strong> </font>
    </div>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1434605582177" ID="ID_430396361" MODIFIED="1435226974703" TEXT="2.&#x5728;android&#x6e90;&#x4ee3;&#x7801;&#x5f53;&#x4e2d;&#x6dfb;&#x52a0;&#x8bbf;&#x95ee;&#x9a71;&#x52a8;&#x7684;c&#x7a0b;&#x5e8f;">
<node CREATED="1434605608439" ID="ID_1677340563" MODIFIED="1434605619064" TEXT="1.&#x5728;external&#x76ee;&#x5f55;&#x4e0b;&#x9762;&#x65b0;&#x5efa;hello&#x6587;&#x4ef6;&#x5939;"/>
<node CREATED="1434605627465" ID="ID_288260143" MODIFIED="1434605655467">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      2.&#22312;hello&#25991;&#20214;&#22841;&#19979;&#38754;&#26032;&#24314;hello.c&#25991;&#20214;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1434605670741" ID="ID_584076071" MODIFIED="1434605754269">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="3">3.&#22312;hello&#30446;&#24405;&#24403;&#20013;&#26032;&#24314;Android.mk&#25991;&#20214; </font>
    </p>
    <p style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3"><strong>&#160;&#160;&#160;&#160;LOCAL_PATH := $(call my-dir)</strong>&#160; </font>
    </p>
    <p style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3"><strong>&#160;&#160;&#160;&#160;include $(CLEAR_VARS)</strong>&#160; </font>
    </p>
    <p style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3"><strong>&#160;&#160;&#160;&#160;LOCAL_MODULE_TAGS := optional</strong>&#160; </font>
    </p>
    <p style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3"><strong>&#160;&#160;&#160;&#160;LOCAL_MODULE := hello</strong>&#160; </font>
    </p>
    <p style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3"><strong>&#160;&#160;&#160;&#160;LOCAL_SRC_FILES := $(call all-subdir-c-files)</strong>&#160; </font>
    </p>
    <p style="text-transform: none; font-weight: normal; color: rgb(51, 51, 51); font-variant: normal; text-indent: 0px; background-color: rgb(255, 255, 255); text-align: left; font-style: normal; word-spacing: 0px; font-size: 13.63636302947998px; font-family: Arial; white-space: normal; letter-spacing: normal; line-height: 25.99431800842285px">
      <font size="3"><strong>&#160;&#160;&#160;&#160;include $(BUILD_EXECUTABLE)</strong>&#160; </font>
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1435048084022" ID="ID_1163696792" MODIFIED="1435210726058" TEXT="android&#x786c;&#x4ef6;&#x62bd;&#x8c61;&#x5c42;&#x63a5;&#x53e3;&#x89c4;&#x8303;">
<node CREATED="1435048118699" ID="ID_980174054" MODIFIED="1435048352054" TEXT="1.struct hw_module_t;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <p>
      typedef struct hw_module_t {
    </p>
    <p>
      uint32_t tag;
    </p>
    <p>
      uint16_t module_api_version;
    </p>
    <p>
      #define version_major module_api_version
    </p>
    <p>
      uint16_t hal_api_version;
    </p>
    <p>
      #define version_minor hal_api_version
    </p>
    <p>
      const char *id;
    </p>
    <p>
      const char *name;
    </p>
    <p>
      const char *author;
    </p>
    <p>
      struct hw_module_methods_t* methods;
    </p>
    <p>
      &#160;void* dso;
    </p>
    <p>
      uint32_t reserved[32-7];
    </p>
    <p>
      } hw_module_t;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1435048148226" ID="ID_1066273147" MODIFIED="1435048395209" TEXT="2.struct hw_module_methods_t;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <p>
      152 typedef struct hw_module_methods_t {
    </p>
    <p>
      153&#160;&#160;&#160;&#160;&#160;/** Open a specific device */
    </p>
    <p>
      154&#160;&#160;&#160;&#160;&#160;int (*open)(const struct hw_module_t* module, const char* id,
    </p>
    <p>
      155&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct hw_device_t** device);
    </p>
    <p>
      156
    </p>
    <p>
      157 } hw_module_methods_t;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1435048162958" ID="ID_149899466" MODIFIED="1435048677062" TEXT="3.struct hw_device_t;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <p>
      typedef struct hw_device_t {
    </p>
    <p>
      uint32_t tag;
    </p>
    <p>
      uint32_t version;
    </p>
    <p>
      struct hw_module_t* module;
    </p>
    <p>
      uint32_t reserved[12];
    </p>
    <p>
      int (*close)(struct hw_device_t* device);
    </p>
    <p>
      &#160;} hw_device_t;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1435059904659" ID="ID_389991330" MODIFIED="1435059916240" TEXT="3.&#x5177;&#x4f53;&#x7684;&#x62bd;&#x8c61;&#x5c42;&#x4ee3;&#x7801;&#x5b9e;&#x73b0;">
<node CREATED="1435059933770" ID="ID_1644178129" MODIFIED="1435060214957" TEXT="1.&#x4e00;&#x4e9b;&#x5934;&#x6587;&#x4ef6;&#x7684;&#x5f15;&#x7528;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <ol class="dp-cpp" style="border-bottom-style: none; line-height: 25.99431800842285px; font-style: normal; font-size: 11.818181991577148px; border-left-style: none; margin-left: 45px; border-left-width: medium; font-weight: normal; padding-bottom: 0px; white-space: normal; font-variant: normal; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; text-transform: none; background-color: rgb(255, 255, 255); border-bottom-width: medium; word-spacing: 0px; letter-spacing: normal; color: rgb(92, 92, 92); text-align: left; list-style: decimal; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; font-family: Consolas, Courier New, Courier, mono, serif; margin-bottom: 1px; text-indent: 0px" start="1">
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="gray" size="2">#define&#160;LOG_TAG&#160;&quot;HelloStub&quot;</font><font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="gray" size="2">#include&#160;&lt;hardware/hardware.h&gt;</font><font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="gray" size="2">#include&#160;&lt;hardware/hello.h&gt;</font><font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="gray" size="2">#include&#160;&lt;fcntl.h&gt;</font><font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="gray" size="2">#include&#160;&lt;errno.h&gt;</font><font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="gray" size="2">#include&#160;&lt;cutils/log.h&gt;</font><font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="gray" size="2">#include&#160;&lt;cutils/atomic.h&gt;</font><font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="gray" size="2">#define&#160;DEVICE_NAME&#160;&quot;/dev/hello&quot;</font><font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="gray" size="2">#define&#160;MODULE_NAME&#160;&quot;Hello&quot;</font><font color="black" size="2">&#160;&#160;</font>
      </li>
    </ol>
  </body>
</html></richcontent>
</node>
<node CREATED="1435060219368" ID="ID_636209932" MODIFIED="1435060247429" TEXT="2.&#x4e00;&#x4e9b;&#x51fd;&#x6570;&#x7684;&#x58f0;&#x660e;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <ol class="dp-cpp" style="border-bottom-style: none; line-height: 25.99431800842285px; font-style: normal; font-size: 11.818181991577148px; border-left-style: none; margin-left: 45px; border-left-width: medium; font-weight: normal; padding-bottom: 0px; white-space: normal; font-variant: normal; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; text-transform: none; background-color: rgb(255, 255, 255); border-bottom-width: medium; word-spacing: 0px; letter-spacing: normal; color: rgb(92, 92, 92); text-align: left; list-style: decimal; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; font-family: Consolas, Courier New, Courier, mono, serif; margin-bottom: 1px; text-indent: 0px" start="1">
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <b><font color="rgb(0, 102, 153)" size="2">static</font></b><font color="black" size="2">&#160;</font><b><font color="rgb(46, 139, 87)" size="2">int</font></b><font color="black" size="2">&#160;hello_device_open(</font><b><font color="rgb(0, 102, 153)" size="2">const</font></b><font color="black" size="2">&#160;</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hw_module_t*&#160;module,&#160;</font><b><font color="rgb(0, 102, 153)" size="2">const</font></b><font color="black" size="2">&#160;</font><b><font color="rgb(46, 139, 87)" size="2">char</font></b><font color="black" size="2">*&#160;name,&#160;</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hw_device_t**&#160;device);&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <b><font color="rgb(0, 102, 153)" size="2">static</font></b><font color="black" size="2">&#160;</font><b><font color="rgb(46, 139, 87)" size="2">int</font></b><font color="black" size="2">&#160;hello_device_close(</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hw_device_t*&#160;device);&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="rgb(0, 130, 0)" size="2">/*&#35774;&#22791;&#35775;&#38382;&#25509;&#21475;*/</font><font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <b><font color="rgb(0, 102, 153)" size="2">static</font></b><font color="black" size="2">&#160;</font><b><font color="rgb(46, 139, 87)" size="2">int</font></b><font color="black" size="2">&#160;hello_set_val(</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hello_device_t*&#160;dev,&#160;</font><b><font color="rgb(46, 139, 87)" size="2">int</font></b><font color="black" size="2">&#160;val);&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <b><font color="rgb(0, 102, 153)" size="2">static</font></b><font color="black" size="2">&#160;</font><b><font color="rgb(46, 139, 87)" size="2">int</font></b><font color="black" size="2">&#160;hello_get_val(</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hello_device_t*&#160;dev,&#160;</font><b><font color="rgb(46, 139, 87)" size="2">int</font></b><font color="black" size="2">*&#160;val);&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="rgb(0, 130, 0)" size="2">/*&#27169;&#22359;&#26041;&#27861;&#34920;*/</font><font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <b><font color="rgb(0, 102, 153)" size="2">static</font></b><font color="black" size="2">&#160;</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hw_module_methods_t&#160;hello_module_methods&#160;=&#160;{&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;open:&#160;hello_device_open&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">};&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="rgb(0, 130, 0)" size="2">/*&#27169;&#22359;&#23454;&#20363;&#21464;&#37327;*/</font><font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hello_module_t&#160;HAL_MODULE_INFO_SYM&#160;=&#160;{&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;common:&#160;{&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tag:&#160;HARDWARE_MODULE_TAG,&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;version_major:&#160;1,&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;version_minor:&#160;0,&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;id:&#160;HELLO_HARDWARE_MODULE_ID,&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;name:&#160;MODULE_NAME,&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;author:&#160;MODULE_AUTHOR,&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;methods:&#160;&amp;hello_module_methods,&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;}&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">};&#160;&#160;</font>
      </li>
    </ol>
  </body>
</html></richcontent>
<node CREATED="1435060469306" ID="ID_523661913" MODIFIED="1435060496456" TEXT="hello_device_open&#x5b9e;&#x73b0;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <ol class="dp-cpp" style="border-bottom-style: none; line-height: 25.99431800842285px; font-style: normal; font-size: 11.818181991577148px; border-left-style: none; margin-left: 45px; border-left-width: medium; font-weight: normal; padding-bottom: 0px; white-space: normal; font-variant: normal; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; text-transform: none; background-color: rgb(255, 255, 255); border-bottom-width: medium; word-spacing: 0px; letter-spacing: normal; color: rgb(92, 92, 92); text-align: left; list-style: decimal; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; font-family: Consolas, Courier New, Courier, mono, serif; margin-bottom: 1px; text-indent: 0px" start="1">
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <b><font color="rgb(0, 102, 153)" size="2">static</font></b><font color="black" size="2">&#160;</font><b><font color="rgb(46, 139, 87)" size="2">int</font></b><font color="black" size="2">&#160;hello_device_open(</font><b><font color="rgb(0, 102, 153)" size="2">const</font></b><font color="black" size="2">&#160;</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hw_module_t*&#160;module,&#160;</font><b><font color="rgb(0, 102, 153)" size="2">const</font></b><font color="black" size="2">&#160;</font><b><font color="rgb(46, 139, 87)" size="2">char</font></b><font color="black" size="2">*&#160;name,&#160;</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hw_device_t**&#160;device)&#160;{&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hello_device_t*&#160;dev;dev&#160;=&#160;(</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hello_device_t*)malloc(</font><b><font color="rgb(0, 102, 153)" size="2">sizeof</font></b><font color="black" size="2">(</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hello_device_t));&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;</font><b><font color="rgb(0, 102, 153)" size="2">if</font></b><font color="black" size="2">(!dev)&#160;{&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LOGE(</font><font color="blue" size="2">&quot;Hello&#160;Stub:&#160;failed&#160;to&#160;alloc&#160;space&quot;</font><font color="black" size="2">);&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font><b><font color="rgb(0, 102, 153)" size="2">return</font></b><font color="black" size="2">&#160;-EFAULT;&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;}&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;memset(dev,&#160;0,&#160;</font><b><font color="rgb(0, 102, 153)" size="2">sizeof</font></b><font color="black" size="2">(</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hello_device_t));&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;dev-&gt;common.tag&#160;=&#160;HARDWARE_DEVICE_TAG;&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;dev-&gt;common.version&#160;=&#160;0;&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;dev-&gt;common.module&#160;=&#160;(hw_module_t*)module;&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;dev-&gt;common.close&#160;=&#160;hello_device_close;&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;dev-&gt;set_val&#160;=&#160;hello_set_val;dev-&gt;get_val&#160;=&#160;hello_get_val;&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;</font><b><font color="rgb(0, 102, 153)" size="2">if</font></b><font color="black" size="2">((dev-&gt;fd&#160;=&#160;open(DEVICE_NAME,&#160;O_RDWR))&#160;==&#160;-1)&#160;{&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LOGE(</font><font color="blue" size="2">&quot;Hello&#160;Stub:&#160;failed&#160;to&#160;open&#160;/dev/hello&#160;--&#160;%s.&quot;</font><font color="black" size="2">,&#160;strerror(errno));free(dev);&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font><b><font color="rgb(0, 102, 153)" size="2">return</font></b><font color="black" size="2">&#160;-EFAULT;&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;}&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;*device&#160;=&#160;&amp;(dev-&gt;common);&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;LOGI(</font><font color="blue" size="2">&quot;Hello&#160;Stub:&#160;open&#160;/dev/hello&#160;successfully.&quot;</font><font color="black" size="2">);&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;</font><b><font color="rgb(0, 102, 153)" size="2">return</font></b><font color="black" size="2">&#160;0;&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">}&#160;&#160;</font>
      </li>
    </ol>
  </body>
</html></richcontent>
</node>
<node CREATED="1435061183852" ID="ID_911523965" MODIFIED="1435061210686" TEXT="hello_device_close&#x5b9e;&#x73b0;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <ol class="dp-cpp" style="border-bottom-style: none; line-height: 25.99431800842285px; font-style: normal; font-size: 11.818181991577148px; border-left-style: none; margin-left: 45px; border-left-width: medium; font-weight: normal; padding-bottom: 0px; white-space: normal; font-variant: normal; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; text-transform: none; background-color: rgb(255, 255, 255); border-bottom-width: medium; word-spacing: 0px; letter-spacing: normal; color: rgb(92, 92, 92); text-align: left; list-style: decimal; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; font-family: Consolas, Courier New, Courier, mono, serif; margin-bottom: 1px; text-indent: 0px" start="1">
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">static</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;</font></span><span class="datatypes" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(46, 139, 87); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(46, 139, 87)" size="2">int</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;hello_device_close(</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">struct</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;hw_device_t*&#160;device)&#160;{&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">struct</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;hello_device_t*&#160;hello_device&#160;=&#160;(</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">struct</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;hello_device_t*)device;&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">if</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">(hello_device)&#160;{&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;close(hello_device-&gt;fd);&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;free(hello_device);&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;}&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">return</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;0;&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">}&#160;&#160;</font></span>
      </li>
    </ol>
  </body>
</html></richcontent>
</node>
<node CREATED="1435061227355" ID="ID_620848857" MODIFIED="1435061246868" TEXT="hello_set_val&#x5b9e;&#x73b0;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <ol class="dp-cpp" style="border-bottom-style: none; line-height: 25.99431800842285px; font-style: normal; font-size: 11.818181991577148px; border-left-style: none; margin-left: 45px; border-left-width: medium; font-weight: normal; padding-bottom: 0px; white-space: normal; font-variant: normal; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; text-transform: none; background-color: rgb(255, 255, 255); border-bottom-width: medium; word-spacing: 0px; letter-spacing: normal; color: rgb(92, 92, 92); text-align: left; list-style: decimal; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; font-family: Consolas, Courier New, Courier, mono, serif; margin-bottom: 1px; text-indent: 0px" start="1">
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <b><font color="rgb(0, 102, 153)" size="2">static</font></b><font color="black" size="2">&#160;</font><b><font color="rgb(46, 139, 87)" size="2">int</font></b><font color="black" size="2">&#160;hello_set_val(</font><b><font color="rgb(0, 102, 153)" size="2">struct</font></b><font color="black" size="2">&#160;hello_device_t*&#160;dev,&#160;</font><b><font color="rgb(46, 139, 87)" size="2">int</font></b><font color="black" size="2">&#160;val)&#160;{&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;LOGI(</font><font color="blue" size="2">&quot;Hello&#160;Stub:&#160;set&#160;value&#160;%d&#160;to&#160;device.&quot;</font><font color="black" size="2">,&#160;val);&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;write(dev-&gt;fd,&#160;&amp;val,&#160;</font><b><font color="rgb(0, 102, 153)" size="2">sizeof</font></b><font color="black" size="2">(val));&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;</font>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">&#160;&#160;&#160;&#160;</font><b><font color="rgb(0, 102, 153)" size="2">return</font></b><font color="black" size="2">&#160;0;&#160;&#160;</font>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <font color="black" size="2">}&#160;&#160;</font>
      </li>
    </ol>
  </body>
</html></richcontent>
</node>
<node CREATED="1435061259477" ID="ID_1615242487" MODIFIED="1435061273100" TEXT="hello_get_val&#x5b9e;&#x73b0;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <ol class="dp-cpp" style="border-bottom-style: none; line-height: 25.99431800842285px; font-style: normal; font-size: 11.818181991577148px; border-left-style: none; margin-left: 45px; border-left-width: medium; font-weight: normal; padding-bottom: 0px; white-space: normal; font-variant: normal; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; text-transform: none; background-color: rgb(255, 255, 255); border-bottom-width: medium; word-spacing: 0px; letter-spacing: normal; color: rgb(92, 92, 92); text-align: left; list-style: decimal; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; font-family: Consolas, Courier New, Courier, mono, serif; margin-bottom: 1px; text-indent: 0px" start="1">
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">static</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;</font></span><span class="datatypes" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(46, 139, 87); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(46, 139, 87)" size="2">int</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;hello_get_val(</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">struct</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;hello_device_t*&#160;dev,&#160;</font></span><span class="datatypes" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(46, 139, 87); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(46, 139, 87)" size="2">int</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">*&#160;val)&#160;{&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">if</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">(!val)&#160;{&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LOGE(</font></span><span class="string" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: blue; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="blue" size="2">&quot;Hello&#160;Stub:&#160;error&#160;val&#160;pointer&quot;</font></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">);&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">return</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;-EFAULT;&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;}&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;read(dev-&gt;fd,&#160;val,&#160;</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">sizeof</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">(*val));&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;LOGI(</font></span><span class="string" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: blue; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="blue" size="2">&quot;Hello&#160;Stub:&#160;get&#160;value&#160;%d&#160;from&#160;device&quot;</font></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">,&#160;*val);&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">return</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;0;&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">}&#160;&#160;</font></span>
      </li>
    </ol>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1435060539633" ID="ID_554815684" MODIFIED="1435060568425" TEXT="4.&#x62bd;&#x8c61;&#x5c42;&#x4ee3;&#x7801;&#x5934;&#x6587;&#x4ef6;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <ol class="dp-cpp" style="border-bottom-style: none; line-height: 25.99431800842285px; font-style: normal; font-size: 11.818181991577148px; border-left-style: none; margin-left: 45px; border-left-width: medium; font-weight: normal; padding-bottom: 0px; white-space: normal; font-variant: normal; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; text-transform: none; background-color: rgb(255, 255, 255); border-bottom-width: medium; word-spacing: 0px; letter-spacing: normal; color: rgb(92, 92, 92); text-align: left; list-style: decimal; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; font-family: Consolas, Courier New, Courier, mono, serif; margin-bottom: 1px; text-indent: 0px" start="1">
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span class="preprocessor" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: gray; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="gray" size="2">#ifndef&#160;ANDROID_HELLO_INTERFACE_H</font></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span class="preprocessor" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: gray; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="gray" size="2">#define&#160;ANDROID_HELLO_INTERFACE_H</font></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span class="preprocessor" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: gray; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="gray" size="2">#include&#160;&lt;hardware/hardware.h&gt;</font></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">__BEGIN_DECLS&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span class="comment" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 130, 0); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="rgb(0, 130, 0)" size="2">/*&#23450;&#20041;&#27169;&#22359;ID*/</font></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span class="preprocessor" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: gray; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="gray" size="2">#define&#160;HELLO_HARDWARE_MODULE_ID&#160;&quot;hello&quot;</font></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span class="comment" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 130, 0); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="rgb(0, 130, 0)" size="2">/*&#30828;&#20214;&#27169;&#22359;&#32467;&#26500;&#20307;*/</font></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">struct</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;hello_module_t&#160;{&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">struct</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;hw_module_t&#160;common;&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">};&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span class="comment" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 130, 0); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="rgb(0, 130, 0)" size="2">/*&#30828;&#20214;&#25509;&#21475;&#32467;&#26500;&#20307;*/</font></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">struct</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;hello_device_t&#160;{&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">struct</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;hw_device_t&#160;common;&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;</font></span><span class="datatypes" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(46, 139, 87); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(46, 139, 87)" size="2">int</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;fd;&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;</font></span><span class="datatypes" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(46, 139, 87); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(46, 139, 87)" size="2">int</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;(*set_val)(</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">struct</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;hello_device_t*&#160;dev,&#160;</font></span><span class="datatypes" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(46, 139, 87); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(46, 139, 87)" size="2">int</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;val);&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;&#160;&#160;</font></span><span class="datatypes" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(46, 139, 87); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(46, 139, 87)" size="2">int</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;(*get_val)(</font></span><span class="keyword" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(0, 102, 153); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(0, 102, 153)" size="2">struct</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;hello_device_t*&#160;dev,&#160;</font></span><span class="datatypes" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; font-weight: bold; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: rgb(46, 139, 87); padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><b><font color="rgb(46, 139, 87)" size="2">int</font></b></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">*&#160;val);&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">};&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">__END_DECLS&#160;&#160;</font></span>
      </li>
      <li class="" style="background-color: rgb(248, 248, 248); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: rgb(92, 92, 92); margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
      <li class="alt" style="background-color: rgb(255, 255, 255); margin-top: 0px; padding-left: 10px; border-left-width: 3px; color: black; margin-left: 0; border-bottom-style: none; border-top-style: none; border-left-color: rgb(108, 226, 108); margin-right: 0; padding-right: 3px; padding-bottom: 0px; list-style: decimal-leading-zero outside; padding-top: 0px; margin-bottom: 0px; border-left-style: solid; line-height: 17.27272605895996px; border-right-style: none">
        <span class="preprocessor" style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: gray; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="gray" size="2">#endif</font></span><span style="border-bottom-style: none; border-left-style: none; margin-left: 0px; border-left-width: medium; padding-bottom: 0px; border-right-width: medium; margin-top: 0px; padding-right: 0px; padding-left: 0px; border-right-style: none; border-bottom-width: medium; color: black; padding-top: 0px; border-top-width: medium; border-top-style: none; margin-right: 0px; margin-bottom: 0px"><font color="black" size="2">&#160;&#160;</font></span>
      </li>
    </ol>
  </body>
</html></richcontent>
</node>
<node COLOR="#ff9900" CREATED="1435211139629" ID="ID_957552785" MODIFIED="1435211187081" TEXT="5.&#x7f16;&#x8bd1;&#x62bd;&#x8c61;&#x5c42;&#x4ee3;&#x7801;&#x7684;&#x8fc7;&#x7a0b;">
<node CREATED="1435211154966" ID="ID_1009475389" MODIFIED="1435211170843" TEXT="&#x5728;hardware/libhardware/include/hardware&#x76ee;&#x5f55;&#xff0c;&#x65b0;&#x5efa;hello.h&#x6587;&#x4ef6;"/>
<node CREATED="1435211217409" ID="ID_366692247" MODIFIED="1435215081114" TEXT="hardware/libhardware/modules&#x76ee;&#x5f55;&#xff0c;&#x65b0;&#x5efa;hello&#x76ee;&#x5f55;&#xff0c;&#x5e76;&#x6dfb;&#x52a0;hello.c&#x6587;&#x4ef6;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="3">&#22312;hello.c&#25991;&#20214;&#24403;&#20013;&#23450;&#20041;&#20102;2&#20010;&#24456;&#37325;&#35201;&#30340;&#21464;&#37327; </font>
    </p>
    <ol style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; text-indent: 0px; color: rgb(92, 92, 92); margin-right: 0px; font-family: Consolas, Courier New, Courier, mono, serif; border-top-style: none; border-right-style: none; font-variant: normal; border-bottom-width: medium; text-align: left; font-size: 11.818181991577148px; margin-bottom: 1px; line-height: 25.99431800842285px; margin-left: 45px; font-weight: normal; border-right-width: medium; padding-top: 0px; list-style: decimal; text-transform: none; border-left-style: none; padding-right: 0px; letter-spacing: normal; background-color: rgb(255, 255, 255); white-space: normal; word-spacing: 0px; border-top-width: medium; border-left-width: medium; font-style: normal; margin-top: 0px" start="1" class="dp-cpp">
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <b><font size="3" color="rgb(0, 102, 153)">static</font></b><font size="3" color="black">&#160;</font><b><font size="3" color="rgb(0, 102, 153)">struct</font></b><font size="3" color="black">&#160;hw_module_methods_t&#160;hello_module_methods&#160;=&#160;{&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <font size="3" color="black">&#160;&#160;&#160;&#160;open:&#160;hello_device_open&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <font size="3" color="black">};&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <font size="3" color="black">&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <font size="3" color="rgb(0, 130, 0)">/*&#27169;&#22359;&#23454;&#20363;&#21464;&#37327;*/</font><font size="3" color="black">&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <b><font size="3" color="rgb(0, 102, 153)">struct</font></b><font size="3" color="black">&#160;hello_module_t&#160;HAL_MODULE_INFO_SYM&#160;=&#160;{&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <font size="3" color="black">&#160;&#160;&#160;&#160;common:&#160;{&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <font size="3" color="black">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tag:&#160;HARDWARE_MODULE_TAG,&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <font size="3" color="black">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;version_major:&#160;1,&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <font size="3" color="black">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;version_minor:&#160;0,&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <font size="3" color="black">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font><b><font size="3" color="#ff3366"><i>&#160;id:&#160;HELLO_HARDWARE_MODULE_ID</i></font></b><font size="3" color="black">,&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <font size="3" color="black">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;name:&#160;MODULE_NAME,&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <font size="3" color="black">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;author:&#160;MODULE_AUTHOR,&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <font size="3" color="black">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;methods:&#160;&amp;hello_module_methods,&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <font size="3" color="black">&#160;&#160;&#160;&#160;}&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <font size="3" color="black">};&#160;&#160;</font>
      </li>
    </ol>
    <p>
      <font size="3" color="rgb(51, 51, 51)" face="Arial">Android&#30828;&#20214;&#25277;&#35937;&#23618;&#20250;&#26681;&#25454;HELLO_HARDWARE_MODULE_ID&#30340;&#20540;&#22312;Android&#31995;&#32479;&#30340;/system/lib/hw&#30446;&#24405;&#20013;&#25214;&#21040;&#30456;&#24212;&#30340;&#27169;&#22359;&#65292; </font>
    </p>
    <p>
      <font size="3" color="rgb(51, 51, 51)" face="Arial">&#28982;&#21518;&#21152;&#36733;&#36215;&#26469;&#65292;&#24182;&#19988;&#36820;&#22238;hw_module_t&#25509;&#21475;&#32473;&#35843;&#29992;&#32773;&#20351;&#29992;&#12290;</font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1435211414400" ID="ID_1638405901" MODIFIED="1435211444460" TEXT="&#x5728;hello&#x76ee;&#x5f55;&#x4e0b;&#x65b0;&#x5efa;Android.mk&#x6587;&#x4ef6;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <div style="text-align: left; text-transform: none; font-weight: normal; white-space: normal; background-color: rgb(255, 255, 255); line-height: 25.99431800842285px; letter-spacing: normal; font-size: 13.63636302947998px; word-spacing: 0px; font-variant: normal; font-family: Arial; font-style: normal; color: rgb(51, 51, 51); text-indent: 0px">
      <font size="3">&#160;<strong>LOCAL_PATH := $(call my-dir)</strong> </font>
    </div>
    <div style="text-align: left; text-transform: none; font-weight: normal; white-space: normal; background-color: rgb(255, 255, 255); line-height: 25.99431800842285px; letter-spacing: normal; font-size: 13.63636302947998px; word-spacing: 0px; font-variant: normal; font-family: Arial; font-style: normal; color: rgb(51, 51, 51); text-indent: 0px">
      <div>
        <strong><font size="3">&#160;&#160;&#160;&#160;&#160;&#160;include $(CLEAR_VARS)</font></strong>
      </div>
      <div>
        <strong><font size="3">&#160;&#160;&#160;&#160;&#160;&#160;LOCAL_MODULE_TAGS := optional</font></strong>
      </div>
      <div>
        <strong><font size="3">&#160;&#160;&#160;&#160;&#160;&#160;LOCAL_PRELINK_MODULE := false</font></strong>
      </div>
      <div>
        <strong><font size="3">&#160;&#160;&#160;&#160;&#160;&#160;LOCAL_MODULE_PATH := $(TARGET_OUT_SHARED_LIBRARIES)/hw</font></strong>
      </div>
      <div>
        <strong><font size="3">&#160;&#160;&#160;&#160;&#160;&#160;LOCAL_SHARED_LIBRARIES := liblog</font></strong>
      </div>
      <div>
        <strong><font size="3">&#160;&#160;&#160;&#160;&#160;&#160;LOCAL_SRC_FILES := hello.c</font></strong>
      </div>
      <div>
        <strong><font size="3">&#160;&#160;&#160;&#160;&#160;&#160;LOCAL_MODULE := hello.default</font></strong>
      </div>
      <div>
        <strong><font size="3">&#160;&#160;&#160;&#160;&#160;&#160;include $(BUILD_SHARED_LIBRARY)</font></strong>
      </div>
    </div>
  </body>
</html></richcontent>
</node>
</node>
<node COLOR="#3300ff" CREATED="1435211851446" ID="ID_1609485913" MODIFIED="1435215689563">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      6.&#28155;&#21152;JNI&#26041;&#27861;&#26469;&#35775;&#38382;&#30828;&#20214;&#25277;&#35937;&#23618;
    </p>
  </body>
</html></richcontent>
<node CREATED="1435212040818" ID="ID_1824601655" MODIFIED="1435212346111">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#36827;&#20837;&#21040;frameworks/base/services/jni&#30446;&#24405;
    </p>
    <p>
      &#26032;&#24314;com_android_server_HelloService.cpp
    </p>
  </body>
</html></richcontent>
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#35813;cpp&#25991;&#20214;&#37324;&#38754;&#30340;&#26041;&#27861;&#26159;&#23545;&#24212;com.android.server.HelloService&#37324;&#38754;&#30340;&#26041;&#27861;&#30340;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1435213261287" ID="ID_892320718" MODIFIED="1435213299907">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="3">&#22312;com_android_server_HelloService.cpp&#20013; </font>
    </p>
    <p>
      <font size="3" color="rgb(51, 51, 51)" face="Arial">&#23450;&#20041;hello_init&#12289;hello_getVal&#21644;hello_setVal&#19977;&#20010;JNI&#26041;&#27861;</font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1435214544751" ID="ID_1891418950" MODIFIED="1435214556093" TEXT="hello_init&#x65b9;&#x6cd5;&#x5206;&#x6790;">
<node CREATED="1435214570367" ID="ID_657253467" MODIFIED="1435214574588" TEXT="1.hello_module_t* module; "/>
<node CREATED="1435214585849" ID="ID_185494510" MODIFIED="1435214604792">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      2.hw_get_module(HELLO_HARDWARE_MODULE_ID,
    </p>
    <p>
      &#160;(const struct hw_module_t**)&amp;module)
    </p>
  </body>
</html></richcontent>
<node CREATED="1435215129043" ID="ID_455773980" MODIFIED="1435215132460" TEXT="Android&#x786c;&#x4ef6;&#x62bd;&#x8c61;&#x5c42;&#x4f1a;&#x6839;&#x636e;HELLO_HARDWARE_MODULE_ID&#x7684;&#x503c;&#x5728;Android&#x7cfb;&#x7edf;&#x7684;/system/lib/hw&#x76ee;&#x5f55;&#x4e2d;&#x627e;&#x5230;&#x76f8;&#x5e94;&#x7684;&#x6a21;&#x5757;&#xff0c;&#x7136;&#x540e;&#x52a0;&#x8f7d;&#x8d77;&#x6765;&#xff0c;&#x5e76;&#x4e14;&#x8fd4;&#x56de;hw_module_t&#x63a5;&#x53e3;&#x7ed9;&#x8c03;&#x7528;&#x8005;&#x4f7f;&#x7528;&#x3002;"/>
</node>
<node CREATED="1435214608487" ID="ID_354223273" MODIFIED="1435214698124">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="3">3.</font><font size="3" color="rgb(0, 0, 0)" face="Consolas, Courier New, Courier, mono, serif">hello_device_open(&amp;(module-&gt;common),&#160;&amp;hello_device) </font>
    </p>
    <p>
      &#35843;&#29992;common-&gt;open&#20989;&#25968;&#20026;hello_device&#20998;&#37197;&#31354;&#38388;&#65292;&#24182;&#25171;&#24320;&#35774;&#22791;&#33410;&#28857;
    </p>
    <p>
      &#23558;&#25991;&#20214;&#25551;&#36848;&#31526;&#20445;&#23384;&#36215;&#26469;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1435214806048" ID="ID_1740688554" MODIFIED="1435546753490" TEXT="JNI&#x65b9;&#x6cd5;&#x8868;&#xff1a;&#x5c06;com.android.server.HelloService&#x63d0;&#x4f9b;&#x7684;native&#x65b9;&#x6cd5;&#x505a;&#x4e2a;&#x6620;&#x5c04;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <ol start="1" style="background-color: rgb(255, 255, 255); padding-bottom: 0px; border-top-style: none; letter-spacing: normal; border-bottom-style: none; word-spacing: 0px; border-right-width: medium; border-bottom-width: medium; border-right-style: none; font-variant: normal; padding-right: 0px; margin-bottom: 1px; padding-left: 0px; font-size: 11.818181991577148px; padding-top: 0px; line-height: 25.99431800842285px; margin-right: 0px; font-style: normal; text-transform: none; white-space: normal; list-style: decimal; border-left-width: medium; margin-left: 45px; font-weight: normal; color: rgb(92, 92, 92); font-family: Consolas, Courier New, Courier, mono, serif; text-align: left; text-indent: 0px; border-left-style: none; margin-top: 0px; border-top-width: medium" class="dp-cpp">
      <li style="border-bottom-style: none; list-style: decimal-leading-zero outside; color: black; border-left-style: solid; padding-bottom: 0px; line-height: 17.27272605895996px; padding-right: 3px; margin-top: 0px; padding-left: 10px; padding-top: 0px; border-left-width: 3px; background-color: rgb(255, 255, 255); border-left-color: rgb(108, 226, 108); margin-bottom: 0px; border-top-style: none; margin-left: 0; border-right-style: none; margin-right: 0" class="alt">
        <font color="black">&#160;</font><b><font color="rgb(0, 102, 153)">static</font></b><font color="black">&#160;</font><b><font color="rgb(0, 102, 153)">const</font></b><font color="black">&#160;JNINativeMethod&#160;method_table[]&#160;=&#160;{&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; list-style: decimal-leading-zero outside; color: rgb(92, 92, 92); border-left-style: solid; padding-bottom: 0px; line-height: 17.27272605895996px; padding-right: 3px; margin-top: 0px; padding-left: 10px; padding-top: 0px; border-left-width: 3px; background-color: rgb(248, 248, 248); border-left-color: rgb(108, 226, 108); margin-bottom: 0px; border-top-style: none; margin-left: 0; border-right-style: none; margin-right: 0" class="">
        <font color="black">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{</font><font color="blue">&quot;init_native&quot;</font><font color="black">,&#160;</font><font color="blue">&quot;()Z&quot;</font><font color="black">,&#160;(</font><b><font color="rgb(0, 102, 153)">void</font></b><font color="black">*)hello_init},&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; list-style: decimal-leading-zero outside; color: black; border-left-style: solid; padding-bottom: 0px; line-height: 17.27272605895996px; padding-right: 3px; margin-top: 0px; padding-left: 10px; padding-top: 0px; border-left-width: 3px; background-color: rgb(255, 255, 255); border-left-color: rgb(108, 226, 108); margin-bottom: 0px; border-top-style: none; margin-left: 0; border-right-style: none; margin-right: 0" class="alt">
        <font color="black">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{</font><font color="blue">&quot;setVal_native&quot;</font><font color="black">,&#160;</font><font color="blue">&quot;(I)V&quot;</font><font color="black">,&#160;(</font><b><font color="rgb(0, 102, 153)">void</font></b><font color="black">*)hello_setVal},&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; list-style: decimal-leading-zero outside; color: rgb(92, 92, 92); border-left-style: solid; padding-bottom: 0px; line-height: 17.27272605895996px; padding-right: 3px; margin-top: 0px; padding-left: 10px; padding-top: 0px; border-left-width: 3px; background-color: rgb(248, 248, 248); border-left-color: rgb(108, 226, 108); margin-bottom: 0px; border-top-style: none; margin-left: 0; border-right-style: none; margin-right: 0" class="">
        <font color="black">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{</font><font color="blue">&quot;getVal_native&quot;</font><font color="black">,&#160;</font><font color="blue">&quot;()I&quot;</font><font color="black">,&#160;(</font><b><font color="rgb(0, 102, 153)">void</font></b><font color="black">*)hello_getVal},&#160;&#160;</font>
      </li>
      <li style="border-bottom-style: none; list-style: decimal-leading-zero outside; color: black; border-left-style: solid; padding-bottom: 0px; line-height: 17.27272605895996px; padding-right: 3px; margin-top: 0px; padding-left: 10px; padding-top: 0px; border-left-width: 3px; background-color: rgb(255, 255, 255); border-left-color: rgb(108, 226, 108); margin-bottom: 0px; border-top-style: none; margin-left: 0; border-right-style: none; margin-right: 0" class="alt">
        <font color="black">&#160;&#160;&#160;&#160;};&#160;&#160;</font>
      </li>
    </ol>
  </body>
</html></richcontent>
</node>
<node CREATED="1435215240074" ID="ID_1371928571" MODIFIED="1435215279281">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="3">&#23450;&#20041;&#19968;&#20010;&#27880;&#20876;JNI&#30340;&#26041;&#27861; </font>
    </p>
    <p>
      <b><font size="3" color="rgb(46, 139, 87)" face="Consolas, Courier New, Courier, mono, serif">int</font></b><font size="3" color="rgb(0, 0, 0)" face="Consolas, Courier New, Courier, mono, serif">&#160;register_android_server_HelloService(JNIEnv&#160;*env)</font>
    </p>
  </body>
</html></richcontent>
</node>
<node COLOR="#ff3333" CREATED="1435215340290" ID="ID_1798279291" MODIFIED="1435215561596">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20462;&#25913;&#21516;&#30446;&#24405;&#19979;&#38754;&#30340;onload.cpp&#25991;&#20214;
    </p>
    <p>
      &#20197;&#20415;&#31995;&#32479;&#21551;&#21160;&#30340;&#26102;&#20505;&#21487;&#20197;&#33258;&#21160;&#21152;&#36733;&#25105;&#20204;&#23450;&#20041;&#30340;JNI&#26041;&#27861;&#34920;
    </p>
  </body>
</html></richcontent>
</node>
<node COLOR="#990099" CREATED="1435215497082" ID="ID_293796984" MODIFIED="1435215537917" TEXT="&#x4fee;&#x6539;&#x540c;&#x76ee;&#x5f55;&#x4e0b;&#x9762;&#x7684;Android.mk&#x6587;&#x4ef6;&#xff0c;&#x589e;&#x52a0;&#x6211;&#x4eec;&#x7684;&#x6e90;&#x6587;&#x4ef6;"/>
</node>
<node CREATED="1435215626936" ID="ID_1107339578" MODIFIED="1435215685827">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      7.&#22312;Application Frameworks
    </p>
    <p>
      &#160;&#160;&#160;&#23618;&#22686;&#21152;&#30828;&#20214;&#35775;&#38382;&#26381;&#21153;
    </p>
  </body>
</html></richcontent>
<node CREATED="1435215926619" ID="ID_1520993274" MODIFIED="1435216008897">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#35843;&#29992;&#30828;&#20214;&#26381;&#21153;&#30340;&#24212;&#29992;&#31243;&#24207;&#21644;&#30828;&#20214;&#26381;&#21153;&#20043;&#38388;
    </p>
    <p>
      &#38656;&#35201;&#36890;&#36807;&#20195;&#29702;&#36827;&#34892;&#36890;&#20449;&#65292;&#25925;&#20808;&#23450;&#20041;&#36890;&#20449;&#21327;&#35758;
    </p>
  </body>
</html></richcontent>
<node CREATED="1435216013319" ID="ID_767946531" MODIFIED="1435216068432">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="3" color="rgb(51, 51, 51)" face="Arial">frameworks/base/core/java/android/os&#30446;&#24405;&#65292; </font>
    </p>
    <p>
      <font size="3" color="rgb(51, 51, 51)" face="Arial">&#26032;&#22686;IHelloService.aidl&#25509;&#21475;&#23450;&#20041;&#25991;&#20214;&#65306;</font>
    </p>
  </body>
</html></richcontent>
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <ol style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; text-indent: 0px; color: rgb(92, 92, 92); margin-right: 0px; font-family: Consolas, Courier New, Courier, mono, serif; border-top-style: none; border-right-style: none; font-variant: normal; border-bottom-width: medium; text-align: left; font-size: 11.818181991577148px; margin-bottom: 1px; line-height: 25.99431800842285px; margin-left: 45px; font-weight: normal; border-right-width: medium; padding-top: 0px; list-style: decimal; text-transform: none; border-left-style: none; padding-right: 0px; letter-spacing: normal; background-color: rgb(255, 255, 255); white-space: normal; word-spacing: 0px; border-top-width: medium; border-left-width: medium; font-style: normal; margin-top: 0px" start="1" class="dp-j">
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <b><font color="rgb(0, 102, 153)"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: rgb(0, 102, 153); margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; font-weight: bold; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px" class="keyword">package</span></font></b><font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;android.os;&#160;&#160;</span></font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;&#160;&#160;</span></font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <b><font color="rgb(0, 102, 153)"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: rgb(0, 102, 153); margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; font-weight: bold; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px" class="keyword">interface</span></font></b><font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;IHelloService&#160;{&#160;&#160;</span></font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;&#160;&#160;&#160;</span></font><b><font color="rgb(0, 102, 153)"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: rgb(0, 102, 153); margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; font-weight: bold; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px" class="keyword">void</span></font></b><font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;setVal(</span></font><b><font color="rgb(0, 102, 153)"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: rgb(0, 102, 153); margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; font-weight: bold; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px" class="keyword">int</span></font></b><font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;val);&#160;&#160;</span></font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;&#160;&#160;&#160;</span></font><b><font color="rgb(0, 102, 153)"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: rgb(0, 102, 153); margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; font-weight: bold; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px" class="keyword">int</span></font></b><font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;getVal();&#160;&#160;</span></font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">}&#160;&#160;</span></font>
      </li>
    </ol>
  </body>
</html></richcontent>
</node>
<node CREATED="1435216115660" ID="ID_1853627653" MODIFIED="1435217817312" TEXT="&#x4fee;&#x6539;frameworks/base&#x4e2d;&#x7684;Android.mk&#x6587;&#x4ef6;&#xff0c;&#x589e;&#x52a0;IHelloService.aidl&#x6587;&#x4ef6;">
<richcontent TYPE="NOTE"><html>
  <head>
    
  </head>
  <body>
    <ol style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; text-indent: 0px; color: rgb(92, 92, 92); margin-right: 0px; font-family: Consolas, Courier New, Courier, mono, serif; border-top-style: none; border-right-style: none; font-variant: normal; border-bottom-width: medium; text-align: left; font-size: 11.818181991577148px; margin-bottom: 1px; line-height: 25.99431800842285px; margin-left: 45px; font-weight: normal; border-right-width: medium; padding-top: 0px; list-style: decimal; text-transform: none; border-left-style: none; padding-right: 0px; letter-spacing: normal; background-color: rgb(255, 255, 255); white-space: normal; word-spacing: 0px; border-top-width: medium; border-left-width: medium; font-style: normal; margin-top: 0px" start="1" class="dp-j">
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <b><font color="rgb(0, 102, 153)"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: rgb(0, 102, 153); margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; font-weight: bold; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px" class="keyword">interface</span></font></b><font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;IHelloService&#160;{&#160;&#160;</span></font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;&#160;&#160;&#160;</span></font><b><font color="rgb(0, 102, 153)"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: rgb(0, 102, 153); margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; font-weight: bold; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px" class="keyword">void</span></font></b><font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;setVal(</span></font><b><font color="rgb(0, 102, 153)"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: rgb(0, 102, 153); margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; font-weight: bold; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px" class="keyword">int</span></font></b><font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;val);&#160;&#160;</span></font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(255, 255, 255); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: black" class="alt">
        <font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;&#160;&#160;&#160;</span></font><b><font color="rgb(0, 102, 153)"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: rgb(0, 102, 153); margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; font-weight: bold; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px" class="keyword">int</span></font></b><font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">&#160;getVal();&#160;&#160;</span></font>
      </li>
      <li style="border-bottom-style: none; margin-right: 0; border-left-color: rgb(108, 226, 108); border-right-style: none; padding-top: 0px; margin-left: 0; border-top-style: none; border-left-width: 3px; border-left-style: solid; line-height: 17.27272605895996px; background-color: rgb(248, 248, 248); margin-top: 0px; padding-right: 3px; padding-bottom: 0px; margin-bottom: 0px; list-style: decimal-leading-zero outside; padding-left: 10px; color: rgb(92, 92, 92)" class="">
        <font color="black"><span style="padding-left: 0px; padding-bottom: 0px; border-bottom-style: none; color: black; margin-right: 0px; border-top-style: none; border-right-style: none; border-bottom-width: medium; margin-bottom: 0px; margin-left: 0px; border-right-width: medium; padding-top: 0px; border-left-style: none; padding-right: 0px; border-top-width: medium; border-left-width: medium; margin-top: 0px">}&#160;&#160;</span></font>
      </li>
    </ol>
  </body>
</html></richcontent>
</node>
<node CREATED="1435217625033" ID="ID_299167882" MODIFIED="1435217665552" TEXT="&#x4f7f;&#x7528;mmm&#x547d;&#x4ee4;&#x7f16;&#x8bd1;&#x751f;&#x6210;IHelloService.stub&#x63a5;&#x53e3;"/>
<node CREATED="1435217859482" ID="ID_448407411" MODIFIED="1435218099328">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="3" color="#330033">frameworks/base/services/java/com/android/server&#30446;&#24405;&#65292;&#26032;&#22686;HelloService.java&#25991;&#20214;</font><font size="3" color="#ff0099">&#160; </font>
    </p>
    <p>
      <b><font size="3" color="#ff0099" face="Consolas, Courier New, Courier, mono, serif">public</font></b><font size="3" color="#ff0099" face="Consolas, Courier New, Courier, mono, serif">&#160;<b>class</b>&#160;HelloService&#160;<b>extends</b>&#160;IHelloService.Stub</font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1435218185719" ID="ID_985987107" MODIFIED="1435218231840">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20462;&#25913;&#21516;&#30446;&#24405;&#30340;SystemServer.java&#25991;&#20214;&#65292;&#22312;ServerThread::run
    </p>
    <p>
      &#20989;&#25968;&#20013;&#22686;&#21152;&#21152;&#36733;HelloService&#30340;&#20195;&#30721;
    </p>
    <p>
      <strong style="text-align: left; text-transform: none; white-space: normal; background-color: rgb(255, 255, 255); line-height: 25.99431800842285px; letter-spacing: normal; font-size: 13.63636302947998px; word-spacing: 0px; font-variant: normal; font-family: Arial; font-style: normal; color: rgb(51, 51, 51); text-indent: 0px"><font size="13.63636302947998px" color="rgb(51, 51, 51)" face="Arial">ServiceManager.addService(&quot;hello&quot;, new HelloService());</font></strong>
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1435220895345" ID="ID_1255367060" MODIFIED="1435220922731" TEXT="8.Android&#x4e2d;&#x7684;Service&#x5168;&#x9762;&#x603b;&#x7ed3;">
<node CREATED="1435220936708" ID="ID_647912736" MODIFIED="1435220945542" TEXT="service&#x7684;&#x5206;&#x7c7b;">
<node CREATED="1435221028087" ID="ID_1873327390" MODIFIED="1435221571188">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1.&#25353;&#29031;&#36816;&#34892;&#22320;&#28857;&#20998;&#31867;
    </p>
    <p>
      <font color="#ff0066">&#26412;&#22320;&#26381;&#21153;&#65306;&#20381;&#38468;&#22312;&#20027;&#36827;&#31243;&#19978;&#65292;&#20027;&#36827;&#31243;&#34987;kill&#20043;&#21518;&#26381;&#21153;&#23601;&#20250;&#32456;&#27490;&#12290;</font>
    </p>
    <p>
      <font color="#ff0066">&#36828;&#31243;&#26381;&#21153;&#160;&#160;&#160;&#160;&#29420;&#31435;&#20110;&#20027;&#36827;&#31243;&#65292;&#20294;&#26159;&#30001;&#20110;&#26159;&#29420;&#31435;&#30340;&#36827;&#31243;&#65292; </font>
    </p>
    <p>
      <font color="#ff0066">&#20351;&#29992;AIDL&#36827;&#34892;IPC </font>
    </p>
    <p>
      &#27604;&#36739;&#22256;&#38590;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1435221619038" ID="ID_529149266" MODIFIED="1435221782230">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      2.&#25353;&#29031;&#36816;&#34892;&#30340;&#31867;&#21035;&#36827;&#34892;&#20998;&#26512;
    </p>
    <p>
      &#21069;&#21488;&#26381;&#21153;&#65292;&#20250;&#22312;&#36890;&#30693;&#26639;&#24515;&#20107;&#22270;&#26631;&#31561;
    </p>
    <p>
      &#21518;&#21488;&#26381;&#21153;&#65292;&#24403;&#26381;&#21153;&#34987;&#32456;&#27490;&#65292;&#29992;&#25143;&#26080;&#27861;&#30475;&#21040;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1435221852957" ID="ID_1895927510" MODIFIED="1435223284536">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      3.&#25353;&#29031;&#20351;&#29992;&#30340;&#26041;&#24335;&#36827;&#34892;&#20998;&#31867;&#12290;
    </p>
    <p>
      &#30001;startService&#21551;&#21160;&#30340;&#26381;&#21153;&#65306;&#29420;&#31435;&#65292;&#19981;&#36827;&#34892;&#36890;&#20449;&#12290;
    </p>
    <p>
      &#30001;bindService&#21551;&#21160;&#30340;&#26381;&#21153;&#65306;&#38656;&#35201;&#36827;&#34892;&#36890;&#20449;
    </p>
    <p>
      &#30001;startService&#21644;bindService&#21516;&#26102;&#21551;&#21160;&#30340;&#26381;&#21153;&#65306;
    </p>
    <p>
      <font color="#ff0000">&#38656;&#35201;&#21516;&#26102;&#35843;&#29992;unbindService&#21644;stopService&#25165;&#33021;&#20572;&#27490;&#35813;&#26381;&#21153;</font>
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1435222200705" ID="ID_1884963976" MODIFIED="1435222210433" TEXT="service&#x7684;&#x751f;&#x547d;&#x5468;&#x671f;">
<node CREATED="1435222418000" ID="ID_1990228620" MODIFIED="1435222848970">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1.&#34987;&#21551;&#21160;&#30340;&#26381;&#21153;&#30340;&#29983;&#21629;&#21608;&#26399;&#65306;&#35843;&#29992;Context.startService&#21551;&#21160;&#35813;&#26381;&#21153;
    </p>
    <p>
      &#35813;&#26381;&#21153;&#20250;&#19968;&#30452;&#23384;&#22312;&#65292;&#32780;&#19981;&#31649;&#21551;&#21160;&#23427;&#30340;activity&#26159;&#21542;&#36824;&#23384;&#22312;&#65292;&#30452;&#21040;&#35843;&#29992;
    </p>
    <p>
      &#20102;stopService&#26041;&#27861;&#25110;&#32773;&#33258;&#36523;&#30340;stopSelf&#26041;&#27861;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1435223073027" ID="ID_1644875073" MODIFIED="1435223134376">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      2.&#34987;&#32465;&#23450;&#30340;&#26381;&#21153;&#30340;&#29983;&#21629;&#21608;&#26399;&#65306;
    </p>
    <p>
      &#38500;&#38750;&#35843;&#29992;&#38750;&#32465;&#23450;&#20989;&#25968;&#25110;&#32773;&#35843;&#29992;&#23427;&#30340;Context&#19981;&#23384;&#22312;&#20102;&#65292;
    </p>
    <p>
      &#21542;&#21017;&#35813;&#26381;&#21153;&#19968;&#30452;&#36816;&#34892;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1435223434930" ID="ID_136112410" MODIFIED="1435223571533">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font color="#330033">&#29305;&#21035;&#27880;&#24847;&#65306;&#24403;&#25163;&#26426;&#23631;&#24149;&#20250;&#33258;&#21160;&#26059;&#36716;&#26102;&#65292;&#22914;&#26524;&#20320;&#30340;Activity&#20063;&#20250;&#33258;&#21160;&#26059;&#36716; </font></b>
    </p>
    <p>
      <b><font color="#330033">&#37027;&#20040;&#20854;&#23454;&#26159;Activity&#30340;&#37325;&#26032;&#21019;&#24314;&#65292;&#27492;&#26102;&#26059;&#36716;&#20043;&#21069;&#20351;&#29992;bindService&#24314;&#31435; </font></b>
    </p>
    <p>
      <b><font color="#330033">&#30340;&#36830;&#25509;&#20415;&#20250;&#26029;&#24320;&#12290;</font></b>
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
<node CREATED="1435564212116" FOLDED="true" ID="ID_1802347718" MODIFIED="1508830867151" POSITION="left" TEXT="4.linux&#x7248;&#x672c;&#x7ba1;&#x7406;">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1435564224130" ID="ID_1217317356" MODIFIED="1508141115882" TEXT="git&#x5b66;&#x4e60;">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1502183812413" ID="ID_568706704" MODIFIED="1502183890728">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><i>remotes/origin/HEAD&#21644;remotes/origin/master&#21644;origin/master&#20043;&#38388;&#30340;&#21306;&#21035;</i></b>
    </p>
    <p>
      Take a clone of a remote repository and run git
    </p>
    <p>
      &#160;branch -a (to show all the branches git knows about). It will probably look something like this:
    </p>
    <p>
      * master
    </p>
    <p>
      &#160;&#160;remotes/origin/HEAD -&gt; origin/master
    </p>
    <p>
      &#160;&#160;remotes/origin/master
    </p>
    <p>
      Here, master is a branch in the local repository.
    </p>
    <p>
      remotes/origin/master is a branch named master on the remote named origin.
    </p>
    <p>
      You can refer to this as either origin/master, as in:
    </p>
    <p>
      
    </p>
    <p>
      git diff origin/master..master
    </p>
    <p>
      You can also refer to it as remotes/origin/master:
    </p>
    <p>
      
    </p>
    <p>
      git diff remotes/origin/master..master
    </p>
    <p>
      These are just two different ways of referring to the same thing (incidentally, both of these commands mean
    </p>
    <p>
      &quot;show me the changes between the remote master branch and my master branch).
    </p>
    <p>
      
    </p>
    <p>
      remotes/origin/HEAD is the default
    </p>
    <p>
      &#160;branch for the remote named origin. This lets you simply say origin instead of origin/master.
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1502184426298" ID="ID_1510917630" MODIFIED="1503494054471" TEXT="Gir Pro&#x5b66;&#x4e60;">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1502184443554" ID="ID_778677540" MODIFIED="1508141119789">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#ea0909"><b><i>&#31532;&#19977;&#31456; Git Branch</i></b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1502184485921" ID="ID_831825345" MODIFIED="1508141121390">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Remote Branches
    </p>
  </body>
</html></richcontent>
<node CREATED="1502184522753" ID="ID_580472649" MODIFIED="1502189924349">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#1b53f3"><b>Push&#25805;&#20316;</b></font>
    </p>
    <p>
      git push (remote) (branch)
    </p>
    <p>
      &#20363;&#22914;&#65306;
    </p>
    <p>
      git push origin serverfix
    </p>
    <p>
      &#36825;&#23454;&#38469;&#19978;&#26159;&#19968;&#31181;&#31616;&#20889;&#65292;git&#20250;&#23558;&#20854;&#25193;&#20805;&#25104;&#22914;&#19979;:
    </p>
    <p>
      git push origin refs/heads/serverfix:refs/heads/serverfix
    </p>
    <p>
      &#24847;&#24605;&#23601;&#26159;&#35828;&#33719;&#21462;&#26412;&#22320;&#30340;serverfix&#20998;&#25903;&#65292;&#24182;&#23558;&#20854;&#25512;&#36865;&#26356;&#26032;&#21040;&#36828;&#31471;&#30340;serverfix&#20998;&#25903;&#19978;
    </p>
    <p>
      git push origin serverfix:serverfix&#36319;&#19978;&#38754;&#30340;&#24847;&#24605;&#26159;&#19968;&#26679;&#30340;
    </p>
    <p>
      &#22312;&#21478;&#19968;&#21488;&#26381;&#21153;&#22120;&#19978;&#65292;&#36816;&#34892;
    </p>
    <p>
      git checkout -b serverfix origin/serverfix
    </p>
    <p>
      &#23601;&#21487;&#20197;&#22312;&#26412;&#22320;&#36319;&#36394;&#36828;&#31243;&#30340;&#20998;&#25903;&#20102;
    </p>
    <p>
      
    </p>
    <p>
      <b>git push &lt;remotename&gt; &lt;commit SHA&gt;:refs/heads/&lt;remotebranchname&gt;</b>
    </p>
    <p>
      <font color="#e70c0c">push&#19968;&#20010;&#29305;&#23450;&#30340;&#25552;&#20132;&#21040;&#36828;&#31243;&#20998;&#25903;</font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1502185489903" ID="ID_26690415" MODIFIED="1502189881557">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#1a5cf5"><b>Tracking Branches</b></font>
    </p>
    <p>
      <font color="#f61111">git checkout --track origin/serverfix</font>
    </p>
    <p>
      &#22312;&#26412;&#22320;&#24314;&#31435;&#19968;&#20010;&#36319;&#36394;&#36828;&#31243;&#20998;&#25903;serverfix&#30340;&#20998;&#25903;&#65292;&#21517;&#31216;
    </p>
    <p>
      &#36319;&#36828;&#31471;&#30340;&#20998;&#25903;serverfix&#26159;&#19968;&#26679;&#30340;
    </p>
    <p>
      <font color="#ad0808">git checkout -b sf origin/serverfix</font>
    </p>
    <p>
      &#22312;&#26412;&#22320;&#24314;&#31435;&#19968;&#20010;&#36319;&#36394;&#36828;&#31471;&#20998;&#25903;serverfix&#30340;&#20998;&#25903;&#65292;
    </p>
    <p>
      &#21517;&#31216;&#21483;&#20570;sf
    </p>
    <p>
      <b>&#22914;&#26524;&#24819;&#26356;&#25913;&#26412;&#22320;&#20998;&#25903;&#25152;&#36861;&#36394;&#30340;&#36828;&#31471;&#20998;&#25903;&#65292;&#21487;&#20197;&#20351;&#29992;&#22914;&#19979;&#30340;&#21629;&#20196; </b>
    </p>
    <p>
      <b>git branch -u origin/serverfix </b>
    </p>
    <p>
      
    </p>
    <p>
      <font color="#dc0f0f">git branch -vv </font>
    </p>
    <p>
      <font color="#dc0f0f">&#35813;&#21629;&#20196;&#21487;&#20197;&#21015;&#20986;&#26412;&#22320;&#30340;&#20998;&#25903;&#25152;&#36861;&#36394;&#30340;&#36828;&#31471;&#20998;&#25903; </font>
    </p>
    <p>
      <font color="#dc0f0f">&#27880;&#24847;&#24403;&#21069;&#21015;&#20986;&#30340;&#36319;&#36828;&#31471;&#20998;&#25903;&#30340;&#20851;&#31995;&#21482;&#26159;&#32531;&#23384;&#22312;&#26412;&#22320;&#30340;&#24773;&#20917;&#65292;&#22914;&#26524;&#20320;&#24819;&#30830;&#20999;&#22320;&#30693;&#36947;&#36319;&#36828;&#31471;&#26381;&#21153;&#22120; </font>
    </p>
    <p>
      <font color="#dc0f0f">&#30340;&#20851;&#31995;&#65292;&#24212;&#35813;&#25191;&#34892;&#22914;&#19979;&#30340;&#21629;&#20196; </font>
    </p>
    <p>
      <font color="#10191c"><b>git fetch --all; git branch -vv</b></font>
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1435564231787" FOLDED="true" ID="ID_371090293" MODIFIED="1502183803268" TEXT="&#x7b80;&#x5355;&#x7684;diff&#x548c;patch">
<node CREATED="1435564248218" FOLDED="true" ID="ID_1482464879" MODIFIED="1476935130640">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      diff&#65306;&#29992;&#20110;&#27604;&#36739;&#25991;&#20214;&#25110;&#32773;
    </p>
    <p>
      &#30446;&#24405;&#24403;&#20013;&#30340;&#27599;&#20010;&#25991;&#20214;
    </p>
  </body>
</html></richcontent>
<node CREATED="1435564367394" FOLDED="true" ID="ID_1079518176" MODIFIED="1435568076750" TEXT="1.diff&#x7684;&#x8f93;&#x51fa;&#x683c;&#x5f0f;">
<node CREATED="1435564381807" ID="ID_1519479822" MODIFIED="1435564385335" TEXT="&#x5217;&#x4e3e;&#x65b9;&#x5f0f;"/>
<node CREATED="1435564391784" ID="ID_830633188" MODIFIED="1435565845477">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21629;&#20196;&#27169;&#24335;&#65306;
    </p>
    <p>
      &#35760;&#24405;&#30340;&#26159;&#20174;test1&#26356;&#26032;&#21040;test2
    </p>
    <p>
      &#25152;&#38656;&#35201;&#25191;&#34892;&#30340;&#21629;&#20196;
    </p>
  </body>
</html></richcontent>
<node CREATED="1435564421505" ID="ID_1077739978" MODIFIED="1435564426205" TEXT="ed&#x547d;&#x4ee4;&#x683c;&#x5f0f;">
<node CREATED="1435565464257" ID="ID_1813615881" MODIFIED="1435565493637" TEXT="1.ed&#x547d;&#x4ee4;&#x683c;&#x5f0f;&#xff1a;diff -e test1 test2"/>
<node CREATED="1435565499497" ID="ID_1706668563" MODIFIED="1435565542080" TEXT="2.&#x6df7;&#x5408;ed&#x547d;&#x4ee4;&#x683c;&#x5f0f;&#xff08;&#x65e0;&#x53c2;&#x6570;&#x683c;&#x5f0f;):diff test1 test2"/>
</node>
<node CREATED="1435564428896" ID="ID_208054174" MODIFIED="1435564434488" TEXT="RCS&#x547d;&#x4ee4;&#x683c;&#x5f0f;">
<node CREATED="1435565549930" ID="ID_916449314" MODIFIED="1435565577378">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      RCS&#21629;&#20196;&#31616;&#21333;&#26684;&#24335;&#65306;
    </p>
    <p>
      diff -f test1 test2
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1435564398230" ID="ID_1575449081" MODIFIED="1435565862752">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#19978;&#19979;&#25991;&#27169;&#24335;&#65306;&#21487;&#35835;&#24615;&#27604;&#36739;&#22909;
    </p>
  </body>
</html></richcontent>
<node CREATED="1435564447065" ID="ID_963122457" MODIFIED="1435567860047">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#32769;&#29256;&#27169;&#24335;&#65306;&#22914;&#26524;2&#20010;&#25991;&#20214;&#30456;&#20284;&#24230;&#24456;&#39640;&#65292;&#21017;&#20250;&#28010;&#36153;&#22823;&#37327;
    </p>
    <p>
      &#30828;&#30424;&#30340;&#31354;&#38388;
    </p>
    <p>
      diff -c test1 test2
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1435564458304" ID="ID_1253731571" MODIFIED="1435567982093">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#26032;&#29256;&#27169;&#24335;&#21363;&#21512;&#24182;&#27169;&#24335;&#65306;git&#31649;&#29702;&#31995;&#32479;&#20351;&#29992;&#30340;&#27169;&#24335;
    </p>
    <p>
      diff -u test1 test2
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
<node CREATED="1435564254697" ID="ID_1456107045" MODIFIED="1477451447313" TEXT="patch">
<node COLOR="#990099" CREATED="1435566105597" ID="ID_925178802" MODIFIED="1435566292032">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1.patch&#21629;&#20196;&#30340;&#26631;&#20934;&#26684;&#24335;&#65306;patch [options] [originalfile] [patchfile]
    </p>
    <p>
      &#22914;&#26524;pathcfile&#20026;&#31354;&#65292;&#21017;&#20174;&#26631;&#20934;&#36755;&#20837;&#35835;&#21462;patchfile&#20869;&#23481;&#65307;
    </p>
    <p>
      &#22914;&#26524;originalfile&#20026;&#31354;&#65292;&#21017;&#20174;patchfile(&#32943;&#23450;&#26469;&#33258;&#26631;&#20934;&#36755;&#20837;)&#35835;&#21462;
    </p>
    <p>
      &#38656;&#35201;&#25171;&#34917;&#19969;&#30340;&#25991;&#20214;&#21517;&#31216;&#65307;&#19968;&#33324;&#20197;&#19979;&#38754;&#36825;&#31181;&#31616;&#21333;&#30340;&#26041;&#24335;&#20351;&#29992;
    </p>
    <p>
      patch -p[num] &lt; patchfile
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1492005320793" FOLDED="true" ID="ID_19007191" MODIFIED="1507709171363">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font color="#9a2424">&#23433;&#21331;&#28304;&#20195;&#30721;&#20179;&#24211;&#21450;&#20854;&#31649;&#29702;&#24037;&#20855;repo&#20998;&#26512; </font></b>
    </p>
    <p>
      <font color="#260c0c"><i>http://blog.csdn.net/luoshengyang/article/details/18195205</i></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1492005491928" ID="ID_872579118" MODIFIED="1492005609067">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Repo&#24037;&#20855;&#23454;&#38469;&#19978;&#26159;&#30001;&#19968;&#31995;&#21015;&#30340;python&#33050;&#26412;&#26500;&#25104;&#30340;
    </p>
    <p>
      &#36825;&#20123;&#33050;&#26412;&#35843;&#29992;git&#21629;&#20196;&#26469;&#23436;&#25104;&#33258;&#24049;&#30340;&#21151;&#33021;&#12290;&#32452;&#25104;repo
    </p>
    <p>
      &#24037;&#20855;&#30340;&#37027;&#20123;python&#33050;&#26412;&#20063;&#26500;&#25104;&#20102;&#19968;&#20010;&#20179;&#24211;&#65292;&#35813;&#20179;&#24211;&#23601;&#31216;&#20026;
    </p>
    <p>
      Repo&#20179;&#24211;&#65292;&#27599;&#27425;&#35843;&#29992;repo&#21629;&#20196;&#30340;&#26102;&#20505;&#37117;&#20250;&#26356;&#26032;repo&#20179;&#24211;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1492005834671" ID="ID_135408482" MODIFIED="1492005895733">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font color="#f41313">manifest&#20179;&#24211;</font></b>
    </p>
    <p>
      &#35813;&#20179;&#24211;&#29992;&#20110;&#31649;&#29702;aosp&#20195;&#30721;&#24403;&#20013;&#30340;&#25152;&#26377;&#30340;
    </p>
    <p>
      &#23376;&#39033;&#30446;&#30340;git&#20179;&#24211;&#30340;&#20449;&#24687;&#65292;repo&#36890;&#36807;&#26597;&#38405;&#36825;&#20123;&#20449;&#24687;&#26469;
    </p>
    <p>
      &#26356;&#26032;aosp&#30340;&#20195;&#30721;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1492005926370" FOLDED="true" ID="ID_667911999" MODIFIED="1507709170035">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      repo&#20179;&#24211;&#21644;manifest&#20179;&#24211;&#26159;&#22914;&#20309;&#33719;&#21462;&#30340;?
    </p>
    <p>
      &#26159;&#36890;&#36807;&#35895;&#27468;&#23448;&#26041;&#32593;&#31449;&#19978;&#19968;&#20010;&#29420;&#31435;&#30340;&#33050;&#26412;&#33719;&#21462;&#30340;
    </p>
  </body>
</html></richcontent>
<node CREATED="1492006071412" ID="ID_1654030677" MODIFIED="1492006138163">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><i><font color="#1a8774">&#33719;&#21462;repo&#33050;&#26412;:</font></i></b>
    </p>
    <p>
      $ curl http://commondatastorage.googleapis.com/git-repo-downloads/repo &gt; ~/bin/repo&#160;
    </p>
    <p>
      $ chmod a+x ~/bin/repo
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1492006575272" ID="ID_1109181056" MODIFIED="1492006676682">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>&#36890;&#36807;repo&#33050;&#26412;&#23433;&#35013;Repo&#20179;&#24211;&#21644;Manifest&#20179;&#24211;:</b>
    </p>
    <p>
      $ repo init -u https://android.googlesource.com/platform/manifest
    </p>
    <p>
      &#19978;&#38754;&#30340;&#21629;&#20196;&#23454;&#38469;&#19978;&#21253;&#21547;&#20102;&#20004;&#20010;&#21160;&#20316;&#65292;&#23433;&#35013;repo&#20179;&#24211;&#21644;&#23433;&#35013;manifest&#20179;&#24211;
    </p>
  </body>
</html></richcontent>
<node CREATED="1492006687887" ID="ID_105232564" MODIFIED="1492091514214">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23433;&#35013;Repo&#20179;&#24211;&#30340;&#36807;&#31243;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1492091523807" FOLDED="true" ID="ID_542054995" MODIFIED="1507709168883" TEXT="repo&#x53c2;&#x8003;&#x547d;&#x4ee4;">
<node CREATED="1492091542373" ID="ID_1274950315" MODIFIED="1492091662341">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font color="#e60808">help</font></b>
    </p>
    <p>
      &#20351;&#29992;&#21629;&#20196; repo help &#21487;&#20197;&#33719;&#21462;&#26368;&#26032;&#30340;&#24110;&#21161;&#25991;&#26723;
    </p>
    <p>
      &#33719;&#24471;&#20855;&#20307;&#30340;&#26576;&#20010;&#21629;&#20196;&#30340;&#24110;&#21161;&#25991;&#26723;:
    </p>
    <p>
      repo help &lt;COMMAND&gt;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1492091667344" ID="ID_1898172761" MODIFIED="1492092367868">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><i><font color="#eb1818">init</font></i></b>
    </p>
    <p>
      repo init&#160;&#160;-u &lt;URL&gt; [&lt;OPTIONS&gt;]
    </p>
    <p>
      &#35813;&#21629;&#20196;&#22312;&#24403;&#21069;&#30446;&#24405;&#19979;&#38754;&#21019;&#24314;&#20102;&#19968;&#20010;.repo&#30446;&#24405;&#21253;&#21547;&#20102;repo&#30340;&#20179;&#24211;,
    </p>
    <p>
      &#19968;&#20010;Manifest&#25991;&#20214;&#12290; .repo&#30446;&#24405;&#19979;&#38754;&#26377;&#19968;&#20010;manifest.xml&#25991;&#20214;&#65292;&#35813;&#25991;&#20214;
    </p>
    <p>
      &#26159;&#19968;&#20010;&#31526;&#21495;&#25991;&#20214;&#25351;&#21521;&#20102;.repo/manifests&#30446;&#24405;&#24403;&#20013;&#30340;&#26576;&#20010;&#25991;&#20214;&#12290;
    </p>
    <p>
      &#36873;&#39033;:
    </p>
    <p>
      -u &#25351;&#23450;&#33719;&#21462;manifest&#20179;&#24211;&#30340;URL&#65292;&#36890;&#29992;&#30340;manifest&#20179;&#24211;&#21487;&#20197;&#22312;
    </p>
    <p>
      https://android.googlesource.com/platform/manifest&#25214;&#21040;
    </p>
    <p>
      -m &#36873;&#25321;&#20179;&#24211;&#24403;&#20013;&#30340;&#19968;&#20010;manifest&#25991;&#20214;&#65292;&#22914;&#26524;&#27809;&#26377;&#25351;&#23450;&#36873;&#25321;&#21738;&#20010;manifest&#25991;&#20214;,
    </p>
    <p>
      &#21017;&#20351;&#29992;&#40664;&#35748;&#30340;default.xml&#25991;&#20214;
    </p>
    <p>
      -b &#25351;&#23450;&#19968;&#20010;&#20998;&#25903;&#65292;&#27604;&#22914;&#19968;&#20010;&#29305;&#23450;&#30340;manifest-branch
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1492092373917" ID="ID_1517004541" MODIFIED="1492093194411">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><i><font color="#ce1818">sync&#21629;&#20196;</font></i></b>
    </p>
    <p>
      repo sync [&lt;PROJECT_LIST&gt;]
    </p>
    <p>
      &#26356;&#26032;&#26412;&#22320;&#29615;&#22659;&#24403;&#20013;&#30340;&#24037;&#31243;&#65292;&#22914;&#26524;&#27809;&#26377;&#25351;&#23450;PROJECT_LIST&#65292;&#21017;
    </p>
    <p>
      &#26356;&#26032;&#25152;&#26377;&#30340;&#24037;&#31243;&#25991;&#20214;&#12290;
    </p>
    <p>
      &#36816;&#34892;repo&#21629;&#20196;&#30340;&#26102;&#20505;&#36816;&#34892;&#30340;&#24213;&#23618;&#21629;&#20196;:
    </p>
    <p>
      1.&#22914;&#26524;&#24037;&#31243;&#20174;&#26469;&#27809;&#26377;&#34987;&#21516;&#27493;&#36807;&#65292;repo sync&#21644;git clone&#30340;&#21629;&#20196;&#31561;&#21516;
    </p>
    <p>
      2.&#22914;&#26524;&#24037;&#31243;&#24050;&#32463;&#21516;&#27493;&#36807;&#20102;&#65292;repo sync&#21629;&#20196;&#31561;&#21516;&#20110;
    </p>
    <p>
      git remote update
    </p>
    <p>
      git rebase origion/ &lt;BRANCH&gt;
    </p>
    <p>
      3.&#22914;&#26524;git rebase&#30340;&#26102;&#20505;&#36935;&#21040;&#20102;&#20914;&#31361;&#65292;&#20320;&#38656;&#35201;&#20351;&#29992;&#36890;&#24120;&#30340;git&#21629;&#20196;&#26469;
    </p>
    <p>
      &#35299;&#20915;&#20914;&#31361;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1492093199476" ID="ID_84187740" MODIFIED="1492093827678">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      upload
    </p>
    <p>
      repo upload [&lt;PROJECT_LIST&gt;]
    </p>
    <p>
      &#23545;&#20110;&#20855;&#20307;&#30340;&#24037;&#31243;&#65292;repo&#27604;&#36739;&#26412;&#22320;&#30340;&#24037;&#31243;&#21644;&#36828;&#31471;&#30340;&#24037;&#31243;.
    </p>
    <p>
      repo&#20250;&#25552;&#31034;&#20320;&#20851;&#20110;&#36824;&#27809;&#26377;&#25552;&#20132;&#30340;&#20998;&#25903;&#30340;&#20449;&#24687;&#12290;
    </p>
    <p>
      &#22312;&#20320;&#36873;&#25321;&#20102;&#19968;&#20010;&#25110;&#32773;&#26356;&#22810;&#30340;&#20998;&#25903;&#20043;&#21518;&#65292;&#25152;&#26377;&#30340;&#22312;&#35813;&#20998;&#25903;&#19978;&#38754;&#30340;&#25552;&#20132;&#37117;&#20250;&#36890;&#36807;
    </p>
    <p>
      HTTPS&#36830;&#25509;&#20256;&#36755;&#21040;gerrit&#19978;&#38754;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1503379558876" ID="ID_933687868" MODIFIED="1503379613013">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font color="#d90505">&#20351;&#29992;repo&#21629;&#20196;&#23545;&#25152;&#26377;&#30340;&#20998;&#25903;&#36827;&#34892;&#25805;&#20316;</font></b>
    </p>
    <p>
      <b>repo forall -c 'git reset --hard &amp;&amp; git clean -fdx'</b>
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1506050494206" ID="ID_1345830249" MODIFIED="1508042615164" TEXT="ssh&#x76f8;&#x5173;&#x64cd;&#x4f5c;">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1506050507823" ID="ID_248244595" MODIFIED="1506050527288">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font color="#f10e0e">&#26356;&#25442;&#20102;.ssh&#30446;&#24405;&#19979;&#38754;&#30340;&#23494;&#38053;&#20043;&#21518;&#30340;&#26356;&#26032;&#25805;&#20316;:</font></b>
    </p>
    <p>
      ssh-add -D
    </p>
    <p>
      ssh-add id_rsa
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1476935359890" FOLDED="true" ID="ID_505596854" MODIFIED="1508830422561" POSITION="right" TEXT="5.android&#x7684;&#x5c0f;&#x77e5;&#x8bc6;">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1476935377161" FOLDED="true" ID="ID_1113704051" MODIFIED="1499740313049">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1.IMEI&#21644;NVRAM
    </p>
    <p>
      imei&#20195;&#34920;International Mobile Equipment Identity
    </p>
    <p>
      &#30001;15&#20010;&#21313;&#36827;&#21046;&#30340;&#25968;&#23383;&#26500;&#25104;----&gt;14 digits plus a clock digit
    </p>
    <p>
      &#22914;&#20309;&#26597;&#30475;&#21040;IMEI&#21495;&#65306;
    </p>
    <p>
      &#25320;&#21495;&#38190;&#30424;&#25320;&#21495;&quot;*#06#&quot;
    </p>
    <p>
      &#25110;&#32773;&#26597;&#30475;settings-&gt;about phone-&gt;status
    </p>
  </body>
</html></richcontent>
<node CREATED="1476935760777" ID="ID_200177028" MODIFIED="1476941865106">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font color="#e50e0e">Non-Volatile Random Access Memory</font></b>
    </p>
    <p>
      a type of memory that retains it&#8217;s contests after switching off a device.
    </p>
    <p>
      It consists of SRAM and EEPROM chips. NVRAM contains data like WiFi
    </p>
    <p>
      and Bluetooth MAC address, Baseband version,
    </p>
    <p>
      IMEI/MEID number and other essential information.
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1479707368505" FOLDED="true" ID="ID_6989081" MODIFIED="1528247479874" POSITION="left">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      6.android&#31995;&#32479;&#20998;&#26512;&#24037;&#20855;,&#26085;&#24535;&#24037;&#20855;
    </p>
  </body>
</html></richcontent>
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1479707423903" FOLDED="true" ID="ID_1549739821" MODIFIED="1504761241093">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#ad0c0c"><b>systrace&#24037;&#20855;&#30340;&#20351;&#29992;</b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1479707445319" ID="ID_180729713" MODIFIED="1479733008529">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      systrace&#30340;&#36755;&#20986;&#32467;&#26524;&#26159;&#19968;&#20010;&#32593;&#39029;&#30340;&#25991;&#20214;&#65292;&#20351;&#29992;chrome&#25171;&#24320;&#35813;&#25991;&#20214;
    </p>
    <p>
      1.&#20351;&#29992;W&#38190;&#32553;&#23567;&#32593;&#39029;&#32467;&#26524;&#65292;&#20351;&#29992;S&#38190;&#25918;&#22823;&#32593;&#39029;&#32467;&#26524;,A&#38190;&#24038;&#24179;&#31227;&#65292;D&#38190;
    </p>
    <p>
      &#21491;&#24179;&#31227;&#65292;E&#23558;&#26102;&#38388;&#32447;&#30340;&#20013;&#24515;&#23450;&#26684;&#22312;&#24403;&#21069;&#40736;&#26631;&#30340;&#20301;&#32622;&#65292;G&#22312;&#24403;&#21069;&#36873;&#25321;&#30340;&#32447;&#31243;&#30340;&#24320;&#22987;
    </p>
    <p>
      &#26174;&#31034;&#20986;grid
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1479733013052" ID="ID_228513335" MODIFIED="1479736408172">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <i><b>&#36319;surfaceflinger&#30456;&#20851;&#30340;&#20960;&#20010;&#36827;&#31243;&#22312;systrace&#24403;&#20013;&#30340;&#34920;&#31034;&#26041;&#27861;</b></i>:
    </p>
    <p>
      1.&#36319;vsync&#30456;&#20851;&#30340;&#20960;&#20010;&#27010;&#24565;
    </p>
    <p>
      HW_VSYNC_ON_0 &#36825;&#20010;&#20195;&#34920;primary display&#30340;vsync&#34987;disable&#25110;&#32773;
    </p>
    <p>
      &#26159;enable, 0&#20195;&#34920;primary display,&#22914;&#26524;&#26159;external monitor&#23601;&#26159;1&#20102;
    </p>
    <p>
      &#30070;SF&#35201;&#27714;HWComposer&#23559;Display&#30340;VSync&#25171;&#38283;&#25110;&#38364;&#25481;&#26178;, &#36889;&#20491;event&#23601;&#26371;&#35352;&#37636;&#19979;&#20358;
    </p>
    <p>
      
    </p>
    <p>
      HW_VSYNC_0&#20195;&#34920;primary display&#30340;&#21457;&#29983;&#30340;&#26102;&#38388;&#28857;&#65292;0&#20195;&#34920;primary display
    </p>
    <p>
      
    </p>
    <p>
      &#30446;&#21069;user&#30475;&#21040;&#30059;&#38754;&#21576;&#29694;&#30340;&#36942;&#31243;&#26159;&#36889;&#27171;&#23376;&#30340;, app&#26356;&#26032;&#23427;&#30340;&#30059;&#38754;&#24460;, &#23427;&#38656;&#35201;&#36879;&#36942;BufferQueue&#36890;&#30693;SF,
    </p>
    <p>
      SF&#20877;&#23559;&#26356;&#26032;&#36942;&#30340;app&#30059;&#38754;&#33287;&#20854;&#23427;&#30340;App&#25110;Status Bar/Navigation Bar&#32068;&#21512;&#24460;, &#20877;&#39023;&#31034;&#22312;&#20351;&#29992;&#32773;&#38754;&#21069;.
    </p>
    <p>
      &#22312;&#36889;&#20491;&#36942;&#31243;&#35041;, &#26377;3&#20491;component&#29309;&#28041;&#36914;&#20358;, &#20998;&#21029;&#26159;App, SF, &#33287;Display.
    </p>
    <p>
      VSYNC-app = HW_VSYNC_0 + phase_app
    </p>
    <p>
      &#160;VSYNC-sf = HW_VSYNC_0 + phase_sf
    </p>
    <p>
      &#22914;&#26524;phase_app&#33287;phase_sf&#35373;&#23450;&#30340;&#22909;&#30340;&#35441;, &#21487;&#33021;&#22823;&#37096;&#20221;user&#20351;&#29992;&#30340;&#29376;&#27841;, App+SF&#21487;&#20197;&#22312;&#19968;&#20491;frame&#35041;&#23436;&#25104;,
    </p>
    <p>
      &#28982;&#24460;&#22312;&#19979;&#19968;&#20491;HW_VSYNC_0&#20358;&#30340;&#26178;&#20505;, &#39023;&#31034;&#22312;display&#19978;.
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1496221895678" FOLDED="true" ID="ID_127873495" MODIFIED="1504761238861">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#9f1212"><b>adb shell</b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1496221901919" ID="ID_261410774" MODIFIED="1496222380947">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#d90e0e">1.&#22312;&#36830;&#25509;&#23637;&#35759;&#24179;&#21488;&#30340;&#24320;&#21457;&#26495;&#30340;&#26102;&#20505;&#26080;&#27861;&#36827;&#34892;&#36830;&#25509;</font>
    </p>
    <p>
      &#37197;&#32622;&#20102; ~/.android/adb_usb.ini &#22686;&#21152;&#20102;&#23637;&#35759;&#30340;vendor id&#36827;&#21435;
    </p>
    <p>
      &#22312;&#30446;&#24405;/etc/udev/rules.d&#19979;&#38754;&#22686;&#21152;&#20102;70-persistent-net.rules&#25991;&#20214;&#65292;
    </p>
    <p>
      &#32593;&#19978;&#36164;&#26009;&#19978;&#38754;&#35828;&#65292;&#36816;&#34892;&#19979;&#38754;&#30340;&#21629;&#20196;&#21487;&#20197;&#33258;&#21160;&#29983;&#25104;70-persistent-net.ruies&#25991;&#20214;
    </p>
    <p>
      sudo udevadm trigger --subsystem-match=net --action=add
    </p>
    <p>
      udevadm trigger --help
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1504147366198" FOLDED="true" ID="ID_32429342" MODIFIED="1504761244142">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#c20808"><b>tombstone</b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1504147462766" ID="ID_239064288" MODIFIED="1504147836119">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      addr2line&#29992;&#20110;&#33719;&#24471;&#25351;&#23450;&#30340;&#21160;&#24577;&#38142;&#25509;&#24211;&#25991;&#20214;&#25110;&#32773;&#21487;&#25191;&#34892;&#25991;&#20214;&#24403;&#20013;
    </p>
    <p>
      &#25351;&#23450;&#22320;&#22336;&#23545;&#24212;&#30340;&#28304;&#20195;&#30721;&#20449;&#24687;&#30340;&#24037;&#20855;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1504147849061" ID="ID_1708476179" MODIFIED="1504751257993">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#a20707"><b>yunos tombstone&#30340;&#26684;&#24335;:</b></font>
    </p>
    <p>
      <font color="#1239f2">SP:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PC:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(offset:binary),&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;export_symbol:instruction_offset</font>
    </p>
    <p>
      <font color="#143dee">SP: 0xacdfe930 PC: 0xb4284cb6(0x0008bcb6:/usr/lib/libcamerahal.so), JPEG_HWGetSize:201 </font>
    </p>
    <p>
      
    </p>
    <p>
      <font color="#143dee">addr2line&#19968;&#33324;&#24773;&#20917;&#19979;&#21487;&#20197;&#20351;&#29992;&#23548;&#20986;&#31526;&#21495;&#21518;&#38754;&#32473;&#23450;&#30340;offset&#20316;&#20026;&#21442;&#25968;&#65292;&#20294;&#26159;&#26377;&#22914;&#19979;&#30340;&#20363;&#22806;: </font>
    </p>
    <p>
      <font color="#d60f08">addr2line -a 0x000156dd -e cow/libVideoDecodeV4l2.so </font>
    </p>
    <p>
      <font color="#d60f08">arm-linux-androideabi-addr2line -f -e libstagefright.so&#160;&#160;0007cd0f</font>
    </p>
    <p>
      
    </p>
    <p>
      1. PC&#20026;LR&#23492;&#23384;&#22120;&#65292;&#20063;&#23601;&#26159;&#36339;&#36716;&#25351;&#20196;&#30340;&#19979;&#19968;&#26465;&#25351;&#20196;&#22320;&#22336;(addr2line &#26102;&#38656;&#35201;&#22238;&#28335;&#21040;&#36339;&#36716;&#25351;&#20196;&#65289;
    </p>
    <p>
      &#160;&#160;&#160;* thumb&#25351;&#20196;&#24773;&#20917;&#19979;&#160;&#160;pc - 3
    </p>
    <p>
      &#160;&#160;&#160;* arm &#27169;&#24335;&#19979; pc -4
    </p>
    <p>
      
    </p>
    <p>
      2. &#26597;&#30475;binary &#20195;&#30721;&#27573;&#21152;&#36733;&#22320;&#22336;&#26159;&#21542;&#19982;&#25991;&#20214;&#20559;&#31227;&#30456;&#31561;&#65288;&#22823;&#37096;&#20998;&#30456;&#31561;&#65292;&#19981;&#30456;&#31561;&#24773;&#20917;&#19979;
    </p>
    <p>
      &#160;&#160;&#160;pc - binary vm start &#65288;maps &#20013;&#30340;&#36215;&#22987;&#22320;&#22336;&#65289;+ vm_addr - offset &#65288;readelf -l &#20013; .text &#30340;&#20449;&#24687;)
    </p>
    <p>
      
    </p>
    <p>
      addr2line &#21442;&#25968;&#20013; &#24212;&#25351;&#23450; -iCaf
    </p>
    <p>
      
    </p>
    <p>
      <b>&#25235;&#21462;tombstone&#30340;&#26041;&#27861;:</b>&#160;adb &#8211;host pull /var/tools/tombstones
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1482300801861" ID="ID_196697670" MODIFIED="1571884071586" POSITION="right" TEXT="7.SELinux SEAndroid">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1482300819318" ID="ID_1607491495" MODIFIED="1571884077421">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      DAC&#21644;MAC
    </p>
    <p>
      DAC&#23433;&#20840;&#27169;&#22411;(&#33258;&#20027;&#35775;&#38382;&#25511;&#21046;)&#65292;&#35813;&#27169;&#22411;&#30340;&#26680;&#24515;&#24605;&#24819;&#23601;&#26159;&#36827;&#31243;&#30340;&#26435;&#38480;
    </p>
    <p>
      &#36319;&#25191;&#34892;&#35813;&#36827;&#31243;&#30340;&#29992;&#25143;&#30340;&#26435;&#38480;&#26159;&#30456;&#21516;&#30340;&#12290;
    </p>
    <p>
      MAC&#23433;&#20840;&#27169;&#22411;(&#24378;&#21046;&#35775;&#38382;&#27169;&#22411;)&#65292;&#35813;&#27169;&#22411;&#30340;&#26680;&#24515;&#24605;&#24819;&#26159;&#20219;&#20309;&#36827;&#31243;&#30340;&#26435;&#38480;&#37117;&#24517;&#39035;&#22312;
    </p>
    <p>
      &#23433;&#20840;&#31574;&#30053;&#37197;&#32622;&#25991;&#20214;&#24403;&#20013;&#24471;&#21040;&#37197;&#32622;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1482302039358" ID="ID_1202106892" MODIFIED="1571898741903">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>MAC&#30340;&#22522;&#26412;&#31649;&#29702;&#21333;&#20301;&#26159;&#22522;&#20110;TE&#30340;&#65292;RBAC&#20063;&#26159;&#22522;&#20110;TE&#30340;</b>
    </p>
    <p>
      TE&#30340;allow&#35821;&#21477;&#30340;&#26684;&#24335;&#65292;&#35821;&#27861;&#22914;&#19979;&#25152;&#31034;:
    </p>
    <p>
      <b>rule_name source_type target_type : class perm_set</b>
    </p>
    <p>
      &#31034;&#20363;&#22914;&#19979;&#25152;&#31034;:
    </p>
    <p>
      <b>allow netd proc:file write</b>
    </p>
    <p>
      allow&#34920;&#31034;&#25480;&#26435;&#35821;&#21477;
    </p>
    <p>
      netd &#34920;&#31034;source type&#20063;&#34920;&#31034;subject&#65292;&#21363;&#20027;&#20307;
    </p>
    <p>
      proc target type,&#20063;&#21483;&#20570;object&#23458;&#20307;
    </p>
    <p>
      file &#20195;&#34920;object class,&#34920;&#31034;&#33021;&#22815;&#32473;&#20027;&#20307;&#25805;&#20316;&#30340;&#19996;&#35199;&#65292;&#27604;&#22914;file, dir, socket. android
    </p>
    <p>
      &#24403;&#20013;&#26377;&#19968;&#20010;&#29305;&#27530;&#30340;object class, &#37027;&#23601;&#26159;binder.
    </p>
    <p>
      write &#20195;&#34920;&#22312;object class&#24403;&#20013;&#21487;&#20197;&#36827;&#34892;&#30340;&#25805;&#20316;&#12290;
    </p>
    <p>
      allow zygote init:process sigchld
    </p>
    <p>
      &#34920;&#31034;&#20801;&#35768;zygote&#31867;&#22411;&#30340;&#36827;&#31243;&#21521;&#31867;&#22411;&#26159;init&#30340;&#36827;&#31243;&#21457;&#36865;sigchld&#20449;&#21495;
    </p>
    <p>
      allow zygote appdomain:dir { getattr search }
    </p>
    <p>
      &#34920;&#31034;&#20801;&#35768;zygote&#31867;&#22411;&#30340;&#36827;&#31243;&#21521;&#31867;&#22411;&#20026;appdomain&#30340;&#30446;&#24405;&#25191;&#34892;getattr&#21644;search&#25805;&#20316;
    </p>
  </body>
</html></richcontent>
<node CREATED="1482304381248" ID="ID_447500049" MODIFIED="1571898971238">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <i><font color="#ff3300" size="4"><b>type&#21644;attribute</b></font></i>
    </p>
    <p>
      type type_id [alias alias_id,] [attribute_id]
    </p>
    <p>
      type shell, domain &#23450;&#20041;&#19968;&#20010;shell type,&#24182;&#19988;&#25351;&#23450;&#35813;type&#30340;
    </p>
    <p>
      &#23646;&#24615;&#26159;domain
    </p>
    <p>
      
    </p>
    <p>
      type&#36319;attribute&#21487;&#20197;&#30475;&#20570;&#26159;&#23646;&#20110;&#21516;&#19968;&#20010;&#21629;&#21517;&#31354;&#38388;&#30340;&#65292;attribute&#30456;&#24403;&#20110;&#19968;&#20010;group,
    </p>
    <p>
      &#23450;&#20041;&#26576;&#20010;type&#30340;attribute&#30456;&#24403;&#20110;&#35828;&#26126;&#35813;type&#26159;&#23646;&#20110;&#35813;attribute&#30340;group&#24403;&#20013;&#30340;
    </p>
    <p>
      
    </p>
    <p>
      &#36825;&#26679;&#30340;&#22909;&#22788;&#26159;&#24403;&#25105;&#20204;&#31995;&#32479;&#24403;&#20013;&#26377;&#22823;&#37327;&#30340;type&#38656;&#35201;allow&#35821;&#21477;&#26469;&#36171;&#20104;&#26435;&#38480;&#30340;&#26102;&#20505;&#65292;&#21487;&#20197;&#23558;&#36825;&#20123;type&#30340;&#23646;&#24615;
    </p>
    <p>
      &#35774;&#32622;&#25104;&#30456;&#21516;&#30340;&#23646;&#24615;id&#65292; &#28982;&#21518;&#29992;&#19968;&#20010;allow&#35821;&#21477;&#65292;&#23558;source type&#37197;&#32622;&#25104;&#35813;attribute id&#21363;&#21487;
    </p>
    <p>
      
    </p>
    <p>
      <b>#&#23450;&#20041;&#20004;&#20010;type&#65292;&#20998;&#21035;&#26159;A_t&#21644;B_t&#65292;&#23427;&#20204;&#37117;&#31649;&#29702;&#21040;attribute_test</b>
    </p>
    <p>
      type A_t attribute_test;
    </p>
    <p>
      type B_t attribute_test;
    </p>
    <p>
      <b>#&#20889;&#19968;&#20010;allow&#35821;&#21477;&#65292;&#30452;&#25509;&#38024;&#23545;attribute_test</b>
    </p>
    <p>
      allow attribute_test C_t:file {read write};
    </p>
    <p>
      <b>#&#19978;&#38754;&#36825;&#20010;allow&#35821;&#21477;&#22312;&#32534;&#35793;&#21518;&#30340;&#23433;&#20840;&#31574;&#30053;&#25991;&#20214;&#20013;&#20250;&#34987;&#22914;&#19979;&#20004;&#26465;&#35821;&#21477;&#26367;&#20195;&#65306;</b>
    </p>
    <p>
      allow A_t C_t:file {read write};
    </p>
    <p>
      allow B_t C_t:file {read write};
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1482304537199" ID="ID_569679899" MODIFIED="1482304617373">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>rule_name</b>
    </p>
    <p>
      allow
    </p>
    <p>
      allowaudit
    </p>
    <p>
      dontaudit
    </p>
    <p>
      neverallow
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1571896799148" ID="ID_1154982478" MODIFIED="1571896950116">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#ff3300"><b>/system/sepolicy/private/security_classes &#25991;&#20214;&#37324;&#38754;&#23450;&#20041;&#20102;object class&#30340;&#31181;&#31867;</b></font>
    </p>
    <p>
      
    </p>
    <p>
      class filesystem
    </p>
    <p>
      class file
    </p>
    <p>
      class dir
    </p>
    <p>
      class fd
    </p>
    <p>
      class lnk_file
    </p>
    <p>
      class chr_file
    </p>
    <p>
      class blk_file
    </p>
    <p>
      class sock_file
    </p>
    <p>
      class fifo_file
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1571897191909" ID="ID_1828473705" MODIFIED="1571897634026">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      perm_set&#25351;&#30340;&#26159;&#26576;&#31181;object class&#25152;&#25317;&#26377;&#30340;&#25805;&#20316;
    </p>
    <p>
      
    </p>
    <p>
      &#31995;&#32479;&#24403;&#20013;&#20351;&#29992;&#30340;object class&#23545;&#24212;&#30340;perm_set&#19968;&#33324;&#37117;&#34987;&#20107;&#20808;&#22768;&#26126;&#22909;&#20102;&#65292;&#22768;&#26126;perm_set&#30340;&#26041;&#24335;&#26377;2&#31181;:
    </p>
    <p>
      
    </p>
    <p>
      <font color="#ff3300"><b>&#19968;&#31181;&#26159;common&#21629;&#20196;&#65306; common common_name {permission_name ...}</b></font>
    </p>
    <p>
      common&#23450;&#20041;&#30340;perm_set&#21487;&#20197;&#34987;class&#25152;&#23450;&#20041;&#30340;perm_set&#32487;&#25215;&#19979;&#26469;
    </p>
    <p>
      
    </p>
    <p>
      common file {
    </p>
    <p>
      &#160;&#160;&#160;&#160;ioctl read write create getattr ...
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      <font color="#ff3300"><b>class&#21629;&#20196;&#30340;&#36890;&#29992;&#26684;&#24335;:&#160;&#160;class class_name [ inherits common_name ] { permission_name ... }</b></font>
    </p>
    <p>
      
    </p>
    <p>
      class dir inherits file {
    </p>
    <p>
      &#160;&#160;&#160;&#160;add_name remove_name reparent search ...
    </p>
    <p>
      }
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1572848534886" ID="ID_1508042515" MODIFIED="1572848725712">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font color="#ff0033">RBAC</font></b>
    </p>
    <p>
      
    </p>
    <p>
      RBAC&#36319;TEAC&#30340;&#20851;&#31995;&#65292;RBAC&#21487;&#20197;&#35828;&#26159;&#38024;&#23545;TEAC&#30340;&#21152;&#24378;&#65292;TEAC&#21482;&#20250;&#38024;&#23545;type&#25110;&#32773;domain&#36827;&#34892;
    </p>
    <p>
      &#26435;&#38480;&#26816;&#26597;&#65292;RBAC&#21017;&#26159;&#38024;&#23545;user&#36319;role&#30340;&#12290;SELinux&#39318;&#20808;&#26816;&#26597;TE&#26159;&#21542;&#28385;&#36275;&#26465;&#20214;&#65292;&#28982;&#21518;&#20877;&#26816;&#26597;RBAC&#26159;&#21542;&#28385;&#36275;
    </p>
    <p>
      &#26465;&#20214;&#65292;RBAC&#36890;&#36807;constrain&#22312;user&#21644;role&#19978;&#28155;&#21152;&#38480;&#21046;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1572848804606" ID="ID_643188914" MODIFIED="1572849342497">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>role&#36319;user&#30340;&#23450;&#20041;</b>
    </p>
    <p>
      
    </p>
    <p>
      role r;&#160;&#160;&#35813;&#35821;&#21477;&#23601;&#23450;&#20041;&#20102;role
    </p>
    <p>
      role r types domain; &#23558;&#23450;&#20041;&#30340;r&#36319;attribute domain&#20851;&#32852;&#36215;&#26469;
    </p>
    <p>
      
    </p>
    <p>
      user&#30340;&#23450;&#20041;&#26684;&#24335;: user seuser_id roles role_id level mls_level range mls_range
    </p>
    <p>
      &#19968;&#20010;user&#21487;&#20197;&#36319;&#22810;&#20010;role&#36827;&#34892;&#20851;&#32852;&#65292;level&#20043;&#21518;&#26159;&#35813;user&#20855;&#26377;&#30340;&#23433;&#20840;&#32423;&#21035;&#65292;
    </p>
    <p>
      s0&#26159;&#26368;&#20302;&#32423;&#21035;&#65292;&#20063;&#26159;&#40664;&#35748;&#30340;&#32423;&#21035;&#65307; range&#21518;&#38754;&#36319;&#30340;&#26159;user&#21487;&#20197;&#36816;&#34892;&#30340;security levels&#33539;&#22260;
    </p>
    <p>
      
    </p>
    <p>
      user u roles { r } level s0 range s0 - mls_systemhigh
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1572849353992" ID="ID_1926459482" MODIFIED="1572850098095">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>Roles&#21644;User&#20043;&#38388;&#30340;&#20132;&#20114;</b>
    </p>
    <p>
      
    </p>
    <p>
      &#20801;&#35768;&#20174;&#19968;&#20010;role&#20999;&#25442;&#21040;&#21478;&#19968;&#20010;role (SELinux&#20351;&#29992;Transition&#34920;&#36798;&#20999;&#25442;)
    </p>
    <p>
      allow from_role_id to_role_id
    </p>
    <p>
      
    </p>
    <p>
      &#35282;&#33394;&#20043;&#38388;&#30340;&#20851;&#31995;
    </p>
    <p>
      dominance { role super_r {role sysadm_r; role secadm_r;} }
    </p>
    <p>
      &#36825;&#21477;&#35805;&#34920;&#31034;super_r &#32479;&#27835;&#35282;&#33394; sysadm_r &#36319; secadm_r
    </p>
    <p>
      super_r&#23558;&#20250;&#33258;&#21160;&#32487;&#25215;sysadm_r&#36319;secadm_r&#25152;&#20851;&#32852;&#30340;type
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1572850139653" ID="ID_1440665285" MODIFIED="1572852044837">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>&#22522;&#20110;role&#21644;user&#30340;&#26435;&#38480;&#25511;&#21046;</b>
    </p>
    <p>
      
    </p>
    <p>
      &#35821;&#27861;&#26684;&#24335;: constrain object_class_set&#160;&#160;&#160;perm_set&#160;&#160;&#160;expression;
    </p>
    <p>
      constrain file write (u1 == u2 and r1 == r2)
    </p>
    <p>
      &#36825;&#21477;&#35805;&#34920;&#31034;&#21482;&#26377;source&#21644;target&#30340;user&#30456;&#21516;&#65292;&#24182;&#19988;role&#20063;&#30456;&#21516;&#65292;&#25165;&#20801;&#35768;&#25805;&#20316;file
    </p>
    <p>
      
    </p>
    <p>
      constrain&#24403;&#20013;&#26368;&#20851;&#38190;&#30340;&#26159;expression
    </p>
    <p>
      u1, r1, t1 &#20195;&#34920;source&#30340;user, role&#21644;type
    </p>
    <p>
      u2, r2, t2 &#20195;&#34920;target&#30340;user, role&#21644;type
    </p>
    <p>
      &#23545;&#20110;u&#21644;r&#26469;&#35828;&#65292; == &#25110;&#32773; != &#34920;&#31034;&#30456;&#31561;&#25110;&#32773;&#19981;&#30456;&#31561;&#65292;&#23545;&#20110;t&#26469;&#35828;&#65292; == &#25110;&#32773; != &#26576;&#20010;attribute&#30340;&#26102;&#20505;
    </p>
    <p>
      &#34920;&#31034;type&#26159;&#23646;&#20110;&#25110;&#32773;
    </p>
    <p>
      dom,domby,incomp,eq&#20851;&#38190;&#23383;&#20165;&#20165;&#38024;&#23545;role, &#34920;&#31034;&#32479;&#27835;&#65292;&#34987;&#32479;&#27835;&#65292;&#27809;&#20851;&#31995;&#21644;&#30456;&#21516;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node CREATED="1482301284954" ID="ID_1734328306" MODIFIED="1482302033796">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>SELinux Policy&#35821;&#35328;</b>
    </p>
    <p>
      security context&#23433;&#20840;&#19978;&#19979;&#25991;&#30340;&#27010;&#24565;
    </p>
    <p>
      user:role:type[:range]
    </p>
    <p>
      user&#29992;&#25143;&#65292;SEAndroid&#24403;&#20013;&#23450;&#20041;&#20102;&#19968;&#20010;&#29992;&#25143;&#20026;u
    </p>
    <p>
      role&#35282;&#33394;&#65292;&#23427;&#26159;SELinux&#24403;&#20013;&#19968;&#31181;&#27604;&#36739;&#39640;&#23618;&#27425;&#30340;&#26435;&#38480;&#31649;&#29702;&#24605;&#36335;&#65292;&#21363;Role Based Access Control&#12290;
    </p>
    <p>
      &#19968;&#20010;&#29992;&#25143;&#21487;&#20197;&#23646;&#20110;&#22810;&#20010;&#35282;&#33394;&#12290;&#19968;&#33324;&#25991;&#20214;&#30340;&#35282;&#33394;&#37117;&#26159;object_r,&#36827;&#31243;&#30340;&#35282;&#33394;&#37117;&#26159;r
    </p>
    <p>
      type, &#23545;&#20110;&#36827;&#31243;&#26469;&#35828;type&#20195;&#34920;&#30340;&#26159;domain, MAC&#30340;&#22522;&#30784;&#31649;&#29702;&#24605;&#36335;&#26159;&#22522;&#20110;Type Enforcement Accesc Control&#30340;
    </p>
    <p>
      &#21363;TE
    </p>
  </body>
</html></richcontent>
<node CREATED="1571886447743" ID="ID_471698793" MODIFIED="1571889082794">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      a. &#22312;SELinux&#24403;&#20013;&#65292;&#27599;&#31181;&#19996;&#35199;&#37117;&#20250;&#34987;&#36171;&#20104;&#19968;&#20010;&#23433;&#20840;&#23646;&#24615;&#65292;&#23448;&#26041;&#30340;&#35828;&#27861;&#21483;&#20570;Security Context , &#31616;&#31216;SContext&#65292;
    </p>
    <p>
      SContext&#26159;&#19968;&#20010;&#23383;&#31526;&#20018;&#65292;&#20027;&#35201;&#30001;&#19977;&#37096;&#20998;&#32452;&#25104;&#65292;&#22312;SEAndroid&#31995;&#32479;&#20013;&#65292;
    </p>
    <p>
      &#36890;&#36807;
    </p>
    <p>
      <i><font color="#006633"><b>ps -AZ &#21629;&#20196;&#21487;&#20197;&#26597;&#30475;&#36827;&#31243;&#30340;SContext </b></font></i>
    </p>
    <p>
      <i><font color="#006633"><b>ls&#160;&#160;-Z&#160;&#160;&#160;&#160;&#21629;&#20196;&#21487;&#20197;&#26597;&#30475;&#25991;&#20214;&#30340;SContext</b></font></i>
    </p>
    <p>
      
    </p>
  </body>
</html></richcontent>
<node CREATED="1571887111033" ID="ID_806337647" MODIFIED="1571887127364">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="lddpic/SEAndroid&#x793a;&#x4f8b;&#x6587;&#x4ef6;&#x4e00;.png" />
  </body>
</html></richcontent>
<node CREATED="1571888035228" ID="ID_1471415465" MODIFIED="1571888099681">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      u&#26159;user&#30340;&#24847;&#24605;&#65292;SEAndroid&#20013;&#23450;&#20041;&#20102;&#19968;&#20010;SELinux&#29992;&#25143;&#65292;&#20540;&#26159;u
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1571888137096" ID="ID_646361651" MODIFIED="1571888465042">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      r&#26159;role&#30340;&#24847;&#24605;&#65292;&#35282;&#33394;&#20043;&#24847;&#65292;&#36825;&#26159;&#19968;&#31181;Role Based Access Control(&#22522;&#20110;&#35282;&#33394;&#30340;&#35775;&#38382;&#25511;&#21046;&#65292;RBAC)
    </p>
    <p>
      &#19968;&#20010;u&#21487;&#20197;&#23646;&#20110;&#22810;&#20010;role, &#19981;&#21516;&#30340;role&#20855;&#26377;&#19981;&#21516;&#30340;&#26435;&#38480;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1571888484720" ID="ID_406339563" MODIFIED="1571888662720">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      init, &#20195;&#34920;&#35813;&#36827;&#31243;&#25152;&#23646;&#30340;Domain&#26159;init, MAC&#30340;&#22522;&#30784;&#31649;&#29702;&#24605;&#36335;&#19981;&#26159;&#38024;&#23545;RBAC&#26159;&#38024;&#23545;Type Enforcement Access Control(TE)
    </p>
    <p>
      <font color="#ff0033"><b>&#23545;&#36827;&#31243;&#32780;&#35328;type&#23601;&#26159;domain</b></font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1571888706459" ID="ID_463149671" MODIFIED="1571888975929">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      S0 &#36319;SELinux&#35774;&#35745;&#30340;<font color="#ff0033"><b>Multi-Levels Security (MLS)</b></font>&#26426;&#21046;&#26377;&#20851;&#65292;&#21363;MLS&#23558;&#31995;&#32479;&#30340;&#36827;&#31243;&#21644;&#25991;&#20214;&#36827;&#34892;&#20102;&#20998;&#32423;&#65292;
    </p>
    <p>
      &#19981;&#21516;&#32423;&#21035;&#30340;&#36164;&#28304;&#38656;&#35201;&#23545;&#24212;&#32423;&#21035;&#30340;&#36827;&#31243;&#25165;&#21487;&#20197;&#35775;&#38382;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1571889116432" ID="ID_55261878" MODIFIED="1571889125693">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="lddpic/SEAndroid&#x793a;&#x4f8b;&#x56fe;&#x7247;2.png" />
  </body>
</html></richcontent>
<node CREATED="1571889153527" ID="ID_12427855" MODIFIED="1571889163320" TEXT="u&#x662f;&#x6587;&#x4ef6;&#x7684;user"/>
<node CREATED="1571889167047" ID="ID_1572794096" MODIFIED="1571889206265">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      object_r&#26159;&#25991;&#20214;&#30340;role&#65292; &#25991;&#20214;&#26159;&#22266;&#23450;&#27515;&#30340;&#65292;&#32479;&#19968;&#29992;object_r&#20195;&#34920;&#25991;&#20214;&#30340;&#35282;&#33394;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1571889208922" ID="ID_1860552069" MODIFIED="1571889241664">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      rootfs&#26159;&#25991;&#20214;&#30340;type, &#36319;&#36827;&#31243;&#30340;domain&#26159;&#19968;&#20010;&#24847;&#24605;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1571889249215" ID="ID_703807606" MODIFIED="1571889274344">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#ff0033"><b>s0 MLS&#30340;&#32423;&#21035;</b></font>
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1484377644917" FOLDED="true" ID="ID_1430971308" MODIFIED="1535360604961" POSITION="left" TEXT="8.Android Studio&#x4f7f;&#x7528;">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1484377660789" HGAP="6" ID="ID_1943217630" MODIFIED="1491046273718" VSHIFT="-117">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1.&#20351;&#29992;android studio&#26469;&#38405;&#35835;android&#28304;&#20195;&#30721;
    </p>
    <p>
      a. &#29983;&#25104;IDE&#24037;&#20855;&#25991;&#20214;
    </p>
    <p>
      mmm development/tools/idegen/
    </p>
    <p>
      &#32534;&#35793;&#23436;&#25104;&#20043;&#21518;&#20250;&#29983;&#25104;&#25991;&#20214;idegen.jar
    </p>
    <p>
      
    </p>
    <p>
      b. &#29983;&#25104;Android Studio&#37197;&#32622;&#25991;&#20214;
    </p>
    <p>
      bash development/tools/idegen/idegen.sh
    </p>
    <p>
      &#20027;&#35201;&#23601;&#26159;&#29983;&#25104;Android.iws Android.ipr android.iml
    </p>
    <p>
      
    </p>
    <p>
      c.&#25171;&#24320;android studio&#23548;&#20837;&#24037;&#31243;&#25991;&#20214;android.ipr
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1491046245928" HGAP="12" ID="ID_389646716" MODIFIED="1491046283862" TEXT="make idegen &amp;&amp; development/tools/idegen/idegen.sh" VSHIFT="11"/>
</node>
<node CREATED="1484720898460" FOLDED="true" ID="ID_346512524" MODIFIED="1543386526486" POSITION="right" TEXT="9.Android&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x53ca;&#x70e7;&#x5199;">
<node CREATED="1484720921741" ID="ID_332037652" MODIFIED="1484740146382">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1.ubuntu&#31995;&#32479;&#65292;&#20934;&#22791;&#24037;&#20855;make_ext4fs&#12289;simg2img&#12289;mkusering.sh&#12290;
    </p>
    <p>
      &#160;&#160;&#160;&#160;make_ext4fs&#12289;simg2img&#12289;mkusering.sh&#36825;&#19977;&#20010;&#24037;&#20855;&#21487;&#20197;&#22312;&#28304;&#30721;&#32534;&#35793;&#20043;&#21518;&#30340; out/host/linux_x86/bin&#30446;&#24405;&#19979;&#33719;&#21462;&#65292;&#24182;&#23558;&#36825;&#19977;&#20010;&#21629;&#20196;&#22797;&#21046;&#21040;ubuntu&#31995;&#32479;/usr/bin&#30446;&#24405;&#12290;
    </p>
    <p>
      2.&#35299;&#21387;system.img&#20026;system.img.ext4
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#21629;&#20196;&#65306;simg2img&#160;&#160;system.img&#160;&#160;system.img.ext4
    </p>
    <p>
      3.&#21019;&#24314;system.img.ext4&#25346;&#36733;&#30446;&#24405;tmp
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#21629;&#20196;&#65306;mkdir tmp
    </p>
    <p>
      4.&#25346;&#36733;system.img.ext4&#21040;tmp&#30446;&#24405;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#21629;&#20196;&#65306;mount -t ext4 -o loop&#160;&#160;system.img.ext4 tmp
    </p>
    <p>
      5.&#36827;&#20837;tmp&#30446;&#24405;&#65292;&#26681;&#25454;&#38656;&#27714;&#20462;&#25913;tmp&#20013;&#30340;&#30446;&#24405;&#160;
    </p>
    <p>
      6.&#23558;tmp&#30446;&#24405;&#25171;&#21253;&#20026;&#26032;&#30340;system.img
    </p>
    <p>
      &#160;&#160;&#160;&#21629;&#20196;&#65306;make_ext4fs -s -l 239M -a system system.img tmp
    </p>
    <p>
      &#160;&#160;&#20851;&#20110;make_ext4fs&#12289;simg2img&#12289;mkusering.sh&#30340;&#21442;&#25968;&#21547;&#20041;&#21487;&#20197;&#22312;&#32456;&#31471;&#20013;&#30452;&#25509;&#36755;&#20837;&#21629;&#20196;&#65292;&#24182;&#22238;&#36710;&#26597;&#30475;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1492247580941" FOLDED="true" ID="ID_1395858297" MODIFIED="1534898565879" POSITION="right">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><i><font color="#b10909">10. bbbandroid&#39033;&#30446;&#23398;&#20064;&#24320;&#21457;</font></i></b>
    </p>
  </body>
</html></richcontent>
<node CREATED="1492247642557" ID="ID_142995514" MODIFIED="1492247671357">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1.&#32534;&#35793;
    </p>
    <p>
      &#21442;&#32771;&#32593;&#22336;http://bbbandroid.sourceforge.net/build.html
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1497439750076" FOLDED="true" ID="ID_636173960" MODIFIED="1543386532258" POSITION="right" TEXT="12. android ION&#x6846;&#x67b6;">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1497439770180" FOLDED="true" ID="ID_1800164131" MODIFIED="1502794290654">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>ION&#23450;&#20041;&#20102;&#22235;&#31181;&#19981;&#21516;&#30340;heap,&#23454;&#29616;&#19981;&#21516;&#30340;&#20869;&#23384;&#20998;&#37197;&#31574;&#30053;</b>
    </p>
  </body>
</html></richcontent>
<node CREATED="1497440844738" ID="ID_1999533562" MODIFIED="1497440851091">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      ION_HEAP_TYPE_SYSTEM : &#36890;&#36807;vmalloc&#20998;&#37197;&#20869;&#23384;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1497440871707" ID="ID_1294028365" MODIFIED="1497440879442">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      ION_HEAP_TYPE_SYSTEM_CONTIG: &#36890;&#36807;kmalloc&#20998;&#37197;&#20869;&#23384;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1497440906201" ID="ID_1113501747" MODIFIED="1497440915594">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      ION_HEAP_TYPE_CARVEOUT: &#22312;&#20445;&#30041;&#20869;&#23384;&#22359;&#20013;&#65288;reserve memory&#20998;&#37197;&#20869;&#23384;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1497440917913" ID="ID_1981588105" MODIFIED="1497440945274">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      ION_HEAP_TYPE_CUSTOM: &#30001;&#23458;&#25143;&#33258;&#24049;&#23450;&#20041;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1498117154864" ID="ID_1166414303" MODIFIED="1498117293582">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Heap: &#29992;&#26469;&#34920;&#31034;&#20869;&#23384;&#20998;&#37197;&#30340;&#30456;&#20851;&#20449;&#24687;&#65292;&#21253;&#25324;id, type, name&#31561;&#12290;&#29992;struct ion_heap&#34920;&#31034;
    </p>
    <p>
      Client: Ion&#30340;&#20351;&#29992;&#32773;&#65292;&#29992;&#25143;&#31354;&#38388;&#21644;&#20869;&#26680;&#25511;&#20214;&#35201;&#20351;&#29992;ION&#30340;buffer,&#24517;&#39035;&#20808;&#21019;&#24314;&#19968;&#20010;client,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#19968;&#20010;client&#21487;&#20197;&#26377;&#22810;&#20010;buffer&#65292;&#29992;struct ion_buffer&#34920;&#31034;
    </p>
    <p>
      Handle: &#23558;buffer&#35813;&#25277;&#35937;&#20986;&#26469;&#65292;&#21487;&#20197;&#35748;&#20026;ION&#29992;handle&#26469;&#31649;&#29702;buffe
    </p>
    <p>
      &#29992;struct ion_handle&#34920;&#31034;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1492429390150" FOLDED="true" ID="ID_1126491415" MODIFIED="1566110151617" POSITION="left">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>10.Android Camera HAL </b>
    </p>
    <p>
      <b>https://source.android.com/devices/camera/camera3</b>
    </p>
  </body>
</html></richcontent>
<node CREATED="1492429588556" FOLDED="true" ID="ID_1170241637" MODIFIED="1562650401739">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><i><font color="#dd1919">camera hal1</font></i></b>
    </p>
    <p>
      camera hal1&#26159;&#34987;&#35774;&#35745;&#25104;&#19968;&#20010;&#40657;&#30418;&#23376;&#30340;&#65292;&#25317;&#26377;&#39640;&#23618;&#25511;&#21046;&#21644;&#19979;&#38754;&#30340;
    </p>
    <p>
      &#19977;&#31181;&#25805;&#20316;&#27169;&#24335;
    </p>
    <p>
      Preview
    </p>
    <p>
      Video Record
    </p>
    <p>
      Still Capture
    </p>
  </body>
</html></richcontent>
<node CREATED="1492430482477" ID="ID_1168344426" MODIFIED="1492430702484">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1.android7.0 &#20173;&#28982;&#32487;&#32493;&#25903;&#25345;hal1, &#38500;&#27492;&#20043;&#22806;
    </p>
    <p>
      android camera &#26381;&#21153;&#20173;&#28982;&#25903;&#25345;hal1&#21644;hal3&#30340;&#23454;&#29616;&#65292;
    </p>
    <p>
      &#24403;&#20320;&#24076;&#26395;&#25903;&#25345;&#21151;&#33021;&#31616;&#21333;&#30340;&#21069;&#32622;&#25668;&#20687;&#22836;&#30340;&#26102;&#20505;&#21487;&#20197;&#20351;&#29992;hal1,
    </p>
    <p>
      &#24403;&#20320;&#24076;&#26395;&#25903;&#25345;&#21151;&#33021;&#26356;&#22797;&#26434;&#30340;&#21518;&#32622;&#25668;&#20687;&#22836;&#30340;&#26102;&#20505;&#21487;&#20197;&#20351;&#29992;hal3
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1492653017734" FOLDED="true" ID="ID_500027607" MODIFIED="1566110150087">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font color="#ea0c0c">&#19968;&#20123;&#26415;&#35821;:</font></b>
    </p>
    <p>
      <b>camera API1</b>
    </p>
    <p>
      app&#23618;&#38754;&#30340;framework&#26694;&#26550;&#65292;&#36816;&#34892;&#22312;&#26089;&#26399;&#30340;android4.4&#19978;&#38754;,
    </p>
    <p>
      &#36890;&#36807;android.hardware.Camera&#26292;&#38706;&#20986;&#26469;
    </p>
    <p>
      <b>Camera API2</b>
    </p>
    <p>
      &#36816;&#34892;&#22312;android5.0&#21363;&#20197;&#21518;&#30340;&#24179;&#21488;&#19978;&#38754;
    </p>
    <p>
      android.hardware.camera2
    </p>
    <p>
      <b>Camera HAL</b>
    </p>
    <p>
      camera module&#23618;&#65292;&#30001;&#20855;&#20307;&#30340;&#21378;&#23478;&#23454;&#29616;&#65292;app&#23618;&#38754;&#30340;framework&#26159;
    </p>
    <p>
      &#22522;&#20110;hal&#23618;&#26500;&#24314;&#20986;&#26469;&#30340;
    </p>
    <p>
      <b>Camera HAL3.1</b>
    </p>
    <p>
      android4.4&#24403;&#20013;release&#20986;&#26469;&#30340;hal&#23618;&#30340;&#29256;&#26412;
    </p>
    <p>
      <b>Camera HAL3.2</b>
    </p>
    <p>
      Android5.0&#24403;&#20013;release&#20986;&#26469;&#30340;hal&#23618;&#29256;&#26412;
    </p>
    <p>
      <b>Camera API1 CTS</b>
    </p>
    <p>
      camera&#20860;&#23481;&#24615;&#27979;&#35797;&#22871;&#20214;,&#22522;&#20110;camera api1
    </p>
    <p>
      <b>Camera API2 CTS</b>
    </p>
    <p>
      camera&#20860;&#23481;&#24615;&#27979;&#35797;&#22871;&#20214;&#65292;&#22522;&#20110;camera api2
    </p>
  </body>
</html></richcontent>
<node CREATED="1492654584536" ID="ID_494604736" MODIFIED="1563350920213">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      camera framwork api2&#26292;&#38706;&#20102;&#26356;&#24213;&#23618;&#30340;camera&#25511;&#21046;&#25509;&#21475;&#32473;app,
    </p>
    <p>
      &#21253;&#25324;&#39640;&#25928;&#30340;&#38646;&#25335;&#36125;burst/streaming&#27969;&#21644;&#23545;&#21333;&#24103;&#30340;
    </p>
    <p>
      exposure, gain, white balance gains, color conversion, denoising, sharpening
    </p>
    <p>
      &#31561;&#21442;&#25968;&#30340;&#25511;&#21046;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1496283080255" ID="ID_845987155" MODIFIED="1496283099972">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>camera api2&#30340;&#20195;&#30721;&#20301;&#32622;</b>
    </p>
    <p>
      <span style="display: inline !important; text-transform: none; word-spacing: 0px; font-size: 14px; font-family: microsoft yahei; white-space: normal; font-style: normal; letter-spacing: normal; background-color: rgb(255, 255, 255); float: none; text-indent: 0px; color: rgb(0, 0, 0); font-weight: normal; text-align: left" http-equiv="content-type" content="text/html; charset=utf-8"><font face="microsoft yahei" color="rgb(0, 0, 0)" size="14px">ICameraService.aidl:frameworks/base/core/java/android/hardware</font></span><font face="microsoft yahei" color="rgb(0, 0, 0)" size="14px"><span class="Apple-converted-space">&#160;</span><br align="left" style="text-indent: 0px; word-spacing: 0px; background-color: rgb(255, 255, 255); white-space: normal; letter-spacing: normal; text-transform: none" /><span style="display: inline !important; text-transform: none; word-spacing: 0px; font-size: 14px; font-family: microsoft yahei; font-style: normal; white-space: normal; background-color: rgb(255, 255, 255); letter-spacing: normal; float: none; text-indent: 0px; color: rgb(0, 0, 0); font-weight: normal; text-align: left">CameraService.cpp:frameworks/av/services/camera/libcameraservice</span><span class="Apple-converted-space">&#160;</span><br align="left" style="text-indent: 0px; word-spacing: 0px; background-color: rgb(255, 255, 255); white-space: normal; letter-spacing: normal; text-transform: none" /><span style="display: inline !important; text-transform: none; word-spacing: 0px; font-size: 14px; font-family: microsoft yahei; font-style: normal; white-space: normal; background-color: rgb(255, 255, 255); letter-spacing: normal; float: none; text-indent: 0px; color: rgb(0, 0, 0); font-weight: normal; text-align: left">CameraManager.java:frameworks/base/core/java/android/hardware/camera2</span></font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1496283396140" ID="ID_1381189423" MODIFIED="1496283631290">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      java&#23618;&#22312;&#26412;&#22320;&#36890;&#36807;binder&#26426;&#21046;&#33719;&#21462;&#20102;&#19968;&#20010;cameraservice&#26381;&#21153;&#65292;
    </p>
    <p>
      &#22312;cameraservice&#24403;&#20013;&#36890;&#36807;&#20195;&#29702;ICameraDeviceUser&#26469;&#23454;&#29616;&#65292;&#36890;&#36807;AIDL
    </p>
    <p>
      &#23454;&#29616;&#19968;&#20010;ICameraDeviceUser&#25509;&#21475;&#65292;&#20174;&#32780;&#22312;java&#23618;&#36890;&#36807;camerauser&#20195;&#29702;&#36827;&#34892;&#36890;&#20449;
    </p>
    <p>
      &#20195;&#30721;&#20301;&#32622;
    </p>
    <p>
      <span style="display: inline !important; text-transform: none; word-spacing: 0px; font-size: 14px; font-family: microsoft yahei; white-space: normal; font-style: normal; letter-spacing: normal; background-color: rgb(255, 255, 255); float: none; text-indent: 0px; color: rgb(0, 0, 0); font-weight: normal; text-align: left" http-equiv="content-type" content="text/html; charset=utf-8"><font face="microsoft yahei" color="rgb(0, 0, 0)" size="14px">ICameraDeviceUser.aidl:frameworks/base/core/java/android/hardware/camera2</font></span><font face="microsoft yahei" color="rgb(0, 0, 0)" size="14px"><span class="Apple-converted-space">&#160;</span><br align="left" style="text-indent: 0px; word-spacing: 0px; background-color: rgb(255, 255, 255); white-space: normal; letter-spacing: normal; text-transform: none" /><span style="display: inline !important; text-transform: none; word-spacing: 0px; font-size: 14px; font-family: microsoft yahei; font-style: normal; white-space: normal; background-color: rgb(255, 255, 255); letter-spacing: normal; float: none; text-indent: 0px; color: rgb(0, 0, 0); font-weight: normal; text-align: left">ICameraDeviceUser.cpp:frameworks/av/camera/camera2</span><span class="Apple-converted-space">&#160;</span><br align="left" style="text-indent: 0px; word-spacing: 0px; background-color: rgb(255, 255, 255); white-space: normal; letter-spacing: normal; text-transform: none" /><span style="display: inline !important; text-transform: none; word-spacing: 0px; font-size: 14px; font-family: microsoft yahei; font-style: normal; white-space: normal; background-color: rgb(255, 255, 255); letter-spacing: normal; float: none; text-indent: 0px; color: rgb(0, 0, 0); font-weight: normal; text-align: left">CameraDeviceImpl.java:frameworks/base/core/java/android/hardware/camera2/impl</span></font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1496285737756" ID="ID_1102669095" MODIFIED="1496286751490">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <i><b><font color="#208456">framework&#23618;&#25171;&#24320;&#30456;&#26426;&#30340;&#27969;&#31243;:</font></b></i>
    </p>
    <p>
      IBinder cameraServiceBinder = ServiceManager.getService(CAMERA_SERVICE_BINDER_NAME);
    </p>
    <p>
      ICameraService cameraServiceRaw = ICameraService.Stub.asInterface(cameraServiceBinder);
    </p>
    <p>
      ICameraService cameraService = CameraServiceBinderDecorator.newInstance(cameraServiceRaw);
    </p>
    <p>
      mCameraService = cameraService;
    </p>
    <p>
      
    </p>
    <p>
      android.hardware.camera2.impl.CameraDeviceImpl deviceImpl =
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;new android.hardware.camera2.impl.CameraDeviceImpl(
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cameraId,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;callback,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;handler,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;characteristics);
    </p>
    <p>
      BinderHolder holder = new BinderHolder()
    </p>
    <p>
      ICameraDeviceCallbacks callbacks = deviceImpl.getCallbacks();
    </p>
    <p>
      cameraService.connectDevice(callbacks, id,mContext.getOpPackageName(), USE_CALLING_UID, holder);
    </p>
    <p>
      cameraUser = ICameraDeviceUser.Stub.asInterface(holder.getBinder());
    </p>
    <p>
      deviceImpl.setRemoteDevice(cameraUser)
    </p>
    <p>
      device = deviceImpl;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1492656434946" ID="ID_664487457" MODIFIED="1492657128099">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Android5.0&#21253;&#25324;&#21518;&#38754;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1496650692468" FOLDED="true" ID="ID_1529457093" MODIFIED="1536301550910" TEXT="camera api1">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1496650702938" ID="ID_1766165661" MODIFIED="1496652359648">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      base/core/java/android/hardware/Camera.java&#37324;&#38754;&#20250;
    </p>
    <p>
      &#35843;&#29992;native&#20989;&#25968;&#65292;&#36827;&#34892;jni&#30340;&#35843;&#29992;&#21040;&#20301;&#20110;&#25991;&#20214;
    </p>
    <p>
      frameworks/base/core/jni/android_hardware_Camera.cpp&#37324;&#38754;
    </p>
    <p>
      &#23450;&#20041;&#30340;&#26412;&#22320;&#20989;&#25968;&#24403;&#20013;&#12290;
    </p>
    <p>
      &#22312;android_hardware_Camera_native_setup&#24403;&#20013;&#36890;&#36807;&#35843;&#29992;sp&lt;Camera&gt; camera = Camera::connect
    </p>
    <p>
      &#36319;CameraService&#36890;&#36807;binder&#24314;&#31435;&#20102;&#20114;&#30456;&#30340;&#23458;&#25143;&#20195;&#29702;&#35775;&#38382;&#26426;&#21046;&#65292;&#25105;&#20204;&#20174;&#32780;&#21487;&#20197;&#35775;&#38382;
    </p>
    <p>
      cameraservice&#37324;&#38754;&#23450;&#20041;&#30340;startPreview&#21644;autoFocus&#31561;&#20989;&#25968;&#20102;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      frameworks/av/services/camera/libcameraservice/api1/CameraClient.cpp&#24403;&#20013;&#30340;initialize&#20250;&#30452;&#25509;&#36319;
    </p>
    <p>
      CameraHardwareInterface&#36827;&#34892;&#20132;&#27969;&#65292;&#20877;&#30452;&#25509;&#36319;hal&#23618;&#36827;&#34892;&#20132;&#27969;
    </p>
    <p>
      frameworks/av/services/camera/libcameraservice/device1/CameraHardwareInterface.h
    </p>
    <p>
      &#30452;&#25509;&#36319;hal&#23618;&#36827;&#34892;&#36890;&#20449;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1496707116451" ID="ID_139126017" MODIFIED="1496707128567">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="camera/android-camera-framework.png" />
  </body>
</html></richcontent>
</node>
<node CREATED="1535010899004" ID="ID_739069034" MODIFIED="1535010909964">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="camera/ape_fwk_camera2.png" />
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1497428548995" ID="ID_831054097" MODIFIED="1497428591873">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="camera/exif&#x5f53;&#x4e2d;&#x4fdd;&#x5b58;&#x7684;&#x56fe;&#x7247;&#x65cb;&#x8f6c;&#x6807;&#x5fd7;.png" />
  </body>
</html></richcontent>
</node>
<node CREATED="1530841569353" ID="ID_686994364" MODIFIED="1530844480892">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct camera_metadata {
    </p>
    <p>
      &#160;&#160;&#160;&#160;metadata_size_t&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;size;&#160;&#160;&#160;&#160;//&#25972;&#20010;metadata&#25968;&#25454;&#22823;&#23567;
    </p>
    <p>
      &#160;&#160;&#160;&#160;uint32_t&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;version; //&#29256;&#26412;&#21495;&#65292;&#25105;&#20204;&#19981;&#29992;&#31649;&#23427;
    </p>
    <p>
      &#160;&#160;&#160;&#160;uint32_t&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;flags;
    </p>
    <p>
      &#160;&#160;&#160;&#160;metadata_size_t&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;entry_count;&#160;&#160; //&#24050;&#32463;&#28155;&#21152;TAG&#30340;&#20837;&#21475;&#25968;&#37327;,&#65288;&#21363;&#20869;&#23384;&#22359;&#20013;&#24050;&#32463;&#21253;&#21547;&#22810;&#23569;TAG&#20102;&#65289;
    </p>
    <p>
      &#160;&#160;&#160;&#160;metadata_size_t&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;entry_capacity;//&#26368;&#22823;&#33021;&#23481;&#32435;TAG&#30340;&#20837;&#21475;&#25968;&#37327;&#65288;&#21363;&#26368;&#22823;&#33021;&#25918;&#22810;&#23569;tag&#65289;
    </p>
    <p>
      &#160;&#160;&#160;&#160;metadata_uptrdiff_t&#160;&#160;&#160;&#160;&#160;&#160;entries_start; // Offset from camera_metadata entry&#25968;&#25454;&#21306;&#22495;&#30456;&#23545;&#24320;&#22987;&#22788;&#30340;&#20559;&#31227;
    </p>
    <p>
      &#160;&#160;&#160;&#160;metadata_size_t&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;data_count;&#160;&#160;&#160;&#160;//&#35760;&#24405;&#25968;&#25454;&#27573;&#24403;&#21069;&#24050;&#29992;&#30340;&#20869;&#23384;&#31354;&#38388;
    </p>
    <p>
      &#160;&#160;&#160;&#160;metadata_size_t&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;data_capacity; //&#24635;&#30340;&#25968;&#25454;&#27573;&#20869;&#23384;&#31354;&#38388;
    </p>
    <p>
      &#160;&#160;&#160;&#160;metadata_uptrdiff_t&#160;&#160;&#160;&#160;&#160;&#160;data_start; // Offset from camera_metadata&#160; data&#25968;&#25454;&#21306;&#30456;&#23545;&#24320;&#22987;&#22788;&#30340;&#20559;&#31227;
    </p>
    <p>
      &#160;&#160;&#160;&#160;uint8_t&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reserved[]; &#20445;&#30041;
    </p>
    <p>
      };
    </p>
    <p>
      
    </p>
    <p>
      typedef struct camera_metadata_buffer_entry {
    </p>
    <p>
      &#160;&#160;&#160;&#160;uint32_t tag;
    </p>
    <p>
      &#160;&#160;&#160;&#160;uint32_t count;
    </p>
    <p>
      &#160;&#160;&#160;&#160;union {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;uint32_t offset;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;uint8_t&#160;&#160;value[4];
    </p>
    <p>
      &#160;&#160;&#160;&#160;} data;
    </p>
    <p>
      &#160;&#160;&#160;&#160;uint8_t&#160;&#160;type;
    </p>
    <p>
      &#160;&#160;&#160;&#160;uint8_t&#160;&#160;reserved[3];
    </p>
    <p>
      } camera_metadata_buffer_entry_t;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1535015297963" FOLDED="true" ID="ID_208278175" MODIFIED="1566110139869">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4" color="#e8291f"><b>Android 9 Multicamera Support</b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1536197599490" FOLDED="true" ID="ID_525145164" MODIFIED="1566110134097" TEXT="1.&#x4ee3;&#x7801;&#x6d41;&#x7a0b;&#x5206;&#x6790;">
<node CREATED="1536198069764" FOLDED="true" ID="ID_1926744974" MODIFIED="1566110121508">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><i>Status CameraService::connect(</i></font>
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const sp&lt;ICameraClient&gt;&amp; cameraClient,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int api1CameraId,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const String16&amp; clientPackageName,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int clientUid,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int clientPid,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*out*/
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sp&lt;ICamera&gt;* device<font size="4"><i>)</i></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1538272491942" ID="ID_1567553604" MODIFIED="1538272862351">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4">sp&lt;Client&gt; client = nullptr;</font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1536198333048" FOLDED="true" ID="ID_609221105" MODIFIED="1566110120151">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><i>connectHelper&lt;ICameraClient,Client&gt;</i></font>
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <font size="4"><i>&#160;(</i></font>cameraClient, id, api1CameraId,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CAMERA_HAL_API_VERSION_UNSPECIFIED, clientPackageName, clientUid, clientPid, API_1,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*legacyMode*/ false, /*shimUpdateOnly*/ false,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*out*/client<font size="4"><i>) </i></font>
    </p>
    <p>
      
    </p>
    <p>
      <font size="4" color="#cb0707"><i>template&lt;class CALLBACK, class CLIENT&gt;</i></font>
    </p>
    <p>
      <font size="4" color="#c81717"><i>Status CameraService::connectHelper(</i></font><i><font size="4">const sp&lt;CALLBACK&gt;&amp; cameraCb, const String8&amp; cameraId, </font></i>
    </p>
    <p>
      <font size="4"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int api1CameraId, int halVersion, const String16&amp; clientPackageName, int clientUid, </i></font>
    </p>
    <p>
      <font size="4"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int clientPid, apiLevel effectiveApiLevel, bool legacyMode, bool shimUpdateOnly, </i></font>
    </p>
    <p>
      <font size="4"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*out*/sp&lt;CLIENT&gt;&amp; device</i></font><i><font size="4" color="#d11212">)</font></i>
    </p>
  </body>
</html></richcontent>
<node CREATED="1536202412485" ID="ID_1204584507" MODIFIED="1536202472371">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      sp&lt;BasicClient&gt; clientTmp = nullptr;
    </p>
    <p>
      std::shared_ptr&lt;resource_policy::ClientDescriptor&lt;String8, sp&lt;BasicClient&gt;&gt;&gt; partial;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1536202539624" ID="ID_1117220175" MODIFIED="1536202593612">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      handleEvictionsLocked(cameraId, originalClientPid, effectiveApiLevel,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;IInterface::asBinder(cameraCb), clientName8, /*out*/&amp;clientTmp,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*out*/&amp;partial))
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1538273228088" ID="ID_961530657" MODIFIED="1538273244021" TEXT="sp&lt;BasicClient&gt; tmp = nullptr;"/>
<node CREATED="1538273247322" ID="ID_356246693" MODIFIED="1538277168845">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      makeClient(this, cameraCb, clientPackageName, cameraId, facing, clientPid,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clientUid, getpid(), legacyMode, halVersion, deviceVersion, effectiveApiLevel,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*out*/&amp;tmp))
    </p>
    <p>
      &#22312;&#20989;&#25968;makeClient&#37324;&#38754;&#65292;&#23545;&#20110;hal3&#65292;&#20250;&#36208;&#22914;&#19979;&#30340;&#27969;&#31243;
    </p>
    <ol>
      <li>
        sp&lt;hardware::camera2::ICameraDeviceCallbacks&gt; tmp = static_cast&lt;hardware::camera2::ICameraDeviceCallbacks*&gt;(cameraCb.get());
      </li>
      <li>
        *client = new CameraDeviceClient(cameraService, tmp, packageName, cameraId,facing, clientPid, clientUid, servicePid);
      </li>
    </ol>
    <p>
      
    </p>
    <p>
      
    </p>
    <p>
      
    </p>
    <p>
      
    </p>
    <p>
      client = static_cast&lt;CLIENT*&gt;(tmp.get());
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1538277247177" ID="ID_717294254" MODIFIED="1538277249685" TEXT="err = client-&gt;initialize(mCameraProviderManager);"/>
<node CREATED="1538277265207" ID="ID_563493882" MODIFIED="1538277267941" TEXT="device = client;"/>
</node>
<node CREATED="1538272868379" ID="ID_1783441534" MODIFIED="1538272902686">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4">*device = client;</font>
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1538276553937" FOLDED="true" ID="ID_1921305147" MODIFIED="1566110126640">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="3" color="#f51717"><b>&#23545;&#20110;hal3&#26469;&#35828;&#65292;&#36830;&#25509;service&#36208;&#30340;&#26159;&#22914;&#19979;&#30340;&#27969;&#31243;:</b></font>
    </p>
    <p>
      
    </p>
    <p>
      Status CameraService::connectDevice(
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const sp&lt;hardware::camera2::ICameraDeviceCallbacks&gt;&amp; cameraCb,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const String16&amp; cameraId,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const String16&amp; clientPackageName,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int clientUid,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*out*/
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sp&lt;hardware::camera2::ICameraDeviceUser&gt;* device)
    </p>
  </body>
</html></richcontent>
<node CREATED="1538276724293" ID="ID_14677516" MODIFIED="1538276737751">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      sp&lt;CameraDeviceClient&gt; client = nullptr;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1538276741157" FOLDED="true" ID="ID_1210746798" MODIFIED="1566110116608">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      connectHelper&lt;hardware::camera2::ICameraDeviceCallbacks,CameraDeviceClient&gt;(cameraCb, id,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CAMERA_HAL_API_VERSION_UNSPECIFIED, clientPackageName,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clientUid, USE_CALLING_PID, API_2,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*legacyMode*/ false, /*shimUpdateOnly*/ false,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*out*/client);
    </p>
  </body>
</html></richcontent>
<node CREATED="1562662168756" ID="ID_1343478090" MODIFIED="1562748938598">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      template&lt;class KEY, class VALUE, class LISTENER=DefaultEventListener&lt;KEY, VALUE&gt;&gt;
    </p>
    <p>
      class ClientManager {
    </p>
    <p>
      }&#65307;
    </p>
    <p>
      
    </p>
    <p>
      class ClientManager &#35813;&#31867;&#23553;&#35013;&#20102;&#22522;&#20110;LRU&#31639;&#27861;&#30340;&#27963;&#36291;client&#21015;&#34920;&#65292;&#23545;&#20110;&#22788;&#29702;&#20849;&#20139;&#36164;&#28304;&#35775;&#38382;&#65292;
    </p>
    <p>
      &#23454;&#29616;&#20102;&#19968;&#31181;&#39537;&#36880;&#31639;&#27861;&#12290;
    </p>
    <p>
      &#24403;&#25105;&#20204;&#28155;&#21152;&#19968;&#20010;&#26032;&#30340;descriptor&#20043;&#21518;&#65292;&#39537;&#36880;&#34892;&#20026;&#22914;&#19979;&#65306;
    </p>
    <p>
      &#28155;&#21152;&#19968;&#20010;descriptor, &#35813;descriptor&#36319;&#24050;&#26377;&#30340;&#25551;&#36848;&#31526;&#20855;&#26377;&#30456;&#21516;&#30340;key&#20540;&#65292;&#37027;&#20040;&#20302;&#20248;&#20808;&#32423;&#30340;&#25551;&#36848;&#31526;&#20250;&#34987;
    </p>
    <p>
      &#31227;&#38500;&#25481;&#12290;
    </p>
    <p>
      &#26032;&#28155;&#21152;&#30340;&#25551;&#36848;&#31526;&#24102;&#26377; conflicting keys&#21015;&#34920;&#65292;&#22914;&#26524;&#31995;&#32479;&#24403;&#20013;&#26377;&#25551;&#36848;&#31526;&#30340;key&#20540;&#20301;&#20110;&#36825;&#20010;&#21015;&#34920;&#24403;&#20013;&#65292;
    </p>
    <p>
      &#24182;&#19988;&#35813;&#25551;&#36848;&#31526;&#30340;&#20248;&#20808;&#32423;&#31561;&#20110;&#25110;&#32773;&#23567;&#20110;&#28155;&#21152;&#30340;&#25551;&#36848;&#31526;&#20248;&#20808;&#32423;&#65292;&#37027;&#20040;&#35813;&#25551;&#36848;&#31526;&#23601;&#20250;&#34987;&#31227;&#38500;&#25481;&#12290;
    </p>
    <p>
      &#22914;&#26524;&#25152;&#26377;&#30340;&#25551;&#36848;&#31526;&#30340;cost&#21152;&#36215;&#26469;&#36229;&#36807;&#20102;&#35813;ClientManager&#20801;&#35768;&#30340;&#20540;&#65292;&#37027;&#20040;&#30456;&#24212;&#30340;&#39537;&#36880;&#31574;&#30053;&#20250;&#34987;&#20351;&#29992;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562811195770" ID="ID_983275974" MODIFIED="1562842627677">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>sp&lt;CLIENT&gt; client = nullptr;</b>
    </p>
    <p>
      &#21363;sp&lt;CameraDeviceClient&gt;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562811312280" ID="ID_404188946" MODIFIED="1562811690073">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      sp&lt;BasicClient&gt; clientTmp = nullptr;
    </p>
    <p>
      std::shared_ptr&lt;resource_policy::ClientDescriptor&lt;String8, sp&lt;BasicClient&gt;&gt;&gt; partial;
    </p>
    <p>
      &#36164;&#28304;&#25551;&#36848;&#31526;&#24212;&#35813;&#26159;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562811867569" FOLDED="true" ID="ID_984380264" MODIFIED="1562841760346">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>handleEvictionsLocked(</b>cameraId, originalClientPid, effectiveApiLevel,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;IInterface::asBinder(cameraCb), clientName8, <i><b><font color="#ff0033">/*out*/&amp;clientTmp</font></b></i><font color="#ff0033">,</font>
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <i><b><font color="#ff0033">/*out*/&amp;partial</font></b></i><b>)</b>
    </p>
  </body>
</html></richcontent>
<node CREATED="1562812051666" ID="ID_1896354624" MODIFIED="1562838119827">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      typedef std::shared_ptr&lt;resource_policy::ClientDescriptor&lt;String8,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sp&lt;CameraService::BasicClient&gt;&gt;&gt; DescriptorPtr;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562812112002" ID="ID_1320000873" MODIFIED="1562837277472">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      std::vector&lt;DescriptorPtr&gt; evictedClients;
    </p>
    <p>
      <b>DescriptorPtr clientDescriptor;</b>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562824725210" ID="ID_230265383" MODIFIED="1562824795707">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      std::vector&lt;int&gt; ownerPids(mActiveClientManager.getAllOwners());
    </p>
    <p>
      ownerPids.push_back(clientPid);
    </p>
    <p>
      std::vector&lt;int&gt; priorityScores(ownerPids.size());
    </p>
    <p>
      std::vector&lt;int&gt; states(ownerPids.size());
    </p>
    <p>
      
    </p>
    <p>
      &#22810;&#20010;vector&#29992;&#20110;&#20445;&#23384;&#24403;&#21069;&#30340;&#25152;&#26377;&#30340;client&#30340;pid&#20540;&#65292;&#23545;&#24212;&#30340;priority&#20540;&#65292;
    </p>
    <p>
      &#29366;&#24577;&#20540;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562825310338" ID="ID_1255675716" MODIFIED="1562825334596">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      status_t err = ProcessInfoService::getProcessStatesScoresFromPids(
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ownerPids.size(), &amp;ownerPids[0], /*out*/&amp;states[0],
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;/*out*/&amp;priorityScores[0]);
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562828241691" ID="ID_1402569365" MODIFIED="1562828304295">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      std::map&lt;int,resource_policy::ClientPriority&gt; pidToPriorityMap;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for (size_t i = 0; i &lt; ownerPids.size() - 1; i++) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pidToPriorityMap.emplace(ownerPids[i],
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;resource_policy::ClientPriority(priorityScores[i], states[i]));
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mActiveClientManager.updatePriorities(pidToPriorityMap);
    </p>
    <p>
      &#26500;&#24314;&#19968;&#20010;client pid &#21644; client priority &#30340;map&#34920;&#65292;&#20351;&#29992;&#35813;map&#26356;&#26032;mActiveClientManager
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562837344377" ID="ID_1279341908" MODIFIED="1562837369132">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      auto state = getCameraState(cameraId);
    </p>
    <p>
      &#33719;&#21462;&#35201;&#25171;&#24320;&#30340;camera id&#30340;&#29366;&#24577;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562837386729" ID="ID_758691915" MODIFIED="1562837434401">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      clientDescriptor = CameraClientManager::makeClientDescriptor(cameraId,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sp&lt;BasicClient&gt;{nullptr}, static_cast&lt;int32_t&gt;(state-&gt;getCost()),
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;state-&gt;getConflicting(),
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;priorityScores[priorityScores.size() - 1],
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clientPid,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;states[states.size() - 1]);
    </p>
    <p>
      &#26500;&#24314;&#30003;&#35831;client&#30340;&#25551;&#36848;&#31526;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562841185999" ID="ID_1812612549" MODIFIED="1562841215884">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#25214;&#21040;&#26377;&#20914;&#31361;&#30340;&#25551;&#36848;&#31526;
    </p>
    <p>
      auto evicted = mActiveClientManager.wouldEvict(clientDescriptor);
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562841562052" ID="ID_700199612" MODIFIED="1562841600199">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#19979;&#38754;&#22823;&#37327;&#30340;&#20195;&#30721;&#26159;&#26681;&#25454;&#20914;&#31361;&#30340;&#25551;&#36848;&#31526;&#23545;
    </p>
    <p>
      &#36830;&#25509;&#30340;camera clients&#20570;&#28165;&#29702;&#24037;&#20316;&#65292;&#36825;&#37324;&#30053;&#36807;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562841630480" ID="ID_258264180" MODIFIED="1562841636674" TEXT="*partial = clientDescriptor;">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
</node>
</node>
<node CREATED="1562841707150" ID="ID_902456851" MODIFIED="1562841731287">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      if (clientTmp.get() != nullptr) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Handle special case for API1 MediaRecorder where the existing client is returned
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;device = static_cast&lt;CLIENT*&gt;(clientTmp.get());
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return ret;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
    </p>
    <p>
      &#29992;&#20110;&#22788;&#29702;api1&#30340;&#65292;&#19981;&#29992;&#29702;&#20250;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562841811892" ID="ID_1027697412" MODIFIED="1562841815605" TEXT="sp&lt;BasicClient&gt; tmp = nullptr;"/>
<node CREATED="1562841862736" ID="ID_1922079714" MODIFIED="1562842304717">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>makeClient(</b>this, cameraCb, clientPackageName, cameraId, facing, clientPid,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clientUid, getpid(), legacyMode, halVersion, deviceVersion, effectiveApiLevel,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*out*/&amp;tmp<b>) </b>
    </p>
    <p>
      
    </p>
    <p>
      <i>Status CameraService::makeClient(const sp&lt;CameraService&gt;&amp; cameraService, </i>
    </p>
    <p>
      <i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const sp&lt;IInterface&gt;&amp; cameraCb, const String16&amp; packageName, const String8&amp; cameraId, </i>
    </p>
    <p>
      <i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int facing, int clientPid, uid_t clientUid, int servicePid, bool legacyMode, </i>
    </p>
    <p>
      <i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int halVersion, int deviceVersion, apiLevel effectiveApiLevel, </i>
    </p>
    <p>
      <i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*out*/sp&lt;BasicClient&gt;* client)</i>
    </p>
  </body>
</html></richcontent>
<node CREATED="1562842320045" ID="ID_963988829" MODIFIED="1562842360266">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      api2 hal3
    </p>
    <p>
      
    </p>
    <p>
      sp&lt;hardware::camera2::ICameraDeviceCallbacks&gt; tmp =
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; static_cast&lt;hardware::camera2::ICameraDeviceCallbacks*&gt;(cameraCb.get());
    </p>
    <p>
      
    </p>
    <p>
      *client = new CameraDeviceClient(cameraService, tmp, packageName, cameraId,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;facing, clientPid, clientUid, servicePid);
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1562842427997" ID="ID_582775852" MODIFIED="1562842463893">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      client = static_cast&lt;CLIENT*&gt;(tmp.get());
    </p>
    <p>
      
    </p>
    <p>
      &#26144;&#23556;&#22238;CameraDeviceClient
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562842650563" ID="ID_1584848608" MODIFIED="1562842653792" TEXT="client-&gt;initialize(mCameraProviderManager)"/>
</node>
<node CREATED="1538276801766" FOLDED="true" ID="ID_544033918" MODIFIED="1566110125470">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#6600ff" size="4"><b>*device = client</b></font>
    </p>
    <p>
      
    </p>
    <p>
      &#21487;&#20197;&#30475;&#21040;CameraDeviceClient&#26159;&#30452;&#25509;&#32487;&#25215;&#33258;BnCameraDeviceUser&#30340;&#65292;
    </p>
    <p>
      &#25152;&#20197;&#21487;&#20197;&#30452;&#25509;&#36820;&#22238;&#32473;device
    </p>
  </body>
</html></richcontent>
<node CREATED="1562652335221" ID="ID_587831906" MODIFIED="1562652349242">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="camera/CameraDeviceClient.png" />
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1536203209819" FOLDED="true" ID="ID_1631683599" MODIFIED="1566110127888">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      status_t CameraService::enumerateProviders()
    </p>
  </body>
</html></richcontent>
<node CREATED="1536213070379" ID="ID_1209650645" MODIFIED="1536213072920" TEXT="std::vector&lt;std::string&gt; deviceIds;"/>
<node CREATED="1536213083875" ID="ID_1324336524" MODIFIED="1536213086255" TEXT="deviceIds = mCameraProviderManager-&gt;getCameraDeviceIds();"/>
</node>
<node CREATED="1536213343587" FOLDED="true" ID="ID_1316616040" MODIFIED="1566110131944">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      status_t CameraProviderManager::addProviderLocked(const std::string&amp; newProvider, bool expected)
    </p>
    <p>
      
    </p>
    <p>
      &#35813;&#20989;&#25968;&#29992;&#26469;get&#27880;&#20876;&#21040;&#31995;&#32479;&#24403;&#20013;&#30340;provider&#26381;&#21153;
    </p>
    <p>
      interface = mServiceProxy-&gt;getService(newProvider);
    </p>
    <p>
      sp&lt;ProviderInfo&gt; providerInfo =
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;new ProviderInfo(newProvider, interface, this);
    </p>
    <p>
      &#21033;&#29992;&#33719;&#24471;&#30340;&#26381;&#21153;&#25509;&#21475;&#29983;&#25104;&#19968;&#20010;ProviderInfo
    </p>
    <p>
      
    </p>
    <p>
      providerInfo-&gt;initialize(); &#35843;&#29992;&#35813;providerinfo&#30340;&#21021;&#22987;&#21270;&#25509;&#21475;
    </p>
    <p>
      &#19979;&#38754;&#20998;&#26512;&#35813;initialize&#30340;&#25509;&#21475;
    </p>
  </body>
</html></richcontent>
<node CREATED="1536214055123" FOLDED="true" ID="ID_1584834967" MODIFIED="1566110130712">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      status_t CameraProviderManager::ProviderInfo::initialize()
    </p>
  </body>
</html></richcontent>
<node CREATED="1536214144716" ID="ID_948050407" MODIFIED="1536214261877">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      hardware::Return&lt;Status&gt; status = mInterface-&gt;setCallback(this);
    </p>
    <p>
      &#21521;&#26381;&#21153;&#31471;&#30340;CameraProver&#35774;&#32622;callback&#25509;&#21475;&#65292;&#25509;&#21475;&#31867;&#22411;&#26159;ICameraProviderCallback&#65292;
    </p>
    <p>
      &#30001;&#20110;ProviderInfo&#32487;&#25215;&#20102;&#35813;&#25509;&#21475;&#65292;&#25152;&#20197;&#36825;&#37324;&#20256;&#20837;this&#25351;&#38024;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1536214331238" ID="ID_1704775372" MODIFIED="1536214369273">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      hardware::Return&lt;bool&gt; linked = mInterface-&gt;linkToDeath(this, /*cookie*/ mId);
    </p>
    <p>
      &#27880;&#20876;provider&#26381;&#21153;&#31471;death&#20043;&#21518;&#30340;&#36890;&#30693;&#20989;&#25968;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1536214605984" ID="ID_1949790365" MODIFIED="1536221956782">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      std::vector&lt;std::string&gt; devices;
    </p>
    <p>
      hardware::Return&lt;void&gt; ret = mInterface-&gt;getCameraIdList([&amp;status, &amp;devices](
    </p>
    <p>
      Status idStatus,
    </p>
    <p>
      const hardware::hidl_vec&lt;hardware::hidl_string&gt;&amp; cameraDeviceNames) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;status = idStatus;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (status == Status::OK) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for (size_t i = 0; i &lt; cameraDeviceNames.size(); i++) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;devices.push_back(cameraDeviceNames[i]);
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} });
    </p>
    <p>
      
    </p>
    <p>
      &#20174;provider&#31471;&#33719;&#21462;&#24213;&#23618;&#30340;camera&#30340;&#35774;&#22791;&#21015;&#34920;&#65292;&#28982;&#21518;&#20445;&#23384;&#21040;&#20869;&#37096;&#25104;&#21592;&#21464;&#37327;mDevices&#24403;&#20013;
    </p>
    <p>
      
    </p>
    <p>
      mDevice&#23454;&#38469;&#19978;&#23384;&#20648;&#30340;&#26159;DeviceInfo3, DeviceInfo3&#37324;&#38754;&#20445;&#23384;&#30528;&#26381;&#21153;&#31471;&#30340;CameraDevice
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1539284331624" ID="ID_906183995" MODIFIED="1539539632967">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <pre><a href="http://androidxref.com/8.1.0_r33/s?defs=using&amp;project=hardware"><font size="4" color="#009966"><b>using</b></font></a><font size="4" color="#009966"><b>&#160;<a href="http://androidxref.com/8.1.0_r33/s?defs=RequestMetadataQueue&amp;project=hardware">RequestMetadataQueue</a>&#160;= <a href="http://androidxref.com/8.1.0_r33/s?defs=MessageQueue&amp;project=hardware">MessageQueue</a>&lt;<a href="http://androidxref.com/8.1.0_r33/s?defs=uint8_t&amp;project=hardware">uint8_t</a>, <a href="http://androidxref.com/8.1.0_r33/s?defs=kSynchronizedReadWrite&amp;project=hardware">kSynchronizedReadWrite</a>&gt;</b></font></pre>
    <pre><a href="http://androidxref.com/8.1.0_r33/s?defs=using&amp;project=hardware"><font size="4" color="#009966"><b>using</b></font></a><font size="4" color="#009966"><b>&#160;<a href="http://androidxref.com/8.1.0_r33/s?defs=ResultMetadataQueue&amp;project=hardware">ResultMetadataQueue</a>&#160;= <a href="http://androidxref.com/8.1.0_r33/s?defs=MessageQueue&amp;project=hardware">MessageQueue</a>&lt;<a href="http://androidxref.com/8.1.0_r33/s?defs=uint8_t&amp;project=hardware">uint8_t</a>, <a href="http://androidxref.com/8.1.0_r33/s?defs=kSynchronizedReadWrite&amp;project=hardware">kSynchronizedReadWrite</a>&gt;</b></font>
</pre>
    <p>
      MessageQueue&#23450;&#20041;&#22312;&#25991;&#20214;system/libfmq/include/fmq/MessageQueue.h&#24403;&#20013;
    </p>
    <pre><a class="l" name="37" href="http://androidxref.com/8.1.0_r33/xref/system/libfmq/include/fmq/MessageQueue.h#37">
</a><a href="http://androidxref.com/8.1.0_r33/s?defs=template&amp;project=system"><font size="4">template</font></a><font size="4"> &lt;<a href="http://androidxref.com/8.1.0_r33/s?defs=typename&amp;project=system">typename</a> T, <a href="http://androidxref.com/8.1.0_r33/s?defs=MQFlavor&amp;project=system">MQFlavor</a> <a href="http://androidxref.com/8.1.0_r33/s?defs=flavor&amp;project=system">flavor</a>&gt;
<b>struct</b> <a class="xs" name="MessageQueue">
</a><a href="http://androidxref.com/8.1.0_r33/s?refs=MessageQueue&amp;project=system" class="xs">MessageQueue</a> {</font></pre>
    <p>
      <font size="4">}</font>
    </p>
    <p>
      
    </p>
    <p>
      <tt>/<a href="http://androidxref.com/8.1.0_r33/xref/system/">system</a>/<a href="http://androidxref.com/8.1.0_r33/xref/system/libhidl/">libhidl</a>/<a href="http://androidxref.com/8.1.0_r33/xref/system/libhidl/base/">base</a>/<a href="http://androidxref.com/8.1.0_r33/xref/system/libhidl/base/include/">include</a>/<a href="http://androidxref.com/8.1.0_r33/xref/system/libhidl/base/include/hidl/">hidl</a>/<a href="http://androidxref.com/8.1.0_r33/xref/system/libhidl/base/include/hidl/MQDescriptor.h">MQDescriptor.h&#23450;&#20041;&#20102;kSynchronizedReadWrite </a></tt>
    </p>
    <pre><b><font size="2">enum</font></b><font size="2">&#160;<a href="http://androidxref.com/8.1.0_r33/s?defs=MQFlavor&amp;project=system">MQFlavor</a>&#160;: <a href="http://androidxref.com/8.1.0_r33/s?defs=uint32_t&amp;project=system">uint32_t</a>&#160;{
&#160;&#160;/*
&#160;&#160;&#160;* kSynchronizedReadWrite represents the wait-free synchronized flavor of the
&#160;&#160;&#160;* FMQ. It is intended to be have a single reader and single writer.
&#160;&#160;&#160;* Attempts to <a href="http://androidxref.com/8.1.0_r33/s?path=overflow/">overflow</a>/<a href="http://androidxref.com/8.1.0_r33/s?path=overflow/underflow">underflow</a>&#160;returns a failure.
&#160;&#160;&#160;*/
&#160; <a href="http://androidxref.com/8.1.0_r33/s?defs=kSynchronizedReadWrite&amp;project=system">kSynchronizedReadWrite</a>&#160;= 0x01,
&#160;&#160;/*
&#160;&#160;&#160;* kUnsynchronizedWrite represents the flavor of FMQ where writes always
&#160;&#160;&#160;* succeed. This flavor allows one writer and many readers. A read operation
&#160;&#160;&#160;* can detect an overwrite and reset the read counter.
&#160;&#160;&#160;*/
&#160; <a href="http://androidxref.com/8.1.0_r33/s?defs=kUnsynchronizedWrite&amp;project=system">kUnsynchronizedWrite</a>&#160;= 0x02
};</font></pre>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1536283010301" FOLDED="true" ID="ID_664150876" MODIFIED="1566110137716" TEXT="2.&#x591a;camera&#x7684;&#x7ba1;&#x7406;">
<node CREATED="1536283099862" FOLDED="true" ID="ID_60478480" MODIFIED="1566110136188">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>void CameraHidlTest::configurePreviewStreams3_4(</b>const std::string &amp;name, int32_t deviceVersion,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sp&lt;ICameraProvider&gt; provider,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<font color="#e21010">const AvailableStream *previewThreshold</font>,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const std::unordered_set&lt;std::string&gt;&amp; physicalIds,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sp&lt;device::V3_4::ICameraDeviceSession&gt; *session3_4 /*out*/,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<font color="#ad11e6">V3_2::Stream *previewStream /*out*/</font>,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<font color="#3408f2">device::V3_4::HalStreamConfiguration *halStreamConfig</font>&#160;/*out*/,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bool *supportsPartialResults /*out*/,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;uint32_t *partialResultCount /*out*/<b>) </b>
    </p>
    <p>
      
    </p>
    <p>
      <b>&#21482;&#26500;&#24314;&#20004;&#20010;stream&#30340;&#37197;&#32622; &#65292; &#36820;&#22238;&#31532;&#19968;&#20010;stream</b>
    </p>
    <p>
      <b>physicalIds&#20808;&#21069;&#20570;&#20102;&#28165;&#29702;&#65292;&#21482;&#21253;&#21547;&#20102;2&#20010;&#29289;&#29702;id&#21495;</b>
    </p>
  </body>
</html></richcontent>
<node CREATED="1536285735507" ID="ID_1704938492" MODIFIED="1536301689015">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#e00b0b" size="3"><i>struct AvailableStream { </i></font>
    </p>
    <p>
      <font color="#e00b0b" size="3"><i>&#160;&#160;&#160;&#160;int32_t width; </i></font>
    </p>
    <p>
      <font color="#e00b0b" size="3"><i>&#160;&#160;&#160;&#160;int32_t height; </i></font>
    </p>
    <p>
      <font color="#e00b0b" size="3"><i>&#160;&#160;&#160;&#160;int32_t format; </i></font>
    </p>
    <p>
      <font color="#e00b0b" size="3"><i>}; </i></font>
    </p>
    <p>
      
    </p>
    <p>
      <font color="#e00b0b" size="3"><i>AvailableStream previewThreshold = {kMaxPreviewWidth, kMaxPreviewHeight, </i></font>
    </p>
    <p>
      <font color="#e00b0b" size="3"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; static_cast&lt;int32_t&gt;(PixelFormat::YCBCR_420_888)};</i></font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1536286623539" ID="ID_878837005" MODIFIED="1536288386350">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font color="#af0ded">struct Stream {</font></b>
    </p>
    <p>
      &#160;&#160;&#160;&#160;int32_t id __attribute__ ((aligned(4)));
    </p>
    <p>
      &#160;&#160;&#160;&#160;StreamType streamType __attribute__ ((aligned(4)));
    </p>
    <p>
      &#160;&#160;&#160;&#160;uint32_t width __attribute__ ((aligned(4)));
    </p>
    <p>
      &#160;&#160;&#160;&#160;uint32_t height __attribute__ ((aligned(4)));
    </p>
    <p>
      &#160;&#160;&#160;&#160;::android::hardware::graphics::common::V1_0::PixelFormat format __attribute__ ((aligned(4)));
    </p>
    <p>
      &#160;&#160;&#160;&#160;uint64_t usage __attribute__ ((aligned(8)));
    </p>
    <p>
      &#160;&#160;&#160;&#160;int32_t dataSpace __attribute__ ((aligned(4)));
    </p>
    <p>
      &#160;&#160;&#160;&#160;StreamRotation rotation __attribute__ ((aligned(4)));
    </p>
    <p>
      <b><font color="#be19ed">};</font></b>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1536286779349" ID="ID_96019941" MODIFIED="1536288443207">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#390ced">struct HalStreamConfiguration { </font>
    </p>
    <p>
      <font color="#390ced">&#160;&#160;&#160;&#160;vec&lt;HalStream&gt; streams; </font>
    </p>
    <p>
      <font color="#390ced">}; </font>
    </p>
    <p>
      
    </p>
    <p>
      V3_4
    </p>
    <p>
      
    </p>
    <p>
      struct HalStream {
    </p>
    <p>
      &#160;&#160;&#160;&#160;/**
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;* The definition of HalStream from the prior version.
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;*/&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;@3.3::HalStream v3_3;
    </p>
    <p>
      
    </p>
    <p>
      &#160;&#160;&#160;&#160;/**
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;* The physical camera id the current Hal stream belongs to.
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;*&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;* If current camera device isn't a logical camera, or the Hal stream isn't
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;* from a physical camera of the logical camera, this must be an empty
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;* string.
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;*&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;* A logical camera is a camera device backed by multiple physical camera
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;* devices.
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;*&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;* When not empty, this field is the &lt;id&gt; field of one of the full-qualified device
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;* instance names returned by getCameraIdList().
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;*/&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;string physicalCameraId;
    </p>
    <p>
      };
    </p>
  </body>
</html></richcontent>
<node CREATED="1536287716977" ID="ID_1739103931" MODIFIED="1536288300883">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct HalStream {
    </p>
    <p>
      &#160;&#160;&#160;&#160;/**
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;* The definition of HalStream from the prior version.
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;*/&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;@3.2::HalStream v3_2;
    </p>
    <p>
      
    </p>
    <p>
      
    </p>
    <p>
      &#160;&#160;&#160;&#160;DataspaceFlags overrideDataSpace;
    </p>
    <p>
      
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      struct HalStream {
    </p>
    <p>
      &#160;&#160;int32_t id;
    </p>
    <p>
      &#160;&#160;android.hardware.graphics.common@1.0::PixelFormat overrideFormat;
    </p>
    <p>
      &#160;&#160;BufferUsageFlags producerUsage;
    </p>
    <p>
      &#160;&#160;BufferUsageFlags consumerUsage;
    </p>
    <p>
      &#160;&#160;uint32_t maxBuffers;
    </p>
    <p>
      }
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
<node CREATED="1536289530909" FOLDED="true" ID="ID_806623483" MODIFIED="1566110138855" TEXT="3.&#x591a;camera&#x652f;&#x6301;&#x7684;&#x8981;&#x6c42;">
<node CREATED="1536289547573" ID="ID_1997152171" MODIFIED="1536307268714">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      androidp &#24403;&#20013;&#22810;multicamera&#30340;&#25903;&#25345;&#37117;&#25918;&#22312;&#20102;device v3_4&#37324;&#38754;&#20102;&#65292;
    </p>
    <p>
      &#35201;&#27714;vendor&#23618;&#30340;hal&#23454;&#29616;&#35201;&#25903;&#25345;device v3.4&#65292;
    </p>
    <p>
      &#22312;&#21028;&#26029;&#24213;&#23618;&#30340;&#35774;&#22791;&#26159;&#21542;&#25903;&#25345;multi camera&#30340;&#26102;&#20505;&#20250;&#21028;&#26029;
    </p>
    <p>
      ANDROID_REQUEST_AVAILABLE_CAPABILITIES &#36825;&#20010;tag&#37324;&#38754;&#26377;&#27809;&#26377;<font color="#e81313">ANDROID_REQUEST_AVAILABLE_CAPABILITIES_LOGICAL_MULTI_CAMERA</font>
    </p>
    <p>
      &#23383;&#27573;&#30340;&#25903;&#25345;&#65292;&#35813;&#23383;&#27573;&#26159;&#20174;androidP &#24341;&#20837;&#30340;
    </p>
    <p>
      
    </p>
    <p>
      ANDROID_LOGICAL_MULTI_CAMERA_PHYSICAL_IDS &#21253;&#21547;&#26576;&#20010;logical multicamera&#20869;&#37096;&#21253;&#21547;&#30340;physical camera id&#30340;&#21015;&#34920;
    </p>
    <p>
      ANDROID_REQUEST_AVAILABLE_PHYSICAL_CAMERA_REQUEST_KEYS
    </p>
    <p>
      
    </p>
    <p>
      ANDROID_SCALER_AVAILABLE_STREAM_CONFIGURATIONS_OUTPUT &#33719;&#21462;output stream
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1535360655759" FOLDED="true" ID="ID_1383373227" MODIFIED="1566110144580">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#0c17eb" size="5">Android8.0 &#19979;&#22522;&#20110;aidl&#27169;&#24335;camera api2&#36830;&#25509;camera service </font>
    </p>
    <p>
      <font color="#0c17eb" size="5">&#30340;&#36807;&#31243;&#20998;&#26512;</font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1535360791084" FOLDED="true" ID="ID_623549504" MODIFIED="1566110143270">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      java&#23618;
    </p>
    <p>
      &#22312;&#25991;&#20214;frameworks/base/core/java/android/hardware/camera2/CameraManager.java&#25991;&#20214;&#24403;&#20013;&#65292;
    </p>
    <p>
      &#20989;&#25968;
    </p>
    <p>
      private CameraDevice openCameraDeviceUserAsync(String cameraId,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CameraDevice.StateCallback callback, Handler handler, final int uid)
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;throws CameraAccessException &#37324;&#38754;&#26377;&#36830;&#25509;camera service&#30340;&#25805;&#20316;
    </p>
    <p>
      
    </p>
    <p>
      ICameraService cameraService = CameraManagerGlobal.get().getCameraService()
    </p>
  </body>
</html></richcontent>
<node CREATED="1535361017615" ID="ID_924622420" MODIFIED="1535362651105">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      public ICameraService getCameraService() {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;synchronized(mLock) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;connectCameraServiceLocked();
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (mCameraService == null &amp;&amp; !sCameraServiceDisabled) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Log.e(TAG, &quot;Camera service is unavailable&quot;);
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return mCameraService;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
    </p>
    <p>
      <b>&#30475;&#19968;&#19979;connectCameraServiceLocked&#20989;&#25968;&#26159;&#24590;&#20040;&#25805;&#20316;&#30340;: </b>
    </p>
    <p>
      <b>IBinder cameraServiceBinder = ServiceManager.getService(CAMERA_SERVICE_BINDER_NAME); </b>
    </p>
    <p>
      <b>ICameraService cameraService = ICameraService.Stub.asInterface(cameraServiceBinder);</b>
    </p>
    <p>
      
    </p>
    <p>
      ICameraService&#26159;&#32463;&#36807;ICameraService.aidl&#32463;&#36807;&#24037;&#20855;&#29983;&#25104;&#30340;&#65292;&#30446;&#21069;&#29983;&#25104;&#26377;3&#31181;&#25991;&#20214;&#65292;&#20998;&#21035;&#26159;
    </p>
    <p>
      ICameraService.java , ICameraService.cpp, ICameraService.h
    </p>
    <p>
      ICameraService.cpp&#37324;&#38754;&#26377;<font size="4" color="#ec0e0e">BnCameraService</font>&#30340;&#20855;&#20307;&#23454;&#29616;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1563436341648" ID="ID_1064593109" MODIFIED="1563436403193">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Framework&#23618;&#27979;&#35797;&#24037;&#20855;:
    </p>
    <p>
      CameraBinderTests.cpp
    </p>
    <p>
      
    </p>
    <p>
      TestCameraDeviceCallbacks
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1496325792494" FOLDED="true" ID="ID_1061517957" MODIFIED="1562650418230" POSITION="left" TEXT="11. android binder&#x5b66;&#x4e60;">
<font BOLD="true" NAME="SansSerif" SIZE="14"/>
<node CREATED="1496325970164" FOLDED="true" ID="ID_173538414" MODIFIED="1535360569211" TEXT="mediaserver&#x8be6;&#x89e3;">
<node CREATED="1496325982101" ID="ID_687050765" MODIFIED="1496327154695">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#e81b1b">main&#20989;&#25968;&#25152;&#22312;&#25991;&#20214; </font>
    </p>
    <p>
      <font color="#e81b1b">frameworks/av/media/mediaserver/main_mediaserver.cpp </font>
    </p>
    <p>
      
    </p>
    <p>
      &#25105;&#20204;&#27880;&#24847;&#21040;&#22312;main&#20989;&#25968;&#24403;&#20013;&#65292;&#39318;&#20808;&#22768;&#26126;&#20102;ProcessState&#21464;&#37327;
    </p>
    <p>
      sp&lt;ProcessState&gt; proc(ProcessState::self());
    </p>
    <p>
      sp&lt;IServiceManager&gt; sm = defaultServiceManager();
    </p>
  </body>
</html></richcontent>
<node CREATED="1496331415309" ID="ID_1250615424" MODIFIED="1496331472098">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#25105;&#20204;&#26469;&#30475;&#30475;defaultServiceManager&#20989;&#25968;&#30340;&#23454;&#29616;&#65292;&#35813;&#23454;&#29616;&#20301;&#20110;
    </p>
    <p>
      IServiceManager.cpp&#24403;&#20013;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1508830276520" ID="ID_825992261" MODIFIED="1508830404364">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      MediaServer&#26159;&#31995;&#32479;&#24403;&#20013;&#35832;&#22810;&#37325;&#35201;&#30340;&#26381;&#21153;&#30340;&#26646;&#24687;&#22320;&#65292;&#21253;&#25324;
    </p>
    <p>
      AudioFlinger
    </p>
    <p>
      AudioPolicyService &#20851;&#20110;&#38899;&#39057;&#31574;&#30053;&#30340;&#37325;&#35201;&#26381;&#21153;
    </p>
    <p>
      MediaPlayerService &#22810;&#23186;&#20307;&#31995;&#32479;&#24403;&#20013;&#30340;&#37325;&#35201;&#26381;&#21153;
    </p>
    <p>
      CameraService
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1496327176688" FOLDED="true" ID="ID_156865957" MODIFIED="1535360570694" TEXT="ProcessState&#x7c7b;&#x8be6;&#x89e3;">
<node CREATED="1496327227205" ID="ID_51944443" MODIFIED="1496327265105">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1.&#25105;&#20204;&#39318;&#20808;&#30475;&#21040;ProcessState&#31867;&#30340;self&#20989;&#25968;&#30340;&#30446;&#30340;&#23601;&#26159;&#29983;&#25104;&#19968;&#20010;ProcessState&#31867;
    </p>
    <p>
      sp&lt;ProcessState&gt; ProcessState::self()
    </p>
    <p>
      {
    </p>
    <p>
      &#160;&#160;&#160;&#160;Mutex::Autolock _l(gProcessMutex);
    </p>
    <p>
      &#160;&#160;&#160;&#160;if (gProcess != NULL) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return gProcess;
    </p>
    <p>
      &#160;&#160;&#160;&#160;}&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;gProcess = new ProcessState;
    </p>
    <p>
      &#160;&#160;&#160;&#160;return gProcess;
    </p>
    <p>
      }
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1496327269038" ID="ID_613730162" MODIFIED="1496327436565">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>&#25105;&#20204;&#20877;&#26469;&#30475;ProcessState&#31867;&#30340;&#26500;&#36896;&#20989;&#25968;</b>
    </p>
    <p>
      ProcessState::ProcessState()
    </p>
    <p>
      &#160;&#160;&#160;&#160;: mDriverFD(open_driver())
    </p>
    <p>
      &#160;&#160;&#160;&#160;, mVMStart(MAP_FAILED)
    </p>
    <p>
      &#160;&#160;&#160;&#160;, mManagesContexts(false)
    </p>
    <p>
      &#160;&#160;&#160;&#160;, mBinderContextCheckFunc(NULL)
    </p>
    <p>
      &#160;&#160;&#160;&#160;, mBinderContextUserData(NULL)
    </p>
    <p>
      &#160;&#160;&#160;&#160;, mThreadPoolStarted(false)
    </p>
    <p>
      &#160;&#160;&#160;&#160;, mThreadPoolSeq(1)
    </p>
    <p>
      {&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;if (mDriverFD &gt;= 0) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// mmap the binder, providing a chunk of virtual address space to receive transactions.
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mVMStart = mmap(0, BINDER_VM_SIZE, PROT_READ, MAP_PRIVATE | MAP_NORESERVE, mDriverFD, 0);
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (mVMStart == MAP_FAILED) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// *sigh*
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ALOGE(&quot;Using /dev/binder failed: unable to mmap transaction memory.\n&quot;);
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;close(mDriverFD);
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mDriverFD = -1;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
    </p>
    <p>
      &#160;&#160;&#160;}
    </p>
    <p>
      }&#21487;&#20197;&#30475;&#21040;&#35813;&#26500;&#36896;&#20989;&#25968;&#35843;&#29992;&#20102;open_driver&#25171;&#24320;&#20102;&#24213;&#23618;&#30340;binder&#35774;&#22791;&#65292;&#24182;&#19988;&#20351;&#29992;mmap&#20989;&#25968;&#23558;binder&#35774;&#22791;&#30340;
    </p>
    <p>
      &#25991;&#20214;&#31354;&#38388;&#26144;&#23556;&#21040;&#20102;&#20869;&#23384;&#31354;&#38388;mVMStart&#24403;&#20013;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1497404600624" ID="ID_1154712373" MODIFIED="1497404608831">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="camera/android-binder.png" />
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1502162415873" FOLDED="true" ID="ID_1595158135" MODIFIED="1536301509927" POSITION="left">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><i>Android Media&#26694;&#26550;</i></b>
    </p>
  </body>
</html></richcontent>
<node CREATED="1502162443745" ID="ID_155688899" MODIFIED="1502168598161">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      https://source.android.com/devices/media/
    </p>
    <p>
      Stagefright &#19968;&#20010;native&#23618;&#38754;&#30340;&#23186;&#20307;&#25773;&#25918;&#24341;&#25806;&#65292;&#20869;&#23884;&#26377;&#36719;&#20214;&#35299;&#30721;&#22120;&#65292;
    </p>
    <p>
      &#21487;&#20197;&#25773;&#25918;&#24403;&#21069;&#27969;&#34892;&#30340;&#23186;&#20307;&#26684;&#24335;&#12290;
    </p>
    <p>
      Stagefright audio and video playback features&#21253;&#25324;&#36319;OpenMAX code
    </p>
    <p>
      &#30340;&#34701;&#21512;&#65292;session&#31649;&#29702;&#65292;&#26102;&#38388;&#21516;&#27493;&#28210;&#26579;&#65292;&#20256;&#36755;&#25511;&#21046;&#21644;DRM&#12290;
    </p>
    <p>
      Stagefright&#20063;&#25903;&#25345;&#36319;&#23458;&#25143;&#25552;&#20379;&#30340;&#30828;&#20214;codec&#36827;&#34892;&#34701;&#21512;&#65292;&#20026;&#20102;&#35774;&#32622;&#19968;&#20010;&#30828;&#20214;&#30340;&#36890;&#36335;
    </p>
    <p>
      &#21435;&#32534;&#30721;&#21644;&#35299;&#30721;&#23186;&#20307;&#25991;&#20214;&#65292;&#20320;&#24517;&#39035;&#23454;&#29616;&#19968;&#20010;&#22522;&#20110;&#30828;&#20214;&#30340;codec&#65292;&#20316;&#20026;OpenMax IL (Integration Layer)
    </p>
    <p>
      &#30340;&#19968;&#20010;&#32452;&#20214;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1508830905479" FOLDED="true" ID="ID_1540724775" MODIFIED="1536301513897" POSITION="left">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>15.Android&#26234;&#33021;&#25351;&#38024;</b>
    </p>
  </body>
</html></richcontent>
<node CREATED="1508830947463" ID="ID_1790727205" MODIFIED="1508831014355">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>1.&#23454;&#29616;&#26234;&#33021;&#25351;&#38024;&#38656;&#35201;&#20004;&#20010;&#21069;&#25552;:</b>
    </p>
    <p>
      &#19968;&#20010;&#26159;&#38656;&#35201;&#23454;&#29616;&#19968;&#20010;&#36127;&#36131;&#25552;&#20379;&#24341;&#29992;&#35745;&#25968;&#22120;&#30340;&#20844;&#20849;&#31867;
    </p>
    <p>
      &#21478;&#19968;&#20010;&#26159;&#38656;&#35201;&#23454;&#29616;&#25805;&#20316;&#35813;&#24341;&#29992;&#35745;&#25968;&#30340;&#26234;&#33021;&#25351;&#38024;&#31867;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1508831065637" ID="ID_1776320046" MODIFIED="1508840606171">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>2.&#36731;&#37327;&#32423;&#24341;&#29992;&#35745;&#25968;&#22120;class LightRefBase&#65292; &#36319;&#23427;&#37197;&#21512;&#30340;&#26234;&#33021;&#25351;&#38024;&#31867;&#26159;class sp</b>
    </p>
  </body>
</html></richcontent>
<node CREATED="1508840680642" ID="ID_759890415" MODIFIED="1508840744926">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font color="#1544e7">template&lt;typename T&gt; </font></b>
    </p>
    <p>
      <b><font color="#1544e7">sp&lt;T&gt;::sp(T* other) </font></b>
    </p>
    <p>
      <b><font color="#1544e7">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;: m_ptr(other) { </font></b>
    </p>
    <p>
      <b><font color="#1544e7">&#160;&#160;&#160;&#160;if (other) </font></b>
    </p>
    <p>
      <b><font color="#1544e7">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;other-&gt;incStrong(this); </font></b>
    </p>
    <p>
      <b><font color="#1544e7">} </font></b>
    </p>
    <p>
      
    </p>
    <p>
      <b><font color="#1544e7">template&lt;typename T&gt; </font></b>
    </p>
    <p>
      <b><font color="#1544e7">sp&lt;T&gt;::sp(const sp&lt;T&gt;&amp; other) </font></b>
    </p>
    <p>
      <b><font color="#1544e7">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;: m_ptr(other.m_ptr) { </font></b>
    </p>
    <p>
      <b><font color="#1544e7">&#160;&#160;&#160;&#160;if (m_ptr) </font></b>
    </p>
    <p>
      <b><font color="#1544e7">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;m_ptr-&gt;incStrong(this); </font></b>
    </p>
    <p>
      <b><font color="#1544e7">}</font></b>
    </p>
    <p>
      <b><font color="#c60c0c">&#21487;&#20197;&#30475;&#21040;&#26234;&#33021;&#25351;&#38024;&#22312;&#21021;&#22987;&#21270;&#30340;&#26102;&#20505;&#37117;&#20250;&#35843;&#29992;&#27169;&#26495;&#30340;incStrong&#20989;&#25968;</font></b>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1526114786080" ID="ID_1550945198" MODIFIED="1526114823334">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      class LightRefBase
    </p>
    <p>
      {
    </p>
    <p>
      public:
    </p>
    <p>
      &#160;&#160;&#160;&#160;inline LightRefBase() : mCount(0) { }
    </p>
    <p>
      &#160;&#160;&#160;&#160;inline void incStrong(__attribute__((unused)) const void* id) const {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;__sync_fetch_and_add(&amp;mCount, 1);
    </p>
    <p>
      &#160;&#160;&#160;&#160;}&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;inline void decStrong(__attribute__((unused)) const void* id) const {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (__sync_fetch_and_sub(&amp;mCount, 1) == 1) {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;delete static_cast&lt;const T*&gt;(this);
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
    </p>
    <p>
      &#160;&#160;&#160;&#160;}&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;//! DEBUGGING ONLY: Get current strong ref count.
    </p>
    <p>
      &#160;&#160;&#160;&#160;inline int32_t getStrongCount() const {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return mCount;
    </p>
    <p>
      &#160;&#160;&#160;&#160;}&#160;&#160;
    </p>
    <p>
      
    </p>
    <p>
      &#160;&#160;&#160;&#160;typedef LightRefBase&lt;T&gt; basetype;
    </p>
    <p>
      
    </p>
    <p>
      protected:
    </p>
    <p>
      &#160;&#160;&#160;&#160;inline ~LightRefBase() { }
    </p>
    <p>
      
    </p>
    <p>
      private:
    </p>
    <p>
      &#160;&#160;&#160;&#160;friend class ReferenceMover;
    </p>
    <p>
      &#160;&#160;&#160;&#160;inline static void moveReferences(void* d, void const* s, size_t n,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const ReferenceConverterBase&amp; caster) { }
    </p>
    <p>
      
    </p>
    <p>
      private:
    </p>
    <p>
      &#160;&#160;&#160;&#160;mutable volatile int32_t mCount;
    </p>
    <p>
      };
    </p>
  </body>
</html></richcontent>
<node CREATED="1526114879197" ID="ID_336440835" MODIFIED="1526114915554">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><i><font color="#e80f0f">&#21482;&#25552;&#20379;&#26368;&#22522;&#26412;&#30340;&#24341;&#29992;&#35745;&#25968;mCount</font></i></b>
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1508834285766" ID="ID_1188299794" MODIFIED="1508847063108">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>3.&#24378;&#25351;&#38024;&#24341;&#29992;&#35745;&#25968;&#22120;&#26159;class RefBase, &#37197;&#21512;&#23427;&#30340;&#26234;&#33021;&#25351;&#38024;&#31867;&#26159;class sp, </b>
    </p>
    <p>
      <b><font color="#dc1b1b">&#27880;&#24847;sp&#26159;&#19968;&#20010;&#24378;&#25351;&#38024;&#65292;&#37197;&#21512;RefBase&#30340;&#36824;&#26377;&#19968;&#20010;&#24369;&#25351;&#38024;&#21483;&#20570;calss wp</font></b>
    </p>
  </body>
</html></richcontent>
<node CREATED="1508836115940" ID="ID_1123331860" MODIFIED="1508841521333">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>class RefBase::weakref_impl : public RefBase::weakref_type&#160;&#160;----&gt;</b><font size="4" color="#c81212">weakref_impl&#21487;&#20197;&#30475;&#25104;&#26159;weakref_type&#30340;&#23454;&#29616;</font>
    </p>
    <p>
      {
    </p>
    <p>
      &#160;&#160;&#160; <b><font color="#dc0a0a">public:</font></b>
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160; <font color="#126546">std::atomic&lt;int32_t&gt;&#160;&#160;&#160;&#160;mStrong; &#23545;&#35937;&#30340;&#24378;&#24341;&#29992;&#35745;&#25968;</font>
    </p>
    <p>
      <font color="#126546">&#160;&#160;&#160;&#160;&#160;&#160;std::atomic&lt;int32_t&gt;&#160;&#160;&#160;&#160;mWeak; &#23545;&#35937;&#30340;&#24369;&#24341;&#29992;&#35745;&#25968;</font>
    </p>
    <p>
      <font color="#126546">&#160;&#160;&#160;&#160;&#160;&#160;RefBase* const&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mBase;&#160;&#160;&#25351;&#21521;&#20854;&#23487;&#20027;&#31867;</font>
    </p>
    <p>
      <font color="#126546">&#160;&#160;&#160;&#160;&#160;&#160;std::atomic&lt;int32_t&gt;&#160;&#160;&#160;&#160;mFlags; &#25351;&#31034;&#32500;&#25252;&#23545;&#35937;&#24341;&#29992;&#35745;&#25968;&#30340;&#31574;&#30053;&#65292;&#40664;&#35748;&#30340;&#20540;&#26159;0,&#21487;&#20197;&#21462;&#22914;&#19979;&#30340;&#26522;&#20030;&#20540; </font>
    </p>
    <p>
      <font color="#103fe4">enum {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font>
    </p>
    <p>
      <font color="#103fe4">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;OBJECT_LIFETIME_STRONG&#160;&#160;= 0x0000,&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font>
    </p>
    <p>
      <font color="#103fe4">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;OBJECT_LIFETIME_WEAK&#160;&#160;&#160;&#160;= 0x0001,&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font>
    </p>
    <p>
      <font color="#103fe4">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;OBJECT_LIFETIME_MASK&#160;&#160;&#160;&#160;= 0x0001&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font>
    </p>
    <p>
      <font color="#103fe4">&#160;&#160;&#160;&#160;};&#160;&#160;&#160; </font><font color="#126546">&#160;&#160; </font>
    </p>
    <p>
      <font color="#126546">&#160;&#160;&#160;&#160;&#160;&#160;mutable Mutex mMutex; </font>
    </p>
    <p>
      <font color="#126546">&#160;&#160;&#160;&#160;&#160;&#160;</font><b><font color="#d01f23">ref_entry* mStrongRefs; </font></b>
    </p>
    <p>
      <b><font color="#d01f23">&#160;&#160;&#160;&#160;&#160;&#160;ref_entry* mWeakRefs;</font></b><font color="#126546">&#160; &#23384;&#20648;&#23454;&#38469;&#30340;&#31867;&#23545;&#35937;&#30340;</font>
    </p>
    <p>
      <font color="#126546">&#160;&#160;&#160;&#160;&#160;&#160;bool mTrackEnabled; </font>
    </p>
    <p>
      <font color="#126546">&#160;&#160;&#160;&#160;&#160;&#160;// Collect stack traces on addref and removeref, instead of deleting the stack references </font>
    </p>
    <p>
      <font color="#126546">&#160;&#160;&#160;&#160;&#160;&#160;// on removeref that match the address ones. </font>
    </p>
    <p>
      <font color="#126546">&#160;&#160;&#160;&#160;&#160;&#160;bool mRetain;</font>
    </p>
    <p>
      <font color="#1c39f3">struct ref_entry </font>
    </p>
    <p>
      <font color="#1c39f3">&#160;&#160;&#160;&#160;{ </font>
    </p>
    <p>
      <font color="#1c39f3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ref_entry* next; </font>
    </p>
    <p>
      <font color="#1c39f3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const void* id; </font>
    </p>
    <p>
      <font color="#1c39f3">#if DEBUG_REFS_CALLSTACK_ENABLED </font>
    </p>
    <p>
      <font color="#1c39f3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CallStack stack; </font>
    </p>
    <p>
      <font color="#1c39f3">#endif </font>
    </p>
    <p>
      <font color="#1c39f3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int32_t ref; </font>
    </p>
    <p>
      <font color="#1c39f3">&#160;&#160;&#160;&#160;};</font>
    </p>
    <p>
      
    </p>
    <p>
      }
    </p>
  </body>
</html></richcontent>
<node CREATED="1508839523315" ID="ID_879569915" MODIFIED="1508839532093">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="binder/weakref_type.gif" />
  </body>
</html></richcontent>
</node>
<node CREATED="1508841363627" ID="ID_1552578554" MODIFIED="1508841550202">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void RefBase::incStrong(const void* id) const&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;weakref_impl* const refs = mRefs;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;refs-&gt;incWeak(id);&#160;&#160;<b><font color="#b41111">//&#23454;&#38469;&#19978;&#26159;&#23558;&#23454;&#38469;&#30340;&#23545;&#35937;&#25351;&#38024;&#23384;&#20648;&#21040;&#20102;weakref_impl&#37324;&#38754;&#30340;ref_entry&#30340;&#38142;&#34920;&#37324;&#38754;&#20102;</font></b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;refs-&gt;addStrongRef(id);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;const int32_t c = refs-&gt;mStrong.fetch_add(1, std::memory_order_relaxed);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;ALOG_ASSERT(c &gt; 0, &quot;incStrong() called on %p after last strong ref&quot;, refs);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      #if PRINT_REFS&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;ALOGD(&quot;incStrong of %p from %p: cnt=%d\n&quot;, this, id, c);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      #endif&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;if (c != INITIAL_STRONG_VALUE)&#160;&#160;{&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;int32_t old = refs-&gt;mStrong.fetch_sub(INITIAL_STRONG_VALUE,&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;std::memory_order_relaxed);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;// A decStrong() must still happen after us.&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;ALOG_ASSERT(old &gt; INITIAL_STRONG_VALUE, &quot;0x%x too small&quot;, old);&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;refs-&gt;mBase-&gt;onFirstRef();&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      }
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1508838266267" ID="ID_1300052966" MODIFIED="1508839379997">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>class RefBase</b>
    </p>
    <p>
      {
    </p>
    <p>
      <font color="#d80f0f">private: </font>
    </p>
    <p>
      <font color="#d80f0f">&#160;&#160;&#160;&#160;weakref_impl* const mRefs;&#160;&#160;&#160;----&gt;</font><b><font color="#152aeb">&#22312;RefBase&#30340;&#26500;&#36896;&#20989;&#25968;&#37324;&#38754;&#34987;new&#20986;&#26469;</font></b>
    </p>
    <p>
      }
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1508841964965" ID="ID_1534603519" MODIFIED="1508841988599">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="16px" color="rgb(69, 69, 69)" face="PingFang SC, Microsoft YaHei, SimHei, Arial, SimSun"><span style="font-weight: normal; margin-right: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; font-style: normal; padding-right: 0px; margin-left: 0px; padding-bottom: 0px; margin-bottom: 0px"><strong style="background-color: rgb(255, 255, 255); white-space: normal; font-size: 16px; word-spacing: 0px; color: rgb(69, 69, 69); text-indent: 0px; text-transform: none; font-style: normal; text-align: start; font-weight: bold; font-family: PingFang SC, Microsoft YaHei, SimHei, Arial, SimSun; letter-spacing: normal" http-equiv="content-type" content="text/html; charset=utf-8"><b><em style="font-style: italic"><i>&#36825;&#37324;&#24635;&#32467;&#19968;&#19979;&#24378;&#25351;&#38024;&#31867;sp&#22312;&#20854;&#26500;&#36896;&#20989;&#25968;&#37324;&#38754;&#25152;&#20570;&#30340;&#20107;&#24773;&#23601;&#26159;&#20998;&#21035;&#20026;&#30446;&#26631;&#23545;&#35937;&#30340;&#24378;&#24341;&#29992;&#35745;&#25968;&#21644;&#24369;&#24341;&#21644;&#35745;&#25968;&#22686;&#21152;&#20102;1&#12290;</i></em></b></strong></span></font>
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1528247495355" ID="ID_1749217998" MODIFIED="1572225298983" POSITION="left">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4" color="#320bf1"><b>HIDL</b></font>
    </p>
    <p>
      hal interface definition language(&quot;hide-L&quot;) is an interface definition language to specify
    </p>
    <p>
      a interface between hal and its users
    </p>
    <p>
      hidl&#30340;&#23454;&#38469;&#30446;&#30340;&#23601;&#26159;&#35753;hal&#23618;&#21644;framework&#23618;&#21487;&#20197;&#20998;&#24320;&#65292;&#36825;&#26679;framework&#23601;&#21487;&#20197;&#21333;&#29420;&#21319;&#32423;&#65292;hal&#21487;&#20197;
    </p>
    <p>
      &#30001;oem&#21378;&#21830;&#21333;&#29420;&#21319;&#32423;
    </p>
  </body>
</html></richcontent>
<node CREATED="1528253778288" ID="ID_1358551860" MODIFIED="1528255640311">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      hidl&#20195;&#30721;&#30340;&#32452;&#32455;&#32467;&#26500;&#24418;&#24335;
    </p>
    <p>
      
    </p>
    <p>
      hidl&#20195;&#30721;&#30001;&#29992;&#25143;&#23450;&#20041;&#31867;&#22411;&#65292; &#25509;&#21475; &#21644; &#21253;&#32452;&#25104;&#65306;
    </p>
    <p>
      
    </p>
    <p>
      User-defined types(UDTs) HIDL&#25552;&#20379;&#19968;&#31995;&#21015;&#30340;&#22522;&#26412;&#30340;&#25968;&#25454;&#35775;&#38382;&#65292;&#36825;&#20123;&#25968;&#25454;&#21487;&#20197;&#32452;&#25104;
    </p>
    <p>
      &#26356;&#22797;&#26434;&#30340;&#25968;&#25454;&#32467;&#26500;&#24418;&#24335;&#65292; udts&#21487;&#20197;&#34987;&#20256;&#36882;&#32473;interface&#24403;&#20013;&#30340;method.
    </p>
    <p>
      udts&#21487;&#20197;&#22312;package&#23618;&#38754;&#36827;&#34892;&#23450;&#20041;(&#30001;&#25152;&#26377;&#30340;interface&#20849;&#20139;)&#65292;&#20063;&#21487;&#20197;&#22312;interface&#23618;&#38754;
    </p>
    <p>
      &#36827;&#34892;&#23450;&#20041;
    </p>
    <p>
      
    </p>
    <p>
      Interface: &#25509;&#21475;&#21253;&#21547;UDT&#21644;method&#22768;&#26126;&#65292; interface&#20063;&#21487;&#20197;&#20174;&#20854;&#20182;&#30340;interface&#32487;&#25215;&#32780;&#26469;
    </p>
    <p>
      
    </p>
    <p>
      Packages: &#30001;&#30456;&#20851;&#30340;interface&#21644;udt&#32452;&#21512;&#32780;&#25104;&#65292;&#19968;&#20010;pakcage&#30001;name&#21644;version&#26631;&#35782;&#32780;&#25104;&#65292;&#24182;&#19988;&#21253;&#21547;&#22914;&#19979;&#30340;&#19996;&#35199;:
    </p>
    <p>
      &#25968;&#25454;&#31867;&#22411;&#23450;&#20041;&#25991;&#20214;: types.hal
    </p>
    <p>
      &#38646;&#20010;&#25110;&#32773;&#22810;&#20010;interface&#25991;&#20214;: &#22312;&#21508;&#33258;&#30340;.hal&#25991;&#20214;&#37324;&#38754;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1528271580610" ID="ID_1266680919" MODIFIED="1528272600462">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font size="4">HIDL&#30340;&#20195;&#30721;&#24067;&#23616;:</font></b>
    </p>
    <p>
      HIDL&#30340;&#20195;&#30721;&#21253;&#25324;&#26680;&#24515;&#21253;&#21644;vendor&#23618;&#21253;
    </p>
    <p>
      
    </p>
    <p>
      &#26680;&#24515;HIDL&#25509;&#21475;&#20195;&#30721;&#26159;&#30001;google&#25351;&#23450;&#30340;&#65292;&#36825;&#20123;&#21253;&#20197;android.hardware.&#24320;&#22836;
    </p>
    <p>
      &#25152;&#26377;&#30340;&#26680;&#24515;&#21253;&#37117;&#25918;&#32622;&#22312;hardware/interface&#30446;&#24405;&#19979;&#38754;,&#25918;&#32622;&#30340;&#20855;&#20307;&#30446;&#24405;&#22914;&#19979;&#25152;&#31034;:
    </p>
    <p>
      The package android.hardware.[name1].[name2]&#8230; at version $m.$n is under hardware/interfaces/name1/name2/&#8230;/$m.$n/;
    </p>
    <p>
      
    </p>
    <p>
      &#38750;&#26680;&#24515;&#20195;&#30721;&#26159;&#30001;vendor&#21019;&#24314;&#30340;&#65292;&#21629;&#21517;&#35268;&#21017;&#26159;vendor.$(VENDOR).hardware, &#23545;&#24212;&#30340;&#36335;&#24452;&#26159;vendor/$(VENDOR)/hardware
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1528273017674" ID="ID_1072636160" MODIFIED="1528278456798">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>Fully-qualified user-defined-type names</b>
    </p>
    <p>
      
    </p>
    <p>
      &#22312;hidl&#37324;&#38754;&#65292;&#27599;&#19968;&#20010;type&#37117;&#25317;&#26377;&#19968;&#20010;fully-qualified&#21517;&#31216;&#65292;&#35813;&#21517;&#31216;&#21253;&#25324;&#35813;type&#26412;&#36523;&#30340;&#21517;&#31216;&#65292;
    </p>
    <p>
      &#35813;type&#25152;&#22312;&#30340;&#21253;&#30340;&#21517;&#31216;&#21644;&#35813;&#21253;&#30340;version&#21495;&#12290;
    </p>
    <p>
      &#22312;&#23450;&#20041;&#35813;type&#30340;&#26102;&#20505;&#21482;&#20250;&#20986;&#29616;&#35813;type&#30340;&#21517;&#31216;&#65292;&#22312;&#22768;&#26126;&#35813;type&#30340;&#19968;&#20010;&#23454;&#20363;&#30340;&#26102;&#20505;&#25165;&#20250;&#20986;&#29616;&#35813;
    </p>
    <p>
      type&#30340;fully-qualified&#21517;&#31216;
    </p>
    <p>
      &#27604;&#22914;&#22312;&#25991;&#20214;types.hal&#24403;&#20013;&#20250;&#23450;&#20041;&#22914;&#19979;&#30340;type
    </p>
    <p>
      struct NfcData {
    </p>
    <p>
      &#160;&#160;&#160;&#160;vec&lt;uint8_t&gt; data;
    </p>
    <p>
      };
    </p>
    <p>
      &#20294;&#26159;&#22312;&#22768;&#26126;&#35813;type&#30340;&#23454;&#20363;&#30340;&#26102;&#20505;&#26159;&#20351;&#29992;&#30340;&#22914;&#19979;:
    </p>
    <p>
      android.hardware.nfc@1.0::NfcData
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534410536867" FOLDED="true" ID="ID_616726503" MODIFIED="1566110154238">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b>Package</b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1534410646974" ID="ID_1930615208" MODIFIED="1534410753783">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1. package&#30340;&#21517;&#31216;&#21487;&#20197;&#25317;&#26377;&#23376;&#21517;&#31216;&#65292;&#27604;&#22914;package.subpackage
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534410757580" ID="ID_249279210" MODIFIED="1534411053861">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23545;&#20110;packages&#26469;&#35828;&#65292;&#23427;&#30340;&#26681;&#30446;&#24405;&#26159;hardware/interfaces&#25110;&#32773;vendor/vendorName
    </p>
    <p>
      package&#30340;&#21517;&#31216;&#26159;&#30001;&#20301;&#20110;&#26681;&#30446;&#24405;&#19979;&#38754;&#30340;&#19968;&#20010;&#25110;&#32773;&#22810;&#20010;&#23376;&#30446;&#24405;&#30340;&#21517;&#31216;&#32452;&#25104;&#30340;&#65292;
    </p>
    <p>
      &#25152;&#26377;&#30340;&#29992;&#26469;&#23450;&#20041;&#19968;&#20010;package&#30340;&#25991;&#20214;&#37117;&#22312;&#19968;&#20010;&#30446;&#24405;&#37324;&#38754;
    </p>
    <p>
      &#27604;&#22914;android.hardware.example.extension.light@2.0 &#23545;&#24212;&#30340;&#36335;&#24452;&#26159;
    </p>
    <p>
      hardware/interfaces/example/extension/light/2.0
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534411153454" ID="ID_854689978" MODIFIED="1534987949222">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><font size="4" color="#da2121">android.hardware.* hardware/interfaces/* </font></b>
    </p>
    <p>
      <b><font size="4" color="#da2121">android.frameworks.* frameworks/hardware/interfaces/* </font></b>
    </p>
    <p>
      <b><font size="4" color="#da2121">android.system.* &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;system/hardware/interfaces/* </font></b>
    </p>
    <p>
      <b><font size="4" color="#da2121">android.hidl.* &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;system/libhidl/transport/*</font></b>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534411260885" ID="ID_856250476" MODIFIED="1534411518042">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      package&#36335;&#24452;&#19979;&#38754;&#20250;&#21253;&#21547;&#19968;&#31995;&#21015;&#30340;.hal&#25991;&#20214;&#65292;&#27599;&#20010;&#25991;&#20214;&#24517;&#39035;&#21253;&#21547;&#19968;&#20010;package&#35821;&#21477;
    </p>
    <p>
      &#29992;&#26469;&#21629;&#21517;&#35813;&#25991;&#20214;&#25152;&#23646;&#30340;&#21253;&#30340;&#21517;&#31216;&#21644;&#29256;&#26412;&#21495;&#65292;
    </p>
    <p>
      types.hal&#19981;&#26159;&#29992;&#20110;&#23450;&#20041;&#25509;&#21475;&#30340;&#65292;&#26159;&#29992;&#26469;&#23450;&#20041;&#25968;&#25454;&#31867;&#22411;&#30340;&#65292;&#35813;&#25968;&#25454;&#31867;&#22411;&#22312;&#24403;&#21069;&#30446;&#24405;
    </p>
    <p>
      &#19979;&#30340;&#25152;&#26377;&#30340;interface&#37117;&#21487;&#20197;&#35775;&#38382;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1534411537263" FOLDED="true" ID="ID_1942815485" MODIFIED="1566110157750">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b>Interface definition</b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1528278465645" ID="ID_1776476652" MODIFIED="1528358430854">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Interface&#30340;&#23450;&#20041;
    </p>
    <p>
      &#38500;&#20102;types.hal&#25991;&#20214;&#65292;&#20854;&#20182;&#30340;.hal&#25991;&#20214;&#23450;&#20041;&#20102;interface,&#19968;&#20010;&#20856;&#22411;&#30340;&#25509;&#21475;&#23450;&#20041;&#22914;&#19979;&#25152;&#31034;:
    </p>
    <p>
      
    </p>
    <p>
      interface IBar extends IFoo { // IFoo is another interface
    </p>
    <p>
      &#160;&#160;&#160;&#160;// embedded types
    </p>
    <p>
      &#160;&#160;&#160;&#160;struct MyStruct {/*...*/};
    </p>
    <p>
      
    </p>
    <p>
      &#160;&#160;&#160;&#160;// interface methods
    </p>
    <p>
      &#160;&#160;&#160;&#160;create(int32_t id) generates (MyStruct s);
    </p>
    <p>
      &#160;&#160;&#160;&#160;close();
    </p>
    <p>
      };
    </p>
    <p>
      
    </p>
    <p>
      &#27809;&#26377;extends&#20851;&#38190;&#23383;&#30340;&#25509;&#21475;&#23454;&#38469;&#19978;&#26159;&#38544;&#24418;&#22320;&#32487;&#25215;&#20102;android.hidl.base@1.0::IBase
    </p>
    <p>
      IBase&#23450;&#20041;&#20102;&#19968;&#20123;&#20854;&#20182;&#30340;&#25509;&#21475;&#19981;&#33021;&#22768;&#26126;&#30340;&#26041;&#27861;:
    </p>
    <p>
      
    </p>
    <p>
      ping
    </p>
    <p>
      interfaceChain
    </p>
    <p>
      interfaceDescriptor
    </p>
    <p>
      notifySyspropsChanged
    </p>
    <p>
      linkToDeath
    </p>
    <p>
      unlinkToDeath
    </p>
    <p>
      setHALInstrumentation
    </p>
    <p>
      getDebugInfo
    </p>
    <p>
      debug
    </p>
    <p>
      getHashChain
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534820430514" FOLDED="true" ID="ID_673128991" MODIFIED="1566110156501">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><i><b>&#25509;&#21475;&#32487;&#25215; </b></i></font>
    </p>
    <p>
      <font size="4"><i><b>interface inheritance</b></i></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1534871751051" ID="ID_260813232" MODIFIED="1534872198772">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#19968;&#20010;interface&#21482;&#33021;&#25193;&#23637;&#21478;&#19968;&#20010;interface, &#19981;&#33021;&#36827;&#34892;&#22810;&#20010;&#25193;&#23637;&#12290;
    </p>
    <p>
      &#24403;&#19968;&#20010;package&#30340;&#29256;&#26412;&#21495;&#30340;minor&#26159;&#38750;0&#30340;&#65292;&#37027;&#20040;&#35813;package&#37324;&#38754;&#30340;&#25152;&#26377;&#30340;interface
    </p>
    <p>
      &#21482;&#33021;&#25193;&#23637;&#35813;package&#30340;&#20808;&#21069;&#29256;&#26412;&#30340;&#37324;&#38754;&#30340;&#23545;&#24212;&#30340;interface.
    </p>
    <p>
      &#27604;&#22914;&#20301;&#20110;4.0&#29256;&#26412;&#30340;package derivative&#37324;&#38754;&#30340;&#25509;&#21475;IBar, &#25193;&#23637;&#20301;&#20110;&#29256;&#26412;1.2&#30340;original&#21253;&#37324;&#38754;&#30340;&#25509;&#21475;IFoo,
    </p>
    <p>
      &#37027;&#20040;&#24403;1.3&#29256;&#26412;&#30340;&#21253;original&#34987;&#21019;&#24314;&#20986;&#26469;&#20043;&#21518;&#65292;4.1&#29256;&#26412;&#30340;IBar&#26159;&#19981;&#33021;&#25193;&#23637;1.3&#29256;&#26412;&#30340;IFoo&#30340;&#65292;&#23427;&#21482;&#33021;&#25193;&#23637;
    </p>
    <p>
      4.0&#29256;&#26412;&#37324;&#38754;&#30340;IBar&#25509;&#21475;&#12290;
    </p>
    <p>
      5.0&#29256;&#26412;&#30340;IBar&#21017;&#21487;&#20197;&#20043;&#38469;&#25193;&#23637;1.3&#29256;&#26412;&#30340;IFoo&#25509;&#21475;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1534819583030" FOLDED="true" ID="ID_609910735" MODIFIED="1566110159809">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b>import&#35821;&#21477;</b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1534819670195" ID="ID_1110136136" MODIFIED="1534820002233">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      import&#35821;&#21477;&#26159;&#19968;&#31181;&#26426;&#21046;&#65292;&#29992;&#26469;&#35775;&#38382;package interface&#20197;&#21450;&#20301;&#20110;&#19968;&#20010;package&#37324;&#38754;&#30340;type&#23450;&#20041;&#65292;
    </p>
    <p>
      &#19968;&#20010;import&#35821;&#21477;&#36830;&#25509;&#20102;&#20004;&#20010;&#23454;&#20307;&#65292;
    </p>
    <p>
      &#19968;&#20010;&#23454;&#20307;&#26159;&#20351;&#29992;import&#35821;&#21477;&#30340;&#23454;&#20307;&#65292;&#35813;&#23454;&#20307;&#21487;&#20197;&#26159;package&#25110;&#32773;&#26159;interface
    </p>
    <p>
      &#21478;&#19968;&#20010;&#23454;&#20307;&#26159;&#34987;import&#36827;&#26469;&#30340;&#23454;&#20307;&#65292;&#35813;&#23454;&#20307;&#20063;&#21487;&#20197;&#26159;package&#25110;&#32773;&#26159;interface
    </p>
    <p>
      
    </p>
    <p>
      &#24403;import&#35821;&#21477;&#26159;&#20301;&#20110;type.hal&#25991;&#20214;&#24403;&#20013;&#65292;import&#36827;&#26469;&#30340;&#19996;&#35199;&#21487;&#20197;&#34987;&#25972;&#20010;package&#30475;&#21040;
    </p>
    <p>
      &#24403;import&#35821;&#21477;&#20301;&#20110;interface&#23450;&#20041;&#30340;&#25991;&#20214;&#24403;&#20013;&#65292;&#37027;&#20040;&#36825;&#23601;&#26159;&#19968;&#20010;interface&#23618;&#38754;&#30340;&#19996;&#35199;&#20102;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534820008528" ID="ID_1622706521" MODIFIED="1534820312143">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      import&#36827;&#26469;&#30340;&#23454;&#20307;&#30340;&#36873;&#25321;:
    </p>
    <p>
      &#36319;&#22312;import&#35821;&#21477;&#21518;&#38754;&#30340;&#23454;&#20307;&#30340;&#21517;&#31216;&#21487;&#20197;&#19981;&#24517;&#26159;fully-qualified&#30340;&#21517;&#31216;&#65292;
    </p>
    <p>
      &#22914;&#26524;&#35813;&#21517;&#31216;&#26159;&#19968;&#20010;&#31616;&#30053;&#30340;&#21517;&#31216;&#65292;&#37027;&#20040;&#21482;&#21305;&#37197;&#24403;&#21069;package&#37324;&#38754;&#30340;&#23454;&#20307;&#65307;
    </p>
    <p>
      &#22914;&#26524;&#35813;&#21517;&#31216;&#26159;&#19968;&#20010;fully-qualified&#30340;&#21517;&#31216;&#65292;&#37027;&#20040;&#38656;&#35201;&#26681;&#25454;&#19979;&#38754;&#30340;&#35268;&#21017;&#36827;&#34892;&#21305;&#37197;&#30340;&#24037;&#20316;:
    </p>
    <ul>
      <li>
        <strong>Whole-package imports</strong>. If the value is a package name and a version (syntax described below), then the entire package is imported into the importing entity.
      </li>
      <li>
        <strong>Partial imports</strong>. If the value is:

        <ul>
          <li>
            An interface, the package's <code>types.hal</code>&#160;and that interface are imported into the importing entity.
          </li>
          <li>
            A UDT defined in <code>types.hal</code>, then only that UDT is imported into the importing entity (other types in <code>types.hal</code>&#160;are not imported).
          </li>
        </ul>
      </li>
      <li>
        <strong>Types-only imports</strong>. If the value uses the syntax of a partial import described above, but with the keyword <code>types</code>&#160;instead of an Interface name, only the UDTs in <code>types.hal</code>&#160;of the designated package are imported.
      </li>
    </ul>
  </body>
</html></richcontent>
</node>
<node CREATED="1534820376631" ID="ID_1848006740" MODIFIED="1534820418202">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <pre class="prettyprint"><font size="4"><b>&#19968;&#20123;&#20363;&#23376;&#30340;&#35828;&#26126;</b></font>
import&#160;android.hardware.nfc@1.0;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// import a whole package<br />import&#160;android.hardware.example@1.0::IQuux;&#160;// import an interface and types.hal<br />import&#160;android.hardware.example@1.0::types;&#160;// import just types.ha</pre>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1534872359671" ID="ID_230820125" MODIFIED="1534872395340">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4" color="#ff0000"><b>vendor&#25193;&#23637;</b></font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534873555509" FOLDED="true" ID="ID_1341724371" MODIFIED="1566110162914">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b><i>Interface&#30340;&#24067;&#23616;&#24635;&#32467;</i></b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1534873628085" FOLDED="true" ID="ID_928796871" MODIFIED="1566110161728" TEXT="interface hashing">
<node CREATED="1534873752319" ID="ID_1923058597" MODIFIED="1534874152296">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#24067;&#23616;&#65306;
    </p>
    <p>
      &#27599;&#20010;&#21253;&#30340;&#26681;&#30446;&#24405;&#65292;android.hardware&#23545;&#24212;&#20110;hardware/interfaces, vendor.foo&#23545;&#24212;&#20110;vendor/foo/hardware/interfaces
    </p>
    <p>
      &#24517;&#39035;&#21253;&#21547;&#19968;&#20010;current.txt&#25991;&#20214;&#65292;&#35813;&#25991;&#20214;&#37324;&#38754;&#21253;&#21547;&#30528;&#25152;&#26377;&#24050;&#32463;release&#20986;&#26469;&#30340;HIDL&#30340;&#25509;&#21475;&#25991;&#20214;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534874156685" ID="ID_851577076" MODIFIED="1534877963475">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Hash with hidl-gen:
    </p>
    <p>
      &#21487;&#20197;&#25163;&#21160;&#21521;current.txt&#37324;&#38754;&#28155;&#21152;&#21704;&#24076;&#20540;&#25110;&#32773;&#36890;&#36807;&#24037;&#20855;hidl-gen&#26469;&#36827;&#34892;&#28155;&#21152;&#65292;
    </p>
    <p>
      &#29983;&#25104;hash&#20540;&#30340;&#21629;&#20196;:
    </p>
    <p>
      hidl-gen -L hash -r vendor.awesome:vendor/awesome/hardware/interfaces -r
    </p>
    <p>
      android.hardware:hardware/interfaces -r android.hidl:system/libhidl/transport vendor.awesome.nfc@1.0
    </p>
    <p>
      9626fd18...f9d298a6 vendor.awesome.nfc@1.0::types
    </p>
    <p>
      07ac2dc9...11e3cf57 vendor.awesome.nfc@1.0::INfc
    </p>
    <p>
      f2fe5442...72655de6 vendor.awesome.nfc@1.0::INfcClientCallback
    </p>
    <p>
      
    </p>
    <p>
      hidl-gen -L hash -r vendor.awesome:vendor/awesome/hardware/interfaces -r android.hardware:hardware/interfaces -r
    </p>
    <p>
      android.hidl:system/libhidl/transport vendor.awesome.nfc@1.0&#160; &gt;&gt; vendor/awesome/hardware/interfaces/current.txt
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534878206346" ID="ID_970612689" MODIFIED="1534878489288">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#27599;&#20010;&#30001;hidl-gen&#20135;&#29983;&#30340;interface&#23450;&#20041;&#24211;&#37117;&#21253;&#21547;&#26377;&#21704;&#24076;&#20540;&#65292;&#35813;&#21704;&#24076;&#20540;&#21487;&#20197;&#36890;&#36807;&#25509;&#21475;
    </p>
    <p>
      IBase::getHashChain&#33719;&#24471;&#12290;&#24403;hidl-gen&#22312;&#32534;&#35793;&#25509;&#21475;&#30340;&#26102;&#20505;&#65292;&#23427;&#20250;&#39318;&#20808;&#26597;&#30475;&#21253;&#30340;&#26681;&#30446;&#24405;&#19979;&#38754;&#30340;current.txt
    </p>
    <p>
      &#25991;&#20214;&#26469;&#26816;&#26597;&#24403;&#21069;&#30340;interface&#26159;&#21542;&#24050;&#32463;&#34987;&#20462;&#25913;&#12290;
    </p>
    <ol>
      <li>
        &#22914;&#26524;&#27809;&#26377;hash&#20540;&#34987;&#21457;&#29616;&#65292;&#37027;&#20040;&#32534;&#35793;&#32487;&#32493;
      </li>
      <li>
        &#22914;&#26524;hash&#34987;&#25214;&#21040;&#65292;&#37027;&#20040;&#20250;&#23558;hash&#20540;&#36319;&#24403;&#21069;&#30340;&#25509;&#21475;&#36827;&#34892;&#27604;&#23545;&#12290;&#22914;&#26524;&#27604;&#23545;&#30340;&#32467;&#26524;&#26159;&#27491;&#30830;&#30340;&#65292;&#37027;&#20040;&#32534;&#35793;&#20250;&#32487;&#32493;&#36827;&#34892;&#12290;&#22914;&#26524;&#27604;&#23545;&#30340;&#32467;&#26524;&#26159;&#19981;&#27491;&#30830;&#30340;&#65292;&#35828;&#26126;interface&#34987;&#20462;&#25913;&#36807;&#65292;&#23545;&#20110;ABI&#23618;&#38754;&#30340;&#20462;&#25913;&#24517;&#39035;&#22312;&#32534;&#35793;&#20043;&#21069;&#23545;current.txt&#36827;&#34892;&#20462;&#25913;&#65292;&#22914;&#26524;&#26159;&#20854;&#20182;&#30340;&#20462;&#25913;&#37027;&#20040;&#24212;&#35813;&#23545;interface&#30340;&#29256;&#26412;&#36827;&#34892;&#21319;&#32423;&#20102;&#12290;
      </li>
    </ol>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1534879706330" FOLDED="true" ID="ID_855756407" MODIFIED="1572226019856">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b>&#26381;&#21153;&#21644;&#25968;&#25454;&#20256;&#36755;</b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1534879761767" ID="ID_1772700705" MODIFIED="1534879842794">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#3300ff">&#35813;&#37096;&#20998;&#20027;&#35201;&#25551;&#36848;&#22914;&#20309;&#21457;&#29616;&#21644;&#27880;&#20876;&#26381;&#21153;&#65292;&#20197;&#21450;&#22914;&#20309;&#36890;&#36807;&#23450;&#20041;&#22312;.hal&#25991;&#20214;&#37324;&#38754;&#30340; </font>
    </p>
    <p>
      <font color="#3300ff">&#25509;&#21475;&#21521;&#26381;&#21153;&#21457;&#36865;&#25968;&#25454;</font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534879902590" ID="ID_1924313945" MODIFIED="1534887559786">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>&#27880;&#20876;&#26381;&#21153;:</b>
    </p>
    <p>
      HIDL&#25509;&#21475;&#26381;&#21153;(&#29992;&#26469;&#23454;&#29616;&#25509;&#21475;&#30340;&#23454;&#20307;)&#21487;&#20197;&#34987;&#27880;&#20876;&#25104;&#20026;&#26377;&#21517;&#31216;&#30340;&#26381;&#21153;&#12290;
    </p>
    <p>
      &#27880;&#20876;&#30340;&#21517;&#31216;&#19981;&#38656;&#35201;&#36319;&#25509;&#21475;&#25110;&#32773;&#21253;&#30456;&#20851;&#65292;&#22914;&#26524;&#27809;&#26377;&#25351;&#23450;&#21517;&#31216;&#65292;&#37027;&#20040;&quot;default&quot;&#23601;&#20250;&#34987;&#20351;&#29992;&#12290;
    </p>
    <p>
      &#25509;&#21475;&#27880;&#20876;&#25104;&#26381;&#21153;&#30340;&#33539;&#20363;&#20195;&#30721;&#22914;&#19979;:
    </p>
    <p>
      status_t status = myFoo-&gt;registerAsService();
    </p>
    <p>
      status_t anotherStatus = anotherFoo-&gt;registerAsService(&quot;another_foo_service&quot;);&#160;&#160;// <font color="#ff0033">if needed </font>
    </p>
    <p>
      
    </p>
    <p>
      &#25509;&#21475;&#30340;&#29256;&#26412;&#21495;&#22312;&#27880;&#20876;&#30340;&#26102;&#20505;&#19981;&#38656;&#35201;&#36827;&#34892;&#25351;&#23450;&#65292;&#24050;&#32463;&#40664;&#35748;&#21253;&#21547;&#22312;&#20102;&#25509;&#21475;&#24403;&#20013;&#20102;&#65292;&#33719;&#21462;&#25509;&#21475;&#30340;&#29256;&#26412;&#21495;&#30340;
    </p>
    <p>
      &#26041;&#27861;&#22914;&#19979;&#25152;&#31034;:
    </p>
    <p>
      android::hardware::IInterface::getInterfaceVersion()
    </p>
    <p>
      
    </p>
    <p>
      server object&#19981;&#38656;&#35201;&#36827;&#34892;&#27880;&#20876;&#65292;&#23427;&#21487;&#20197;&#36890;&#36807;HIDL&#26041;&#27861;&#37324;&#38754;&#30340;&#21442;&#25968;&#20256;&#36882;&#21040;&#21478;&#22806;&#30340;&#36827;&#31243;&#24403;&#20013;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534887567692" ID="ID_1559147902" MODIFIED="1534892686403">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21457;&#29616;&#26381;&#21153;:
    </p>
    <p>
      &#30001;&#23458;&#25143;&#20195;&#30721;&#21457;&#36215;&#30340;&#35831;&#27714;&#21253;&#25324;interface&#30340;&#21517;&#31216;&#36319;&#29256;&#26412;&#21495;&#65292;&#36890;&#36807;&#35843;&#29992;getService()&#20989;&#25968;&#33719;&#21462;&#26381;&#21153;
    </p>
    <p>
      &#23454;&#20363;&#20195;&#30721;&#22914;&#19979;:
    </p>
    // C++<br />sp&lt;V1_1::IFooService&gt;&#160;service =&#160;V1_1::IFooService::getService();<br />sp&lt;V1_1::IFooService&gt;&#160;alternateService =&#160;V1_1::IFooService::getService(&quot;another_foo_service&quot;);<br />// Java<br />V1_1.IFooService&#160;service =&#160;V1_1.IFooService.getService(true&#160;/* retry */);<br />V1_1.IFooService&#160;alternateService =&#160;V1_1.IFooService.getService(&quot;another&quot;,&#160;true&#160;/* retry */);

    <p>
      &#19981;&#21516;&#30340;&#29256;&#26412;&#30340;interface&#20250;&#34987;&#24403;&#25104;&#20998;&#31163;&#24320;&#26469;&#30340;interface&#36827;&#34892;&#27880;&#20876;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      Vendor Interface Object&#23545;&#20110;&#36820;&#22238;&#30340;&#25509;&#21475;&#37324;&#38754;&#30340;&#26159;&#21738;&#20123;&#20256;&#36755;&#26041;&#27861;&#20063;&#26377;&#24433;&#21709;&#65292;&#27604;&#22914;&#20301;&#20110;package android.hardware.foo@1.0
    </p>
    <p>
      &#37324;&#38754;&#30340;&#25509;&#21475;IFoo, &#36890;&#36807;&#35843;&#29992;IFoo::getService&#36820;&#22238;&#30340;&#25509;&#21475;&#20351;&#29992;&#30340;&#20256;&#36755;&#26041;&#27861;&#65292;&#20250;&#20248;&#20808;&#20351;&#29992;&#22312;device manifest&#37324;&#38754;&#22768;&#26126;&#30340;&#20301;&#20110;
    </p>
    <p>
      android.hardware.foo&#37324;&#38754;&#30340;&#20837;&#21475;&#65292;&#22914;&#26524;&#22768;&#26126;&#30340;&#20837;&#21475;&#27809;&#26377;&#23545;&#24212;&#30340;&#20256;&#36755;&#26041;&#27861;&#65292;&#37027;&#20040;nullptr&#23601;&#20250;&#34987;&#36820;&#22238;
    </p>
    <p>
      
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534892695788" ID="ID_1039243205" MODIFIED="1534893299645">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Service death notifications
    </p>
    <p>
      
    </p>
    <p>
      &#22914;&#26524;&#23458;&#25143;&#31471;&#20195;&#30721;&#24819;&#24471;&#21040;framework&#25512;&#36865;&#30340;service died &#36890;&#30693;&#65292;&#24517;&#39035;&#20570;&#22914;&#19979;&#30340;&#21160;&#20316;:
    </p>
    <p>
      1.Subclass the HIDL class/interface hidl_death_recipient (in C++ code, not in HIDL).
    </p>
    <p>
      2.Override its serviceDied() method.
    </p>
    <p>
      3.Instantiate an object of the hidl_death_recipient subclass.
    </p>
    <p>
      4.Call the linkToDeath() method on the service to monitor, passing in the IDeathRecipient's interface object.
    </p>
    <p>
      Note that this method does not take ownership of the death recipient or the proxy on which it is called.
    </p>
    <p>
      &#31034;&#20363;&#20195;&#30721;&#22914;&#19979;:
    </p>
    class&#160;IMyDeathReceiver&#160;:&#160;hidl_death_recipient {<br />&#160; virtual&#160; void&#160;serviceDied(uint64_t cookie,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;wp&lt;IBase&gt;&amp;&#160; service)&#160;override&#160;{<br />&#160;&#160;&#160;&#160;log(&quot;RIP service %d!&quot;,&#160;cookie);&#160;&#160;// Cookie should be 42<br />&#160; }<br />};<br />....<br />IMyDeathReceiver&#160; deathReceiver =&#160;new&#160;IMyDeathReceiver();<br />m_importantService-&gt;linkToDeath(deathReceiver,&#160; 42);
  </body>
</html></richcontent>
</node>
<node CREATED="1534893820145" ID="ID_256923480" MODIFIED="1534900183052">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b>Data Transfer</b></font>
    </p>
    <p>
      data&#21487;&#33021;&#20250;&#36890;&#36807;&#23450;&#20041;&#22312;&#25509;&#21475;&#25991;&#20214;.hal&#37324;&#38754;&#30340;&#26041;&#27861;&#20256;&#36755;&#32473;service, &#26377;&#20004;&#31181;&#31867;&#22411;&#30340;&#26041;&#27861;:
    </p>
    <p>
      <font color="#ff0033">Blocking method</font>&#20250;&#31561;&#24453;&#65292;&#30452;&#21040;server&#36820;&#22238;&#19968;&#20010;&#32467;&#26524;
    </p>
    <p>
      <font color="#ff0033">Oneway method</font>&#21482;&#22312;&#19968;&#20010;&#26041;&#21521;&#21457;&#36865;&#25968;&#25454;&#24182;&#19988;&#19981;&#20250;block&#20303;&#12290;&#22914;&#26524;&#21457;&#36865;&#30340;&#25968;&#25454;&#36229;&#36807;&#20102;&#32531;&#23384;&#30340;&#38480;&#21046;&#65292;
    </p>
    <p>
      &#35843;&#29992;&#21487;&#33021;&#20250;&#34987;&#38459;&#22622;&#20303;&#25110;&#32773;&#20250;&#36820;&#22238;&#19968;&#20010;&#38169;&#35823;&#30340;&#26631;&#35782;&#31526;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#22914;&#26524;&#19968;&#20010;&#26041;&#27861;&#19981;&#36820;&#22238;&#20219;&#20309;&#20540;&#24182;&#19988;&#27809;&#26377;&#34987;&#22768;&#26126;&#25104;Oneway, &#37027;&#20040;&#35813;&#26041;&#27861;&#20173;&#28982;&#26159;&#38459;&#22622;&#24335;&#30340;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      <font color="#ff0000">callback&#65306;callback&#20998;&#20026;&#21516;&#27493;&#22238;&#35843;&#36319;&#24322;&#27493;&#22238;&#35843;</font>
    </p>
    <p>
      &#21516;&#27493;&#22238;&#35843;&#29992;&#20110;&#37027;&#20123;&#20250;&#36820;&#22238;&#22797;&#26434;&#25968;&#25454;&#30340;HIDL&#26041;&#27861;&#24403;&#20013;&#65292;&#35813;&#22238;&#35843;&#20989;&#25968;&#26159;&#26377;client&#26469;&#25552;&#20379;&#30340;&#65292;&#29992;&#20110;&#25552;&#20379;&#25968;&#25454;&#30340;&#20256;&#36755;&#12290;
    </p>
    <p>
      &#24322;&#27493;&#22238;&#35843;&#20801;&#35768;HIDL&#26041;&#27861;&#30340;&#26381;&#21153;&#31471;&#20063;&#21487;&#20197;&#21457;&#36215;&#19968;&#20010;&#35843;&#29992;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      Per-transaction limits
    </p>
    <p>
      
    </p>
    <p>
      Method implementations
    </p>
    <p>
      HIDL&#20250;&#29983;&#25104;&#22836;&#25991;&#20214;&#65292;&#35813;&#25991;&#20214;&#37324;&#38754;&#20250;&#29992;&#30446;&#26631;&#35821;&#35328;(c++/Java)&#22768;&#26126;&#24517;&#35201;&#30340;type, methods &#21644; callbacks&#12290;
    </p>
    <p>
      &#23545;&#20110;&#23458;&#25143;&#31471;&#21644;&#26381;&#21153;&#31471;&#26469;&#35828;&#65292;HIDL&#23450;&#20041;&#30340;&#26041;&#27861;&#21407;&#22411;&#37117;&#26159;&#30456;&#21516;&#30340;&#12290;HIDL&#22312;&#35843;&#29992;&#31471;&#20026;&#36828;&#31243;&#26041;&#27861;&#35843;&#29992;&#30340;&#20256;&#36755;&#25552;&#20379;&#20102;&#19968;&#20010;proxy
    </p>
    <p>
      &#30340;&#23454;&#29616;&#65292;&#22312;&#34987;&#35843;&#29992;&#31471;&#25552;&#20379;&#20102;&#25509;&#25910;&#30340;&#23454;&#29616;&#29992;&#20110;&#23558;&#26041;&#27861;&#21644;&#21442;&#25968;&#20256;&#36882;&#32473;&#23454;&#29616;&#26041;&#30340;&#20989;&#25968;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      Non-RPC data transfer
    </p>
    <p>
      HIDL&#22312;&#19981;&#20351;&#29992;&#36828;&#31243;&#35843;&#29992;&#30340;&#24773;&#20917;&#19979;&#65292;&#26377;&#20004;&#31181;&#26041;&#27861;&#21487;&#20197;&#23454;&#29616;&#25968;&#25454;&#30340;&#20256;&#36755;&#65292;&#21363;shared memory&#21644;Fast Message Queue(FMQ),
    </p>
    <p>
      &#36825;&#20004;&#31181;&#26041;&#27861;&#37117;&#21482;&#25903;&#25345;c++
    </p>
  </body>
</html></richcontent>
<node CREATED="1534897244302" ID="ID_805994043" MODIFIED="1534897571958">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Fast Message Queue (FMQ)
    </p>
    <p>
      HIDL&#22312;&#20351;&#29992;&#36828;&#31243;&#35843;&#29992;&#30340;&#26102;&#20505;&#31995;&#32479;&#30340;&#24320;&#38144;&#20250;&#27604;&#36739;&#22823;&#65292;&#25152;&#20197;&#36825;&#37324;&#24341;&#36827;&#20102;FMQ&#31995;&#32479;&#26469;&#38477;&#20302;&#31995;&#32479;&#30340;&#24320;&#38144;&#12290;
    </p>
    <p>
      FMQ&#29992;&#38656;&#27714;&#30340;&#23646;&#24615;&#26469;&#21019;&#24314;&#28040;&#24687;&#38431;&#21015;&#65292;MQDescriptorSync &#25110;&#32773; MQDescriptorUnsync&#23454;&#20307;&#20250;&#36890;&#36807;
    </p>
    <p>
      HIDL&#30340;&#36828;&#31243;&#35843;&#29992;&#26469;&#20256;&#36882;&#32473;&#21478;&#19968;&#20010;&#36827;&#31243;&#65292;&#36825;&#26679;&#21478;&#19968;&#20010;&#36827;&#31243;&#23601;&#21487;&#20197;&#35775;&#38382;&#28040;&#24687;&#38431;&#21015;&#20102;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#28040;&#24687;&#38431;&#21015;&#26377;&#20004;&#31181;&#31867;&#22411;:
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1534899668941" ID="ID_492774086" MODIFIED="1534899697537">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b>HIDL Memory Block</b></font>
    </p>
    <p>
      
    </p>
    <p>
      &#26377;&#31354;&#20877;&#30475;&#12290;&#12290;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534900290583" ID="ID_1190827014" MODIFIED="1534900310943">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b>&#32447;&#31243;&#27169;&#22411;</b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1534900939506" FOLDED="true" ID="ID_1325269962" MODIFIED="1566110164006">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4" color="#ff0033">Server&#31471;&#30340;&#32447;&#31243;&#27169;&#22411;</font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1534900980363" ID="ID_852114959" MODIFIED="1534901438442">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#38500;&#20102;passthrouth&#27169;&#24335;&#65292; &#29992;&#20110;&#23454;&#29616;HIDL&#25509;&#21475;&#30340;server&#31471;&#26159;&#20301;&#20110;&#19981;&#21516;&#30340;&#36827;&#31243;&#24403;&#20013;&#30340;&#12290;
    </p>
    <p>
      &#26381;&#21153;&#31471;&#30340;&#36827;&#31243;&#37324;&#38754;&#21487;&#33021;&#20250;&#26377;&#19968;&#20010;&#25110;&#32773;&#22810;&#20010;&#32447;&#31243;&#29992;&#26469;&#22788;&#29702;&#23458;&#25143;&#31471;&#30340;&#26041;&#27861;&#35843;&#29992;&#12290;
    </p>
    <p>
      &#36825;&#20123;&#32447;&#31243;&#37117;&#26159;&#20301;&#20110;&#26381;&#21153;&#31471;&#30340;&#32447;&#31243;&#27744;&#37324;&#38754;&#30340;&#12290;&#26381;&#21153;&#31471;&#21487;&#20197;&#20915;&#23450;&#32447;&#31243;&#27744;&#37324;&#38754;&#30340;&#32447;&#31243;&#30340;&#25968;&#37327;&#65292;
    </p>
    <p>
      &#22914;&#26524;&#32447;&#31243;&#27744;&#37324;&#38754;&#21482;&#26377;&#19968;&#20010;&#32447;&#31243;&#65292;&#37027;&#20040;&#26381;&#21153;&#31471;&#20250;&#39034;&#24207;&#25191;&#34892;&#23458;&#25143;&#31471;&#30340;&#26041;&#27861;&#35843;&#29992;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1534901572598" ID="ID_1109009668" MODIFIED="1572226024633">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4" color="#0033ff"><b>&#23558;&#20256;&#32479;&#30340;HAL&#27169;&#22359;&#36716;&#25442;&#25104;hidl&#27169;&#24335;&#30340;hal&#27169;&#22359;&#30340;&#26041;&#27861;</b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1534905285722" ID="ID_282153012" MODIFIED="1534905413693">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#36716;&#25442;&#26087;&#30340;hal&#23618;&#30340;&#22836;&#25991;&#20214;: hardware/libhardware/include/hardware, &#20351;&#29992;c2hal&#24037;&#20855;
    </p>
    <code class="devsite-terminal"><font size="4"><b>make c2hal</b></font></code><font size="4"><b>&#160;</b></font> <i>c2hal -r android.hardware:hardware/interfaces -randroid.hidl:system/libhidl/transport -p android.hardware.nfc@1.0 &#160;&#160;&#160;&#160;hardware/libhardware/include/hardware/nfc.h</i>
  </body>
</html></richcontent>
</node>
<node CREATED="1534905744596" ID="ID_1730855325" MODIFIED="1534906006585">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      implementing the hal
    </p>
    <p>
      
    </p>
    <p>
      &#21019;&#24314;&#20102;.hal&#25991;&#20214;&#20043;&#21518;&#65292;&#24517;&#39035;&#21019;&#24314;makefile&#25991;&#20214;&#65292;&#25991;&#20214;./hardware/interfaces/update-makefiles.sh
    </p>
    <p>
      &#21487;&#20197;&#20026;&#20301;&#20110;
    </p>
    <p>
      <code>hardware/interfaces &#30446;&#24405;&#19979;&#38754;&#30340;hal&#25991;&#20214;&#33258;&#21160;&#20135;&#29983;makefile&#25991;&#20214;&#65292; </code>
    </p>
    <p>
      &#24403;makefile&#23436;&#22791;&#20043;&#21518;&#65292;&#23601;&#21487;&#20197;&#30528;&#25163;&#29983;&#25104;&#22836;&#25991;&#20214;&#20102;&#65292;&#24182;&#29992;c++&#25110;&#32773;java&#26469;&#23454;&#29616;&#23545;&#24212;&#30340;&#25509;&#21475;&#20102;
    </p>
  </body>
</html></richcontent>
<node CREATED="1534906213575" ID="ID_1430120961" MODIFIED="1534906248938">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4" color="#9900ff"><b>HIDL C++</b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1534906285565" ID="ID_1664254107" MODIFIED="1534907374716">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#35813;&#37096;&#20998;&#25551;&#36848;&#20102;c++&#23454;&#29616;&#19979;&#30340;hidl interface&#12290;
    </p>
    <p>
      &#21253;&#25324;&#21033;&#29992;hidl-gen&#32534;&#35793;&#22120;&#36890;&#36807;.hal&#25991;&#20214;&#29983;&#25104;&#30340;&#25991;&#20214;&#30340;&#25551;&#36848;&#65292;
    </p>
    <p>
      &#36825;&#20123;&#25991;&#20214;&#22914;&#20309;&#34987;&#25171;&#21253;&#65292;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534988989246" ID="ID_312304733" MODIFIED="1534989006220">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="camera/treble_cpp_legacy_hal_progression.png" />
  </body>
</html></richcontent>
<node CREATED="1535093358311" ID="ID_1571936114" MODIFIED="1535094224082">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b><i>Passthrough &#27169;&#24335;&#30340;&#22836;&#25991;&#20214;</i></b>
    </p>
    <p>
      
    </p>
    <p>
      &#20551;&#35774;&#24403;&#21069;&#30340;&#25509;&#21475;&#21517;&#31216;&#21483;&#20570;Foo, &#24403;&#35813;&#25509;&#21475;&#30340;.hal&#25991;&#20214;&#34987;&#32534;&#35793;&#65292;hidl-gen&#38500;&#20102;&#20135;&#29983;&#29992;&#20110;binder&#36890;&#20449;&#30340;&#22836;&#25991;&#20214;&#36824;&#20250;&#20135;&#29983;&#39069;&#22806;&#30340;
    </p>
    <p>
      passthrough&#22836;&#25991;&#20214;BsFoo.h,&#160; &#35813;&#25991;&#20214;&#23450;&#20041;&#20102;&#21487;&#20197;&#34987;dlopen&#30340;&#20989;&#25968;&#12290;&#22240;&#20026;passthrough hal&#36319;&#35843;&#29992;&#32773;&#26159;&#36816;&#34892;&#22312;&#21516;&#19968;&#20010;&#36827;&#31243;&#24403;&#20013;&#30340;&#65292;
    </p>
    <p>
      hal&#37324;&#38754;&#30340;&#22823;&#37096;&#20998;&#20989;&#25968;&#21487;&#20197;&#34987;&#30452;&#25509;&#35843;&#29992;&#12290;oneway&#26041;&#27861;&#21487;&#20197;&#22312;&#19968;&#20010;&#21333;&#29420;&#30340;&#32447;&#31243;&#37324;&#38754;&#36816;&#34892;&#65292;&#36825;&#24847;&#21619;&#30528;&#35813;&#26041;&#27861;&#24517;&#39035;&#26159;&#32447;&#31243;&#23433;&#20840;&#30340;&#12290;
    </p>
    <p>
      BsFoo.h&#20250;&#23558;hidl&#20135;&#29983;&#30340;&#26041;&#27861;&#20570;&#19968;&#23618;&#23553;&#35013;&#29992;&#20197;&#25552;&#20379;&#20854;&#20182;&#30340;&#19968;&#20123;&#29305;&#24615;(&#27604;&#22914;&#35753;oneway&#26041;&#27861;&#36816;&#34892;&#22312;&#21478;&#19968;&#20010;&#32447;&#31243;&#24403;&#20013;)
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1535094232680" ID="ID_1066307313" MODIFIED="1535102731150">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>Binderizing passthrouth HALs</b>
    </p>
    <p>
      
    </p>
    <p>
      &#20320;&#21487;&#20197;binder&#21270;&#19968;&#20010;&#25903;&#25345;passthrough&#27169;&#24335;&#30340;hal&#23454;&#29616;&#65292;&#27604;&#22914;&#26377;&#19968;&#20010;&#25509;&#21475;a..b.c.d@M.N::IFoo, &#26377;&#20004;&#20010;&#21253;&#20250;&#34987;
    </p>
    <p>
      &#21019;&#24314;:
    </p>
    <p>
      <b>a.b.c.d@M.N::IFoo-impl</b>(&#23545;&#20110;camera provider&#26469;&#35828;&#23601;&#26159;android.hardware.camera.provider@2.4-impl)&#65292;&#36825;&#20010;&#21253;&#37324;&#38754;
    </p>
    <p>
      &#21253;&#21547;&#20102;hal&#23618;&#30340;&#23454;&#29616;&#20197;&#21450;&#19968;&#20010;&#26292;&#38706;&#32473;&#22806;&#30028;&#30340;&#25509;&#21475;&#20989;&#25968;IFoo* HIDL_FETCH_IFoo(const char* name)&#12304;&#23545;&#20110;camera provider&#26469;&#35828;
    </p>
    <p>
      &#23601;&#26159;ICameraProvider* HIDL_FETCH_ICameraProvider(const char* name)&#12305;&#22312;legacy&#35774;&#22791;&#19978;&#65292;&#35813;&#21253;&#26159;&#30452;&#25509;&#36890;&#36807;dlopen&#25171;&#24320;&#30340;&#65292;
    </p>
    <p>
      &#24182;&#19988;&#36890;&#36807;HIDL_FETCH_IFoo&#26469;&#23454;&#20363;&#21270;(HIDL_FETCH_ICameraProvider&#23601;&#26159;&#30452;&#25509;new&#20102;&#19968;&#20010;CameraProvider)
    </p>
    <p>
      
    </p>
    <p>
      <b>a.b.c.d@M.N::IFoo-service</b>(android.hardware.camera.provider@2.4-service) &#35813;&#21253;&#30340;&#20316;&#29992;&#23601;&#26159;&#25171;&#24320;&#19978;&#38754;&#25152;&#35828;&#30340;passthrough&#27169;&#24335;&#30340;
    </p>
    <p>
      hal&#65292;&#24182;&#19988;&#23558;&#20854;&#27880;&#20876;&#25104;&#19968;&#20010;binder&#26381;&#21153;&#65292; &#36825;&#26679;&#35813;hal&#30340;&#23454;&#29616;&#23601;&#21487;&#20197;&#34987;&#24403;&#20570;passthrough&#27169;&#24335;&#20351;&#29992;&#65292;&#20063;&#21487;&#20197;&#20316;&#20026;binder service&#26469;&#20351;&#29992;&#20102;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#36890;&#36807;&#35843;&#29992;sp&lt;IFoo&gt; IFoo::getService(string name, bool getStub)&#23601;&#21487;&#20197;&#33719;&#21462;IFoo&#30340;&#23454;&#20363;&#65292;&#22312;CameraProviderManager&#37324;&#38754;&#23601;&#26159;&#35843;&#29992;
    </p>
    <p>
      CameraProvider::getService&#26469;&#33719;&#21462;&#24403;&#21069;&#30340;camera provider&#23454;&#20363;&#30340;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1534989251665" ID="ID_175406384" MODIFIED="1534989262847" TEXT="OverVIew">
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1534989267282" ID="ID_1989230039" MODIFIED="1534990274999">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Create the hal client
    </p>
    <p>
      
    </p>
    <p>
      a. &#23558;hal&#23618;&#30340;&#24211;&#21253;&#21547;&#22312;makefile&#24403;&#20013;, &#20004;&#31181;&#20889;&#27861;
    </p>
    <p>
      Make: LOCAL_SHARED_LIBRARIES += android.hardware.nfc@1.0
    </p>
    <p>
      Soong: shared_libs: [ &#8230;, android.hardware.nfc@1.0 ]
    </p>
    <p>
      
    </p>
    <p>
      b.&#22312;&#23454;&#29616;&#30340;&#25991;&#20214;&#24403;&#20013;&#21253;&#21547;hal&#23618;&#30340;&#22836;&#25991;&#20214;
    </p>
    <p>
      #include &lt;android/hardware/nfc/1.0/IFoo.h&gt;
    </p>
    <p>
      &#8230;
    </p>
    <p>
      // in code:
    </p>
    <p>
      sp&lt;IFoo&gt; client = IFoo::getService();
    </p>
    <p>
      client-&gt;doThing();
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534990279560" ID="ID_1834170861" MODIFIED="1535332693128">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21019;&#24314;&#26381;&#21153;&#31471;
    </p>
    <p>
      
    </p>
    <p>
      a. &#20026;&#20102;&#21019;&#24314;&#26381;&#21153;&#31471;&#65292;&#24517;&#39035;&#25317;&#26377;&#20195;&#34920;hal&#23618;&#30340;.hal&#25991;&#20214;&#65292;&#32780;&#19988;&#35201;&#21033;&#29992;hidl-gen&#26469;&#29983;&#25104;hal&#23618;&#30340;makefile&#25991;&#20214;(&#20351;&#29992;-Lmakefile &#25110;&#32773; -Landroidbp&#21629;&#20196;
    </p>
    <p>
      ,./hardware/interfaces/update-makefiles.sh&#37324;&#38754;&#23601;&#26377;&#20351;&#29992;&#30340;&#33539;&#20363;&#65292;&#21487;&#20197;&#21442;&#32771;&#19968;&#19979;)
    </p>
    <p>
      &#20351;&#29992;c2hal&#24037;&#20855;&#21487;&#20197;&#23558;&#20256;&#32479;&#30340;hal&#23618;&#30340;&#22836;&#25991;&#20214;&#36716;&#25442;&#25104;.hal&#30340;&#25991;&#20214;
    </p>
    <p>
      &#19979;&#38754;&#26159;&#19968;&#20010;&#36716;&#25442;makefile&#25991;&#20214;&#30340;&#20351;&#29992;&#33539;&#20363;
    </p>
    <p>
      <i><font size="4">PACKAGE=android.hardware.nfc@1.0 </font></i>
    </p>
    <p>
      <i><font size="4">LOC=hardware/interfaces/nfc/1.0/default/ </font></i>
    </p>
    <p>
      <i><font size="4">m -j hidl-gen </font></i>
    </p>
    <p>
      <i><font size="4">hidl-gen -o $LOC -Lc++-impl -randroid.hardware:hardware/interfaces \ </font></i>
    </p>
    <p>
      <i><font size="4">&#160;&#160;&#160;&#160;-randroid.hidl:system/libhidl/transport $PACKAGE </font></i>
    </p>
    <p>
      <i><font size="4">hidl-gen -o $LOC -Landroidbp-impl -randroid.hardware:hardware/interfaces \ </font></i>
    </p>
    <p>
      <i><font size="4">&#160;&#160;&#160;&#160;-randroid.hidl:system/libhidl/transport $PACKAGE </font></i>
    </p>
    <p>
      
    </p>
    <p>
      <i><font size="4">b.&#23558;&#26381;&#21153;&#31471;&#27880;&#20876; </font></i>
    </p>
    <p>
      <i><font size="4">#include &lt;hidl/LegacySupport.h&gt; </font></i>
    </p>
    <p>
      <i><font size="4">int main(int /* argc */, char* /* argv */ []) { </font></i>
    </p>
    <p>
      <i><font size="4">&#160;&#160;&#160;&#160;return defaultPassthroughServiceImplementation&lt;INfc&gt;(&quot;nfc&quot;); </font></i>
    </p>
    <p>
      <i><font size="4">}</font></i>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1535332772473" ID="ID_964896449" MODIFIED="1535332796947">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b>&#37197;&#32622;sepolicy</b></font>
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1535332852354" ID="ID_981245756" MODIFIED="1535332887314">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4" color="#e42323"><b>Packages</b></font>
    </p>
  </body>
</html></richcontent>
<node CREATED="1535332977179" ID="ID_1672950939" MODIFIED="1535333367169">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#38500;&#20102;&#26497;&#23569;&#30340;&#20363;&#22806;&#65292; hidl&#20135;&#29983;&#30340;&#21253;&#20301;&#20110;&#30446;&#24405;hardware/interfaces&#19979;&#38754;&#25110;&#32773;&#26159;vendor/&#30446;&#24405;&#19979;&#38754;
    </p>
    <p>
      hardware/interfaces&#23545;&#24212;&#20110;android.hardware&#21629;&#21517;&#31354;&#38388;
    </p>
    <p>
      hidl-gen&#23558;.hal&#25991;&#20214;&#32534;&#35793;&#25104;&#19968;&#31995;&#21015;&#30340;.h&#21644;.cpp&#25991;&#20214;&#65292;&#23458;&#25143;&#31471;&#21644;&#26381;&#21153;&#31471;&#37117;&#20250;&#38142;&#25509;&#30001;&#36825;&#20123;.h&#21644;.cpp&#24418;&#25104;&#30340;&#21253;&#12290;
    </p>
    <p>
      &#26500;&#24314;&#35813;&#20849;&#20139;&#24211;&#30340;&#25991;&#20214;Android.bp&#26159;&#30001;&#33050;&#26412;hardware/interfaces/update-makefiles.sh&#20135;&#29983;&#30340;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1535333632276" ID="ID_849877538" MODIFIED="1535333659274">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="camera/treble_cpp_compiler_generated_files.png" />
  </body>
</html></richcontent>
<node CREATED="1562650185340" ID="ID_410825469" MODIFIED="1562650351681">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      FooAll.cpp &#21253;&#21547; HwBinder &#20195;&#29702;&#21644; HwBinder&#23384;&#26681;&#30340;&#23454;&#29616;&#30340;&#31867;&#12290;&#24403;&#23458;&#25143;&#31471;&#35843;&#29992;&#25509;&#21475;&#26041;&#27861;&#26102;&#65292;
    </p>
    <p>
      &#20195;&#29702;&#20250;&#33258;&#21160;&#20174;&#23458;&#25143;&#31471;&#23553;&#36865;&#21442;&#25968;&#65292;&#24182;&#23558;&#20107;&#21153;&#21457;&#36865;&#21040;&#32465;&#23450;&#20869;&#26680;&#39537;&#21160;&#31243;&#24207;&#65292;&#35813;&#20869;&#26680;&#39537;&#21160;&#31243;&#24207;
    </p>
    <p>
      &#20250;&#23558;&#20107;&#21153;&#20256;&#36865;&#21040;&#21478;&#19968;&#31471;&#30340;&#23384;&#26681;&#65288;&#35813;&#23384;&#26681;&#38543;&#21518;&#35843;&#29992;&#23454;&#38469;&#30340;&#26381;&#21153;&#22120;&#23454;&#29616;&#65289;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1535337111390" ID="ID_1947008732" MODIFIED="1535337137958">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b>Interfaces</b></font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1535337145478" ID="ID_1971442744" MODIFIED="1535337167335">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b>Data Types</b></font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1535337174702" ID="ID_1806955038" MODIFIED="1535337198387">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b>Functions</b></font>
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
<node CREATED="1572227434542" ID="ID_1848744393" MODIFIED="1572227458953">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#0000ff"><b>HIDL JAVA</b></font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1562641412415" ID="ID_1168268494" MODIFIED="1572226510322">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4">HIDL &#25991;&#20214;&#30340;&#32534;&#35793;</font>
    </p>
  </body>
</html></richcontent>
<font BOLD="true" NAME="SansSerif" SIZE="12"/>
<node CREATED="1562641581282" ID="ID_506375662" MODIFIED="1562641870382">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22312;&#23545;&#24212;&#30340;hidl&#25991;&#20214;&#30340;&#30446;&#24405;&#19979;&#38754;&#25191;&#34892;mm&#21629;&#20196;&#65292;&#25110;&#32773;&#22312;&#26681;&#30446;&#24405;&#19979;&#38754;&#25191;&#34892;
    </p>
    <p>
      make PQName, &#22312;<b>out/soong/.interfaces/hardware/interfaces</b>&#19979;&#29983;&#25104;&#23545;&#24212;&#30340;&#27169;&#22359;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1535337818557" ID="ID_472946994" MODIFIED="1535337854183" POSITION="left">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4" color="#0c26e7"><b>ConfigStore HAL</b></font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534888567661" FOLDED="true" ID="ID_1436064826" MODIFIED="1543386502226" POSITION="left">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4"><b>Vendor Interface Object(VINTF object)</b></font>
    </p>
    <p>
      &#29992;&#20110;&#32858;&#21512;&#35774;&#22791;&#30340;&#30456;&#20851;&#20449;&#24687;&#65292;&#24182;&#25552;&#20379;&#30456;&#20851;&#30340;api&#26469;&#20379;&#31532;&#19977;&#26041;&#36827;&#34892;&#26597;&#35810;
    </p>
  </body>
</html></richcontent>
<node CREATED="1534889480816" ID="ID_1467867287" MODIFIED="1534889518980">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="camera/treble_vintf_mm.png" />
  </body>
</html></richcontent>
</node>
<node CREATED="1534889605380" ID="ID_1904382881" MODIFIED="1534890476669">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>Manifests&#21644;matrices</b>
    </p>
    <p>
      
    </p>
    <p>
      &#23545;&#20110;android8.0&#26469;&#35828;&#65292;&#26377;&#19968;&#20010;&#36816;&#34892;&#26102;&#30340;api&#21487;&#20197;&#29992;&#26469;&#21672;&#35810;&#35774;&#22791;&#30340;&#33021;&#21147;&#65292;&#24182;&#23558;&#36825;&#20123;&#20449;&#24687;
    </p>
    <p>
      &#21457;&#36865;&#32473;OTA&#26356;&#26032;&#26381;&#21153;&#22120;&#25110;&#32773;&#26159;&#20854;&#20182;&#26377;&#20852;&#36259;&#30340;&#31532;&#19977;&#26041;(CTS)&#12290;&#26377;&#20123;&#20449;&#24687;&#26159;&#36816;&#34892;&#26102;&#33719;&#21462;&#30340;&#65292;&#26377;&#20123;&#21017;&#26159;&#38745;&#24577;&#23450;&#20041;&#30340;&#12290;
    </p>
    <p>
      device manifest&#23450;&#20041;&#20102;&#35774;&#22791;&#21487;&#20197;&#25552;&#20379;&#32473;framework&#30340;&#38745;&#24577;&#32452;&#20214;
    </p>
    <p>
      framework compatibility matrix&#21017;&#23450;&#20041;&#20102;framework&#26399;&#26395;&#35774;&#22791;&#25552;&#20379;&#30340;&#32452;&#20214;
    </p>
    <p>
      framework manifest&#25551;&#36848;&#20102;framework&#21487;&#20197;&#25552;&#20379;&#32473;device&#30340;&#39640;&#23618;&#26381;&#21153;
    </p>
    <p>
      device compatibility matrix&#25551;&#36848;&#20102;device&#24076;&#26395;&#20174;framework&#33719;&#21462;&#30340;&#26381;&#21153;
    </p>
    <p>
      
    </p>
    <p>
      &#31616;&#32780;&#35328;&#20043;manifest&#21644;matrix&#25551;&#36848;&#20102;&#25552;&#20379;&#20160;&#20040;&#21644;&#38656;&#35201;&#20160;&#20040;
    </p>
  </body>
</html></richcontent>
<node CREATED="1534890582888" ID="ID_879198928" MODIFIED="1543386497733">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      manifest
    </p>
    <p>
      VINTF object&#20174;device manifest&#21644;framework manifest&#24403;&#20013;&#33719;&#21462;&#20449;&#24687;&#65292;&#22312;&#36816;&#34892;&#26102;&#20174;&#35774;&#22791;&#24403;&#20013;&#33719;&#21462;&#20449;&#24687;&#12290;
    </p>
    <p>
      device manifest&#21644;framework manifest&#20998;&#20139;&#30456;&#21516;&#30340;xml&#26684;&#24335;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      device manifest&#30001;vendor manifest&#21644;ODM manifest&#32452;&#25104;&#65306;
    </p>
    <p>
      <font color="#ff0033">vendor manifest&#25351;&#23450;HALs,VNDK&#31561;soc&#36890;&#29992;&#30340;&#29256;&#26412;</font>&#65292;&#36890;&#24120;&#24314;&#35758;&#25918;&#32622;&#22312;&#30446;&#24405;
    </p>
    <p>
      device/${VENDOR}/${DEVICE}/manifest.xml&#19979;&#38754;&#12290;ODM manifest&#20250;&#35206;&#30422;&#25481;vendor manifest,
    </p>
    <p>
      &#24182;&#19988;&#20250;&#34987;&#24403;&#21069;&#30340;&#20135;&#21697;&#25351;&#23450;&#20855;&#20307;&#30340;HALs.
    </p>
    <p>
      
    </p>
    <p>
      framework manifest(&#30001;google&#25552;&#20379;)&#34987;&#25918;&#32622;&#22312;&#28304;&#20195;&#30721;&#30340;&#30446;&#24405;/system/libhidl/manifest.xml&#24403;&#20013;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1534891294009" ID="ID_289006845" MODIFIED="1534891511293">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Compatibility Matrices
    </p>
    <p>
      
    </p>
    <p>
      Framework compatibility matrix (FCM)&#25551;&#36848;&#20102;&#36816;&#34892;&#22312;&#29305;&#23450;&#35774;&#22791;&#19978;&#30340;framework&#30340;&#38656;&#27714;&#65292;
    </p>
    <p>
      matrix&#25991;&#20214;&#36319;system.img&#26159;&#20851;&#32852;&#36215;&#26469;&#30340;
    </p>
    <p>
      
    </p>
    <p>
      Device compatibility matrix (DCM)&#25551;&#36848;&#20102;&#35774;&#22791;&#23545;&#20110;framework&#30340;&#35201;&#27714;
    </p>
    <p>
      
    </p>
    <p>
      matrix&#30340;&#35821;&#27861;&#65292;&#21442;&#32771;&#38142;&#25509; https://source.android.com/devices/architecture/vintf/comp-matrices
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1506408352929" FOLDED="true" ID="ID_1882094916" MODIFIED="1543386534442" POSITION="right" TEXT="13. android &#x5171;&#x4eab;&#x5185;&#x5b58;">
<node CREATED="1506408366358" ID="ID_541543196" MODIFIED="1506408378534" TEXT="ashmem &#x865a;&#x62df;&#x5730;&#x5740;&#x8fde;&#x7eed;&#x7684;&#x5171;&#x4eab;&#x5185;&#x5b58;"/>
<node CREATED="1506408382550" ID="ID_816489210" MODIFIED="1506408402224" TEXT="pmem &#x7269;&#x7406;&#x5730;&#x5740;&#x8fde;&#x7eed;&#x7684;&#x5171;&#x4eab;&#x5185;&#x5b58;"/>
</node>
<node CREATED="1508405934501" FOLDED="true" ID="ID_145164834" MODIFIED="1543386538155" POSITION="right" TEXT="14. android debug">
<node CREATED="1508405945445" ID="ID_1833291569" MODIFIED="1508405949218" TEXT="https://sites.google.com/a/itspaclub.com/www/android-debug/7-how-to-debug-native-code/7-6-android-tombstones"/>
</node>
<node CREATED="1537406665769" ID="ID_1431826577" MODIFIED="1537406718429" POSITION="right">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4" color="#009999"><b><i>VTS&#27979;&#35797;</i></b></font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1543386542819" FOLDED="true" ID="ID_1329610924" MODIFIED="1566110177671" POSITION="right" TEXT="16. android &#x989c;&#x8272;&#x7a7a;&#x95f4;">
<node CREATED="1543386709074" ID="ID_1088319198" MODIFIED="1543386918478">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20174;android8.1 &#24320;&#22987;&#25903;&#25345;&#39068;&#33394;&#31649;&#29702;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1543386921099" ID="ID_1466144956" MODIFIED="1543388291321">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20855;&#26377;&#23485;&#33394;&#22495;&#26174;&#31034;&#33021;&#21147;&#30340;&#35774;&#32622;&#24212;&#35813;&#25903;&#25345;&#23433;&#21331;&#30340;&#39068;&#33394;&#31649;&#29702;&#65292;&#22312;&#20351;&#33021;&#36825;&#20010;feature&#20043;&#21069;&#65292;&#30830;&#20445;&#35774;&#22791;
    </p>
    <p>
      &#28385;&#36275;&#22914;&#19979;&#30340;&#35201;&#27714;:
    </p>
    <ol>
      <li>
        &#35774;&#22791;&#26174;&#31034;&#28385;&#36275;&#35774;&#22791;&#30340;&#35201;&#27714;&#65292;&#21253;&#25324;&#25903;&#25345;Display-P3&#39068;&#33394;&#31354;&#38388;&#12290;&#20026;&#20102;&#20943;&#23569;cpu&#21644;gpu&#30340;&#24433;&#21709;&#65292;&#38656;&#35201;&#22312;&#26174;&#31034;pipeline&#24403;&#20013;&#25903;&#25345;&#25193;&#23637;&#30340;sRGB&#36319;HDR10
      </li>
      <li>
        &#25903;&#25345;&#26657;&#20934;&#27969;&#31243;&#30340;&#26174;&#31034;&#35774;&#22791;&#65292;&#26657;&#20934;&#25968;&#25454;&#33267;&#23569;&#24212;&#24403;&#33021;&#22815;&#35753;&#35813;&#35774;&#22791;&#33021;&#22815;&#31934;&#30830;&#24471;&#26174;&#31034;sRGB&#20869;&#23481;&#21644;D65, D73&#30333;&#33394;&#28857;(&#20197;&#21518;&#21487;&#33021;&#20250;&#22686;&#21152;&#23545;ICC&#29305;&#24615;&#30340;&#25903;&#25345;)
      </li>
    </ol>
  </body>
</html></richcontent>
</node>
<node CREATED="1543387340880" ID="ID_672198295" MODIFIED="1543388678715">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23454;&#26045;&#39068;&#33394;&#31649;&#29702;
    </p>
    <p>
      &#20026;&#20102;&#23454;&#29616;&#39068;&#33394;&#31649;&#29702;&#65292;&#24517;&#39035;&#39318;&#20808;&#26356;&#26032;hardware composer 2(HWC2)&#39537;&#21160;&#20197;&#29702;&#35299;&#39068;&#33394;&#27169;&#24335;&#21644;&#23558;
    </p>
    <p>
      &#39068;&#33394;&#27169;&#24335;&#24212;&#29992;&#21040;&#35774;&#22791;&#19978;&#65292;&#29305;&#21035;&#24471;HWC2&#24517;&#39035;&#33021;&#22815;&#25253;&#21578;sRGB&#27169;&#24335;&#36319;Display-P3&#27169;&#24335;&#65292;&#20351;&#29992;&#25509;&#21475;
    </p>
    <p>
      HWCDisplay::GetColorModes
    </p>
    <p>
      
    </p>
    <p>
      &#19979;&#19968;&#27493;&#26159;&#20351;&#33021;OpenGL&#30340;&#30456;&#20851;&#25193;&#23637;&#36319;&#24211;&#65292;&#23558;OpenGL color space&#32763;&#35793;&#25104;<b>hal data spaces</b>
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</map>
